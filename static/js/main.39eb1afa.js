/*! For license information please see main.39eb1afa.js.LICENSE.txt */
(()=>{var e={40:(e,t,n)=>{var r=n(4103),i=n(2748),s=n(6608);function a(e,t,n,r){var s=new i;return s.init({sequence:e,millisecondsPerMeasure:t,options:{soundFontUrl:n},debugCallback:r}).then(function(){return s.prime()}).then(function(){return s.start(),Promise.resolve()})}e.exports=function(e,t,n,i,o){for(var c=new r,l=0;l<e.length;l++){var u=e[l],h=c.addTrack();if(c.setInstrument(h,u.instrument),0===l&&t)for(var d=0;d<t.length;d++){var f=t[d];c.appendNote(h,f.pitch,1/64,f.volume,f.cents)}c.appendNote(h,u.pitch,u.duration,u.volume,u.cents)}var p=s();return"suspended"===p.state?p.resume().then(function(){return a(c,n,i,o)}):a(c,n,i,o)}},66:e=>{e.exports={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"}},219:e=>{e.exports=function(e,t,n,r){this.type="CrescendoElem",this.anchor1=e,this.anchor2=t,this.dir=n,"above"===r?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0}},231:(e,t,n)=>{var r=n(1920),i=n(5645);function s(e){return null!=e&&e.constructor===Object}function a(e,t){for(var n in t)t.hasOwnProperty(n)&&(Array.isArray(t[n])||s(t[n])||(e[n]=t[n]))}function o(e){var t=new r("",0,0,"",0);return a(t,e),t.top=0,t.bottom=-1,e.abcelem&&(t.abcelem={},a(t.abcelem,e.abcelem),"note"===t.abcelem.el_type&&(t.abcelem.el_type="tabNumber")),e.cloned=t,t}function c(e,t){var n=o(e);if(t)for(var r=e.children,s=!0,c=0;c<r.length;c++){var l=r[c],u=new i("",0,0,0,"");a(u,l),s=t.tablature.setRelative(l,u,s),n.children.push(u)}return n}function l(e,t,n){var s="tab.tiny",a=7.5;e.isTabBig&&(s="tab.big",a=10);var o=new r({el_type:"tab",icon:s,Ypos:a},0,0,"symbol",0);o.x=t;var c=new i(s,0,0,7.5,"tab");return c.x=n,o.children.push(c),"tab"==o.abcelem.el_type&&(c.pitch=a),o}function u(e){if(e.extra)for(var t=0;t<e.extra.length;t++){var n=e.extra[t];if("lyric"==n.type)return{bottom:n.bottom,height:n.height}}return null}function h(){this.accidentals=null}function d(e,t,n,r,s){var a=r.num;null!=r.note.quarter&&(a=a.toString(),a+=r.note.quarter);var o=e.semantics.stringToPitch(r.str);n.notes.push({num:a,str:r.str,pitch:r.note.emit()});var c=new i(a,0,0,o+.3,{type:"tabNumber"});return c.x=t,c.isGrace=s,c.isAltered=r.note.isAltered,c}function f(e,t){var n=0;if(e.extra)for(var r=0;r<e.extra.length;r++)if(e.extra[r].c.indexOf("noteheads")>=0){if(n===t)return e.extra[r].x+e.extra[r].w/2;n++}return-1}function p(e){if(e.abcelem){var t=e.abcelem;if(t.rest)return t.gracenotes}return null}function m(e,t,n){var r=e.semantics.notesToNumber(t,n);if(r.error)return e._super.setError(r.error),r;if(r.graces&&r.notes){var i=r.notes.length-1;r.notes[i].graces=r.graces}return r}function g(e,t,n,r,i){for(var s=0;s<r.length;s++){var a={el_type:"note",startChar:n.abcelem.startChar,endChar:n.abcelem.endChar,notes:[],grace:!0},o=d(e,f(n,s),a,r[s],!0);t.children.push(o),i.push(a)}}h.prototype.build=function(e,t,n,r,i,s,a){!function(e){for(var t=0,n=0;n<e.length;n++)e[n].tabNameInfos||t++}(t);var h=t[i+r],v=t[a],b=null,y=null;"clef"!=h.children[0].abcelem.el_type&&"none"!=s&&h.children.splice(0,0,s);for(var x=0;x<h.children.length;x++){var w=h.children[x],_=w.x,k=_;switch(w.isClef&&(v.children.push(l(e,_,k)),w.abcelem.type.indexOf("-8")>=0&&(e.semantics.strings.clefTranspose=-12),w.abcelem.type.indexOf("+8")>=0&&(e.semantics.strings.clefTranspose=12)),w.type){case"staff-extra key-signature":this.accidentals=w.abcelem.accidentals,e.semantics.strings.accidentals=this.accidentals;break;case"bar":e.semantics.strings.measureAccidentals={};var C=!1;x===h.children.length-1&&(C=!0);var E=c(w,e);if(E.abcelem.barNumber){delete E.abcelem.barNumber;for(var S=0;S<E.children.length;S++)if("barNumber"===E.children[S].type){E.children.splice(S,1);break}}E.abcelem.lastBar=C,v.children.push(E),n.push({el_type:w.abcelem.el_type,type:w.abcelem.type,endChar:w.abcelem.endChar,startChar:w.abcelem.startChar,abselem:E});break;case"rest":var T=p(w);if(T){if((b=m(e,null,T)).error)return;L={el_type:"note",startChar:w.abcelem.startChar,endChar:w.abcelem.endChar,notes:[],grace:!0},g(e,N,w,b.graces,n)}break;case"note":var N=o(w);N.x=w.heads[0].x+w.heads[0].w/2,N.lyricDim=u(w);var I=w.abcelem.pitches,P=w.abcelem.gracenotes;if(N.type="tabNumber",(b=m(e,I,P)).error)return;if(b.graces){var A=b.notes.length-1;b.notes[A].graces=b.graces}y={el_type:"note",startChar:w.abcelem.startChar,endChar:w.abcelem.endChar,notes:[]};for(var O=0;O<b.notes.length;O++){var M=b.notes[O];if(M.graces)for(var R=0;R<M.graces.length;R++){var L={el_type:"note",startChar:w.abcelem.startChar,endChar:w.abcelem.endChar,notes:[],grace:!0},j=d(e,f(w,R),L,M.graces[R],!0);N.children.push(j),n.push(L)}var D=d(e,N.x+w.heads[O].dx,y,M,!1);N.children.push(D)}y.notes.length>0&&(y.abselem=N,n.push(y),v.children.push(N))}}},e.exports=h},359:(e,t,n)=>{var r=n(4484),i=n(7578),s=n(4752),a=n(7490),o=n(7015);var c=function(e,t){this.abcjsParams=function(e){var t,n={};if(e.abcjsParams)for(t in e.abcjsParams)e.abcjsParams.hasOwnProperty(t)&&(n[t]=e.abcjsParams[t]);if(e.midi_options)for(t in e.midi_options)e.midi_options.hasOwnProperty(t)&&(n[t]=e.midi_options[t]);if(e.parser_options)for(t in e.parser_options)e.parser_options.hasOwnProperty(t)&&(n[t]=e.parser_options[t]);if(e.render_options)for(t in e.render_options)e.render_options.hasOwnProperty(t)&&(n[t]=e.render_options[t]);return n.tablature&&e.warnings_id&&(n.tablature.warnings_id=e.warnings_id),n}(t),t.indicate_changed&&(this.indicate_changed=!0),this.editarea="string"===typeof e?new o(e):e,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),t.canvas_id?this.div=t.canvas_id:t.paper_id?this.div=t.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),"string"===typeof this.div&&(this.div=document.getElementById(this.div)),t.selectionChangeCallback&&(this.selectionChangeCallback=t.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),t.synth&&s()&&(this.synth={el:t.synth.el,cursorControl:t.synth.cursorControl,options:t.synth.options}),t.generate_midi&&(this.generate_midi=t.generate_midi,this.abcjsParams.generateDownload&&("string"===typeof t.midi_download_id?this.downloadMidi=document.getElementById(t.midi_download_id):t.midi_download_id&&(this.downloadMidi=t.midi_download_id)),!1!==this.abcjsParams.generateInline&&("string"===typeof t.midi_id?this.inlineMidi=document.getElementById(t.midi_id):t.midi_id&&(this.inlineMidi=t.midi_id))),t.warnings_id?"string"===typeof t.warnings_id?this.warningsdiv=document.getElementById(t.warnings_id):this.warningsdiv=t.warnings_id:t.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=t.onchange,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(e,t){return function(e,t){var n=e.className;return n.length>0&&(n===t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(n))}(e,t)||(e.className+=(e.className?" ":"")+t),e},this.removeClassName=function(e,t){return e.className=r.strip(e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ")),e},this.setReadOnly=function(e){var t="abc_textarea_readonly",n=this.editarea.getElem();e?(n.setAttribute("readonly","yes"),this.addClassName(n,t)):(n.removeAttribute("readonly"),this.removeClassName(n,t))}};c.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var e=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(e)}if(this.synth){var t=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new i,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],t,this.synth.options)}},c.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=a(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi()}catch(e){console.error("ABCJS error: ",e),this.warnings||(this.warnings=[]),this.warnings.push(e.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}},c.prototype.paramChanged=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this.abcjsParams[t]=e[t]);this.currentAbc="",this.fireChanged()},c.prototype.synthParamChanged=function(e){if(this.synth){if(this.synth.options={},e)for(var t in e)e.hasOwnProperty(t)&&(this.synth.options[t]=e[t]);this.currentAbc="",this.fireChanged()}},c.prototype.parseABC=function(){var e=this.editarea.getString();return e===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=e,!0)},c.prototype.updateSelection=function(){var e=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(e.start,e.end)}catch(t){}this.selectionChangeCallback&&this.selectionChangeCallback(e.start,e.end)},c.prototype.fireSelectionChanged=function(){this.updateSelection()},c.prototype.setDirtyStyle=function(e){if(void 0!==this.indicate_changed){var t,n,i="abc_textarea_dirty",s=this.editarea.getElem();e?function(e,t){var n=e.className;return n.length>0&&(n===t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(n))}(t=s,n=i)||(t.className+=(t.className?" ":"")+n):function(e,t){e.className=r.strip(e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," "))}(s,i)}},c.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var e=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){e.modelChanged()},300);var t=this.isDirty();this.wasDirty!==t&&(this.wasDirty=t,this.setDirtyStyle(t)),this.onchangeCallback&&this.onchangeCallback(this)}},c.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)},c.prototype.isDirty=function(){return void 0!==this.indicate_changed&&this.editarea.initialText!==this.editarea.getString()},c.prototype.highlight=function(e,t,n,r,i,s){this.editarea.setSelection(e.startChar,e.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(e.startChar,e.endChar),this.clientClickListener&&this.clientClickListener(e,t,n,r,i,s)},c.prototype.pause=function(e){this.bIsPaused=e,e||this.fireChanged()},c.prototype.millisecondsPerMeasure=function(){return this.synth&&this.synth.synthControl&&this.synth.synthControl.visualObj?this.synth.synthControl.visualObj.millisecondsPerMeasure():0},c.prototype.pauseMidi=function(e){this.midiPause=e,e||this.redrawMidi()},e.exports=c},363:e=>{e.exports=function(){for(var e,t,n,r,i,s=0,a=arguments[s++],o=[];a;){if(t=/^[^\x25]+/.exec(a))o.push(t[0]);else if(t=/^\x25{2}/.exec(a))o.push("%");else{if(!(t=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a)))throw"Huh ?!";if(null==(e=arguments[t[1]||s++])||void 0==e)throw"Too few arguments.";if(/[^s]/.test(t[7])&&"number"!=typeof e)throw"Expecting number but found "+typeof e;switch(t[7]){case"b":e=e.toString(2);break;case"c":e=String.fromCharCode(e);break;case"d":e=parseInt(e);break;case"e":e=t[6]?e.toExponential(t[6]):e.toExponential();break;case"f":e=t[6]?parseFloat(e).toFixed(t[6]):parseFloat(e);break;case"o":e=e.toString(8);break;case"s":e=(e=String(e))&&t[6]?e.substring(0,t[6]):e;break;case"u":e=Math.abs(e);break;case"x":e=e.toString(16);break;case"X":e=e.toString(16).toUpperCase()}e=/[def]/.test(t[7])&&t[2]&&e>0?"+"+e:e,r=t[3]?"0"==t[3]?"0":t[3][1]:" ",i=t[5]-String(e).length,n=t[5]?str_repeat(r,i):"",o.push(t[4]?e+n:n+e)}a=a.substring(t[0].length)}return o.join("")}},386:(e,t,n)=>{var r=n(2119);function i(){this.ingroup=!1}i.prototype.beginGroup=function(e,t){this.paper=e,this.controller=t,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()},i.prototype.isInGroup=function(){return this.ingroup},i.prototype.addPath=function(e){if(0!==(e=e||[]).length){e[0][0]="m",e[0][1]=r(e[0][1]-this.lastM[0]),e[0][2]=r(e[0][2]-this.lastM[1]),this.lastM[0]+=e[0][1],this.lastM[1]+=e[0][2],this.path.push(e[0]);for(var t=1,n=e.length;t<n;t++)"m"===e[t][0]&&(this.lastM[0]+=e[t][1],this.lastM[1]+=e[t][2]),this.path.push(e[t])}},i.prototype.endGroup=function(e,t){this.ingroup=!1;for(var n=0;n<this.path.length;n++)this.path[n].join(" ");this.path=[];var r=this.paper.closeGroup();return r&&(r.setAttribute("class",this.controller.classes.generate(e)),r.setAttribute("fill",this.controller.renderer.foregroundColor),r.setAttribute("stroke","none"),r.setAttribute("data-name",t)),r};var s=new i;e.exports=s},433:(e,t,n)=>{var r,i=n(4226);!function(){"use strict";function e(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n]);return e}function t(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}t.prototype.setTempo=function(e){0===this.trackcount&&(this.startTrack(),this.track+="%00%FF%51%03"+s(Math.round(6e7/e),6),this.endTrack())},t.prototype.setGlobalInfo=function(e,t,r,i){if(0===this.trackcount){this.startTrack();var a=Math.round(6e7/e);this.track+="%00%FF%51%03"+s(a,6),r&&(this.track+=function(e){if(!e||!e.accidentals)return"";for(var t="%00%FF%59%02",n=0,r=256,i=0;i<e.accidentals.length;i++)"sharp"===e.accidentals[i].acc?n++:"flat"===e.accidentals[i].acc&&r--;var a=s(256!==r?r:n,2),o="m"===e.mode?"%01":"%00";return t+a+o}(r)),i&&(this.track+=function(e){var t,n="%00%FF%58%04"+s(e.num,2),r={1:0,2:1,4:2,8:3,16:4,32:5}[e.den];if(!r)return"";switch(n+=s(r,2),e.num+"/"+e.den){case"2/4":case"3/4":case"4/4":case"5/4":t=24;break;case"6/4":t=72;break;case"2/2":case"3/2":case"4/2":t=48;break;case"3/8":case"6/8":case"9/8":case"12/8":t=36}return t?(n+=s(t,2))+"%08":""}(i)),t&&(this.track+=n(t,"%01")),this.endTrack()}},t.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},t.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var e=s(this.track.length/3+4,8);this.track="MTrk"+e+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},t.prototype.setText=function(e,t){if("name"===e)this.trackName=n(t,"%03")},t.prototype.setInstrument=function(e){this.trackInstrument="%00%C0"+s(e,2),this.instrument=e},t.prototype.setChannel=function(e,t){this.channel=e;var n="%00%B"+this.channel.toString(16);this.track+=n+"%79%00",this.track+=n+"%40%00",this.track+=n+"%5B%30",t||(t=0),t=Math.round(64*(t+1)),this.track+=n+"%0A"+s(t,2),this.track+=n+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};function n(e,t){for(var n="",r=0;r<e.length;r++)n+=s(e.charCodeAt(r),2);return"%00%FF"+t+s(n.length/3,2)+n}function s(e,t){var n=e.toString(16);for(n=n.split(".")[0];n.length<t;)n="0"+n;return n.length>t&&(n=n.substring(0,t)),function(e){for(var t="",n=0;n<e.length;n+=2)t+="%",t+=e.substr(n,2);return t}(n)}function a(e){var t=(e=Math.round(e))%128;return s(2*(e-t)+t,4)}function o(e){var t=0,n=[];for(e=Math.round(e);0!==e;)n.push(127&e),e>>=7;for(var r=n.length-1;r>=0;r--){t<<=8;var i=n[r];0!==r&&(i|=128),t|=i}var a=t.toString(16).length;return s(t,a+=a%2)}t.prototype.startNote=function(e,t,n){if(this.track+=o(this.silencelength),this.silencelength=0,n){this.track+="%e"+this.channel.toString(16);var r=Math.round(4096*i(n));this.track+=a(8192+r),this.track+=o(0),this.noteWarped[e]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+e.toString(16)+s(t,2)},t.prototype.endNote=function(e){this.track+=o(this.silencelength),this.silencelength=0,this.noteWarped[e]&&(this.track+="%e"+this.channel.toString(16),this.track+=a(8192),this.track+=o(0),this.noteWarped[e]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+e.toString(16)+"%00"},t.prototype.addRest=function(e){this.silencelength+=e,this.silencelength<0&&(this.silencelength=0)},t.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+s(this.trackcount,4)+"%01%e0"+this.trackstrings},t.prototype.embed=function(t,n){var r=this.getData(),i=e(document.createElement("a"),{href:r});if(i.innerHTML="download midi",t.insertBefore(i,t.firstChild),!n){var s=e(document.createElement("embed"),{src:r,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});t.insertBefore(s,t.firstChild)}},r=function(){return new t}}(),e.exports=r},499:e=>{e.exports="6.2.3"},558:(e,t,n)=>{var r=n(1588),i=n(2119);function s(e,t,n,r,s,a){n=i(e.calcY(n)),s=i(e.calcY(s)),t=i(t),r=i(r);var o=i(n+a);return"M"+t+" "+n+" L"+r+" "+s+"L"+r+" "+i(s+a)+" L"+t+" "+o+"z"}function a(e,t,n,r,i){return(i-n)/(r-t)}function o(e,t,n,r){return t+(r-e)*n}e.exports=function(e,t){if(0!==t.beams.length){for(var n="",i=0;i<t.beams.length;i++){var c=t.beams[i];if(c.split){for(var l=a(e,c.startX,c.startY,c.endX,c.endY),u=[],h=0;h<c.split.length;h+=2)u.push([c.split[h],c.split[h+1]]);for(h=0;h<u.length;h++){var d=o(c.startX,c.startY,l,u[h][0]),f=o(c.startX,c.startY,l,u[h][1]);n+=s(e,u[h][0],d,u[h][1],f,c.dy)}}else n+=s(e,c.startX,c.startY,c.endX,c.endY,c.dy)}var p=("abcjs-d"+t.duration).replace(/\./g,"-"),m=e.controller.classes.generate("beam-elem "+p);return[r(e,{path:n,stroke:"none",fill:e.foregroundColor,class:m})]}}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},764:(e,t,n)=>{var r=n(4484);e.exports=function(e){"use strict";for(var t="",n=e.match(/(\s*)/),i=(e=r.strip(e)).split("\nX:"),s=1;s<i.length;s++)i[s]="X:"+i[s];var a=n?n[0].length:0,o=[];(i.forEach(function(e){o.push({abc:e,startPos:a}),a+=e.length+1}),o.length>1&&!r.startsWith(o[0].abc,"X:"))&&o.shift().abc.split("\n").forEach(function(e){r.startsWith(e,"%%")&&(t+=e+"\n")});var c=t;return o.forEach(function(e){var n=e.abc.indexOf("\n\n");n>0&&(e.abc=e.abc.substring(0,n)),e.pure=e.abc,e.abc=t+e.abc,e.title="";var i=e.pure.split("T:");i.length>1&&(i=i[1].split("\n"),e.title=r.strip(i[0]));var s=e.pure.substring(2,e.pure.indexOf("\n"));e.id=r.strip(s)}),{header:c,tunes:o}}},874:(e,t,n)=>{var r=n(3050),i=n(219),s=n(2577),a=n(1667),o=n(5645),c=n(1141),l=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},u=function(e,t,n,r,i){function s(e,t){var s="down"===i?function(){if(0===r.heads.length)return 2;for(var e=r.heads[0].pitch,t=1;t<r.heads.length;t++)e=Math.min(e,r.heads[t].pitch);return e}()+1:function(){if(0===r.heads.length)return 10;for(var e=r.heads[0].pitch,t=1;t<r.heads.length;t++)e=Math.max(e,r.heads[t].pitch);return e}()+9;"down"!==i&&1===t&&s--;var c=n/2;c+="down"===i?-5:3;for(var l=0;l<t;l++)s-=1,r.addFixedX(new o(e,c,a.getSymbolWidth(e),s))}for(var c=0;c<e.length;c++)switch(e[c]){case"/":s("flags.ugrace",1);break;case"//":s("flags.ugrace",2);break;case"///":s("flags.ugrace",3);break;case"////":s("flags.ugrace",4)}};l.prototype.dynamicDecoration=function(e,t,n,r){for(var a,o,c,l=0;l<t.length;l++)switch(t[l]){case"diminuendo(":this.startDiminuendoX=n,a=void 0;break;case"diminuendo)":a={start:this.startDiminuendoX,stop:n},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=n,o=void 0;break;case"crescendo)":o={start:this.startCrescendoX,stop:n},this.startCrescendoX=void 0;break;case"~(":case"glissando(":this.startGlissandoX=n,c=void 0;break;case"~)":case"glissando)":c={start:this.startGlissandoX,stop:n},this.startGlissandoX=void 0}a&&e.addOther(new i(a.start,a.stop,">",r)),o&&e.addOther(new i(o.start,o.stop,"<",r)),c&&e.addOther(new s(c.start,c.stop))},l.prototype.createDecoration=function(e,t,n,i,s,l,h,d,f,p){f||(f={ornamentPosition:"above",volumePosition:p?"above":"below",dynamicPosition:p?"above":"below"}),function(e,t,n,i){for(var s=0;s<t.length;s++)switch(t[s]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var a=new r(n,t[s],i);e.addOther(a)}}(e,t,s,f.volumePosition),this.dynamicDecoration(e,t,s,f.dynamicPosition),u(t,0,i,s,h);var m=function(e,t,n,r,i,s,l,u){for(var h,d=0;d<t.length;d++){if("staccato"===t[d]||"tenuto"===t[d]||"accent"===t[d]){var f="scripts."+t[d];if("accent"===t[d]&&(f="scripts.sforzato"),h=void 0===h?"down"===l?n+2:u-2:"down"===l?h+2:h-2,"accent"===t[d])"up"===l?h--:h++;else switch(h){case 2:case 4:case 6:case 8:case 10:"up"===l?h--:h++}n>9&&h++;var p=r/2;"center"!==a.getSymbolAlign(f)&&(p-=a.getSymbolWidth(f)/2),i.addFixedX(new o(f,p,a.getSymbolWidth(f),h))}if("slide"===t[d]&&i.heads[0]){var m=i.heads[0].pitch,g=new o("",-s-15,0,(m-=2)-1),v=new o("",-s-5,0,m+1);i.addFixedX(g),i.addFixedX(v),e.addOther(new c({anchor1:g,anchor2:v,fixedY:!0}))}}return void 0===h&&(h=n),{above:h,below:i.bottom}}(e,t,n,i,s,l,h,d);m.above=Math.max(m.above,this.minTop);!function(e,t,n,r,i,s,c){function l(e,t){"above"===e?r.above+=t:r.below-=t}function u(e){var t;return"above"===e?(t=r.above)<s&&(t=s):(t=r.below)>c&&(t=c),t}function h(e,r,i){var s=u(r);n.addFixedX(new o(e,t/2,0,s+2,{type:"decoration",klass:"ornament",thickness:3,anchor:i})),l(r,5)}function d(e,r){var i=t/2;"center"!==a.getSymbolAlign(e)&&(i-=a.getSymbolWidth(e)/2);var s=a.symbolHeightInPitches(e)+1,c=u(r);c="above"===r?c+s/2:c-s/2,n.addFixedX(new o(e,i,a.getSymbolWidth(e),c,{klass:"ornament",thickness:a.symbolHeightInPitches(e)})),l(r,s)}for(var f={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},p=!1,m=0;m<e.length;m++)switch(e[m]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":h(e[m],i,"middle"),p=!0;break;case"D.C.alcoda":h("D.C. al coda",i,"end"),p=!0;break;case"D.C.alfine":h("D.C. al fine",i,"end"),p=!0;break;case"D.S.alcoda":h("D.S. al coda",i,"end"),p=!0;break;case"D.S.alfine":h("D.S. al fine",i,"end"),p=!0;break;case"fine":h("FINE",i,"middle"),p=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":d(f[e[m]],i),p=!0;break;case"invertedfermata":d(f[e[m]],"below"),p=!0;break;case"mark":n.klass="mark"}}(t,i,s,m,f.ornamentPosition,this.minTop,this.minBottom);!function(e,t,n){for(var r=0;r<e.length;r++)if("arpeggio"===e[r])for(var i=t.abcelem.minpitch-1;i<=t.abcelem.maxpitch;i+=2)t.addExtra(new o("scripts.arpeggio",2*-a.getSymbolWidth("scripts.arpeggio")-n,0,i+2,{klass:"ornament",thickness:a.symbolHeightInPitches("scripts.arpeggio")}))}(t,s,l)},e.exports=l},904:e=>{var t={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};e.exports=function(e){var n=(e.accidental?e.accidental[0]:"x")+e.verticalPos;return t[n]}},929:(e,t,n)=>{var r=n(8146);function i(e){for(var t=0;t<e.length;t++)if(!r.layoutEnded(e[t]))return!1;return!0}function s(e){return e.durationindex-(e.children[e.i]&&e.children[e.i].duration>0?0:5e-7)}function a(e,t){return!!(e&&e.staff&&e.staff.voices&&0!==e.staff.voices.length)&&(!!(t&&t.staff&&t.staff.voices&&0!==t.staff.voices.length)&&e.staff.voices[0]===t.staff.voices[0])}e.exports=function(e,t,n,o,c){var l,u=0,h=1e3,d=c;o.startx=d;var f=0;for(n&&console.log("init layout",e),l=0;l<o.voices.length;l++)r.beginLayout(d,o.voices[l]);for(var p=0;!i(o.voices);){for(f=null,l=0;l<o.voices.length;l++)r.layoutEnded(o.voices[l])||f&&!(s(o.voices[l])<f)||(f=s(o.voices[l]));var m=[],g=[];for(l=0;l<o.voices.length;l++){s(o.voices[l])-f>1e-7?g.push(o.voices[l]):m.push(o.voices[l])}p=0;var v=0;for(l=0;l<m.length;l++)r.getNextX(m[l])>d&&(d=r.getNextX(m[l]),p=r.getSpacingUnits(m[l]),v=m[l].spacingduration);u+=p,h=Math.min(h,p),n&&console.log("currentduration: ",f,u,h);var b=void 0;for(l=0;l<m.length;l++){var y=m[l];0===y.voicenumber&&(b=l);var x=void 0!==b&&m[b].voicenumber!==y.voicenumber?m[b]:void 0;a(y,x)||(x=void 0);var w=r.layoutOneItem(d,e,y,t.minPadding,x),_=w-d;if(_>0){d=w;for(var k=0;k<l;k++)r.shiftRight(_,m[k])}}for(l=0;l<g.length;l++)g[l].spacingduration-=v,r.updateNextX(d,e,g[l]);for(l=0;l<m.length;l++){var C=m[l];r.updateIndices(C)}}for(l=0;l<o.voices.length;l++)r.getNextX(o.voices[l])>d&&(d=r.getNextX(o.voices[l]),p=r.getSpacingUnits(o.voices[l]));return function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];if(r.children.length>0){var i=r.children.length-1,s=r.children[i];if("bar"===s.abcelem.el_type){var a=s.children[0].x;a>t?t=a:s.children[0].x=t}}}}(o.voices),u+=p,o.setWidth(d),{spacingUnits:u,minSpace:h}}},992:(e,t,n)=>{var r=n(1158),i=n(5797),s=n(2549),a=n(4633),o=n(386);e.exports=function(e,t,n,c,l){if(!t.invisible){var u=t.children.length>0&&"TempoElement"===t.children[0].type;t.elemset=[],o.beginGroup(e.paper,e.controller);for(var h=0;h<t.children.length;h++){var d=t.children[h];if("TempoElement"===d.type)r(e,d);else i(e,d,n)}var f=t.type;if(("note"===t.type||"rest"===t.type)&&(t.counters=e.controller.classes.getCurrent(),f=(f+=" d"+Math.round(1e3*t.durationClass)/1e3).replace(/\./g,"-"),t.abcelem.pitches))for(var p=0;p<t.abcelem.pitches.length;p++)f+=" p"+t.abcelem.pitches[p].pitch;var m=o.endGroup(f,t.type);if(m){if(t.cloned&&(t.cloned.overrideClasses=m.className.baseVal),t.overrideClasses){var g=m.classList&&m.classList.length>0?m.classList[0]+" ":"";m.setAttribute("class",g+t.overrideClasses)}if(u)t.startChar=t.abcelem.startChar,t.endChar=t.abcelem.endChar,c.add(t,m,!1,l);else{t.elemset.push(m);var v=!1;"note"!==t.type&&"tabNumber"!==t.type||(v=!0),c.add(t,m,v,l)}}else t.elemset.length>0&&c.add(t,t.elemset[0],"note"===t.type,l);if(t.klass&&a(t.elemset,"mark","","#00ff00"),t.hint&&a(t.elemset,"abcjs-hint","",null),t.abcelem.abselem=t,t.heads&&t.heads.length>0){t.notePositions=[];for(var b=0;b<t.heads.length;b++)t.notePositions.push({x:t.heads[b].x+t.heads[b].w/2,y:l.zero-t.heads[b].pitch*s.STEP})}}}},1051:(e,t,n)=>{var r=n(8706),i=n(1667),s=n(386);function a(e,t,n){var r=n;return"f"===e&&"f"===t&&(r=2*r/3),"p"===e&&"p"===t&&(r=5*r/6),"f"===e&&"z"===t&&(r=5*r/8),r}e.exports=function(e,t,n,o,c){var l,u;if(!o)return null;if(o.length>1&&o.indexOf(".")<0){var h=s.isInGroup()?"":c.klass;e.paper.openGroup({"data-name":c.name,klass:h});for(var d=0,f=0;f<o.length;f++){var p=o[f];u=i.getYCorr(p),(l=i.printSymbol(t+d,e.calcY(n+u),p,e.paper,{stroke:c.stroke,fill:c.fill}))?f<o.length-1&&(d+=a(p,o[f+1],i.getSymbolWidth(p))):r(e,{x:t,y:e.y,text:"no symbol:"+o,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}return e.paper.closeGroup()}return u=i.getYCorr(o),(l=s.isInGroup()?i.printSymbol(t,e.calcY(n+u),o,e.paper,{"data-name":c.name}):i.printSymbol(t,e.calcY(n+u),o,e.paper,{klass:c.klass,stroke:c.stroke,fill:c.fill,"data-name":c.name}))?l:(r(e,{x:t,y:e.y,text:"no symbol:"+o,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}},1141:e=>{var t=function(e){this.type="TieElem",this.anchor1=e.anchor1,this.anchor2=e.anchor2,e.isGrace&&(this.isGrace=!0),e.fixedY&&(this.fixedY=!0),e.stemDir&&(this.stemDir=e.stemDir),void 0!==e.voiceNumber&&(this.voiceNumber=e.voiceNumber),void 0!==e.style&&(this.dotted=!0),this.internalNotes=[]};t.prototype.addInternalNote=function(e){this.internalNotes.push(e)},t.prototype.setEndAnchor=function(e){this.anchor2=e,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)},t.prototype.setStartX=function(e){this.startLimitX=e},t.prototype.setEndX=function(e){this.endLimitX=e},t.prototype.setHint=function(){this.hint=!0},t.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(0===this.voiceNumber)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e;e=this.anchor1?this.anchor1.pitch:this.anchor2?this.anchor2.pitch:14,this.anchor1&&"down"===this.anchor1.stemDir&&this.anchor2&&"down"===this.anchor2.stemDir?this.above=!0:this.anchor1&&"up"===this.anchor1.stemDir&&this.anchor2&&"up"===this.anchor2.stemDir?this.above=!1:this.anchor1&&this.anchor2?this.above=e>=6:this.anchor1?this.above="down"===this.anchor1.stemDir:this.anchor2?this.above="down"===this.anchor2.stemDir:this.above=e>=6}},t.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(0===this.voiceNumber)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e=!1;this.anchor1&&"down"===this.anchor1.stemDir&&(e=!0),this.anchor2&&"down"===this.anchor2.stemDir&&(e=!0);for(var t=0;t<this.internalNotes.length;t++){"down"===this.internalNotes[t].stemDir&&(e=!0)}this.above=e}},t.prototype.calcX=function(e,t){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=e,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=t},t.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0},t.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&"up"===this.anchor1.stemDir&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var e=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,t=(this.anchor2.highestVert+this.anchor2.pitch)/2;this.above&&"up"===this.anchor2.stemDir&&!this.fixedY&&!e&&t<this.startY?(this.endY=t,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&e?this.anchor2.highestVert:this.anchor2.pitch}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)},t.prototype.avoidCollisionAbove=function(){if(this.above){for(var e=-50,t=0;t<this.internalNotes.length;t++)this.internalNotes[t].highestVert>e&&(e=this.internalNotes[t].highestVert);e>this.startY&&e>this.endY&&(this.startY=this.endY=e-1)}},e.exports=t},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},1158:(e,t,n)=>{var r=n(5797),i=n(8706);e.exports=function(e,t){var n=t.x;void 0===t.pitch&&window.console.error("Tempo Element y-coordinate not set."),t.tempo.el_type="tempo";var s,a=e.calcY(t.pitch)+2;if(t.tempo.preString){s=i(e,{x:n,y:a,text:t.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,"dominant-baseline":"ideographic",name:"pre"},!0);var o=e.controller.getTextSize.calc(t.tempo.preString,"tempofont","tempo",s).width;n+=o+o/t.tempo.preString.length}if(t.note){t.note.setX(n);for(var c=0;c<t.note.children.length;c++)r(e,t.note.children[c],n);n+=t.note.w+5;var l="= "+t.tempo.bpm;s=i(e,{x:n,y:a,text:l,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"});var u=e.controller.getTextSize.calc(l,"tempofont","tempo",s).width;n+=u+u/l.length}t.tempo.postString&&i(e,{x:n,y:a,text:t.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}},1412:e=>{e.exports.legalAccents=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"],e.exports.volumeDecorations=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"],e.exports.dynamicDecorations=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)","~(","~)"],e.exports.accentPseudonyms=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]],e.exports.accentDynamicPseudonyms=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]],e.exports.nonDecorations="ABCDEFGabcdefgxyzZ[]|^_{",e.exports.durations=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875],e.exports.pitches={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11},e.exports.rests={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"},e.exports.accMap={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"},e.exports.tripletQ={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2}},1423:(e,t,n)=>{var r,i=n(433);!function(){"use strict";function e(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;i++)r[i]=parseFloat(r[i]);r.sort(function(e,t){return e-t});for(var s=0,a=0;a<r.length;a++){var o=t[r[a]];if(r[a]>s){var c=(r[a]-s)*n;e.addRest(c),s=r[a]}for(var l=0;l<o.length;l++){var u=o[l];u.volume?e.startNote(u.pitch,u.volume,u.cents):e.endNote(u.pitch)}}}r=function(t,n){void 0===n&&(n={});var r=t.setUpAudio(n),s=i(),a=t.metaText?t.metaText.title:void 0;a&&a.length>128&&(a=a.substring(0,124)+"...");var o=t.getKeySignature(),c=t.getMeterFraction(),l=r.tempo/60;s.setGlobalInfo(r.tempo,a,o,c);for(var u=0;u<r.tracks.length;u++){s.startTrack();for(var h={},d=0;d<r.tracks[u].length;d++){var f=r.tracks[u][d];switch(f.cmd){case"text":s.setText(f.type,f.text);break;case"program":var p=0;n.pan&&n.pan.length>u&&(p=n.pan[u]),128===f.instrument?(s.setChannel(9,p),s.setInstrument(0)):(s.setChannel(f.channel,p),s.setInstrument(f.instrument));break;case"note":var m=f.gap*l,g=f.start,v=g+f.duration-m;h[g]||(h[g]=[]),h[g].push({pitch:f.pitch,volume:f.volume,cents:f.cents}),h[v]||(h[v]=[]),h[v].push({pitch:f.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+f.cmd)}}e(s,h,1920),s.endTrack()}return s.getData()}}(),e.exports=r},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},1579:(e,t,n)=>{var r=n(1051);e.exports=function(e,t,n){void 0===t.pitch&&window.console.error("Dynamic Element y-coordinate not set.");var i=r(e,t.anchor.x,t.pitch,t.dec,{scalex:1,scaley:1,klass:e.controller.classes.generate("decoration dynamics"),fill:e.foregroundColor,stroke:"none",name:"dynamics"});return n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:t.dec},i),[i]}},1588:e=>{e.exports=function(e,t,n){return e.paper.path(t)}},1600:(e,t,n)=>{var r=n(4484),i=n(5980),s=n(9427);e.exports=function(e,t,n,a,o){this.reset=function(e,t,n,r){s.initialize(e,t,n,r,o),i.initialize(e,t,n,r,o)},this.reset(e,t,n,a),this.setTitle=function(t){if(n.hasMainTitle)o.addSubtitle(e.translateString(e.stripComment(t)),{startChar:n.iChar,endChar:n.iChar+t.length+2});else{var r=e.translateString(e.theReverser(e.stripComment(t)));n.titlecaps&&(r=r.toUpperCase()),o.addMetaText("title",r,{startChar:n.iChar,endChar:n.iChar+t.length+2}),n.hasMainTitle=!0}},this.setMeter=function(r){if("C"===(r=e.stripComment(r)))return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"common_time"};if("C|"===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"cut_time"};if("o"===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum"};if("c"===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum"};if("o."===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if("c."===r)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(0===r.length||"none"===r.toLowerCase())return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),null;var i=e.tokenize(r,0,r.length);try{var s=function(){var e=function(){var e={value:0,num:""},t=i.shift();for("("===t.token&&(t=i.shift());;){if("number"!==t.type)throw"Expected top number of meter";if(e.value+=parseInt(t.token),e.num+=t.token,0===i.length||"/"===i[0].token)return e;if(")"===(t=i.shift()).token){if(0===i.length||"/"===i[0].token)return e;throw"Unexpected paren in meter"}if("."!==t.token&&"+"!==t.token)throw"Expected top number of meter";if(e.num+=t.token,0===i.length)throw"Expected top number of meter";t=i.shift()}return e}();if(0===i.length)return e;var t=i.shift();if("/"!==t.token)throw"Expected slash in meter";if("number"!==(t=i.shift()).type)throw"Expected bottom number of meter";return e.den=t.token,e.value=e.value/parseInt(e.den),e};if(0===i.length)throw"Expected meter definition in M: line";for(var a={type:"specified",value:[]},o=0;;){var c=s();o+=c.value;var l={num:c.num};if(void 0!==c.den&&(l.den=c.den),a.value.push(l),0===i.length)break}return!0===n.havent_set_length&&(n.default_length=o<.75?.0625:.125,n.havent_set_length=!1),a}catch(u){t(u,r,0)}return null},this.calcTempo=function(e){var t=1/4;n.meter&&"specified"===n.meter.type?t=1/parseInt(n.meter.value[0].den):n.origMeter&&"specified"===n.origMeter.type&&(t=1/parseInt(n.origMeter.value[0].den));for(var r=0;r<e.duration;r++)e.duration[r]=t*e.duration[r];return e},this.resolveTempo=function(){n.tempo&&(this.calcTempo(n.tempo),a.metaText.tempo=n.tempo,delete n.tempo)},this.addUserDefinition=function(e,i,s){var a=e.indexOf("=",i);if(-1!==a){var o=r.strip(e.substring(i,a)),c=r.strip(e.substring(a+1));if(1===o.length){-1!=="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~".indexOf(o)?0!==c.length?(void 0===n.macros&&(n.macros={}),n.macros[o]=c):t("Missing macro definition",e,i):t("Macro definitions must be H-Y, h-w, or tilde",e,i)}else t("Macro definitions can only be one character",e,i)}else t("Need an = in a macro definition",e,i)},this.setDefaultLength=function(e,t,r){var i=e.substring(t,r).replace(/ /g,"").split("/");if(2===i.length){var s=parseInt(i[0]),a=parseInt(i[1]);a>0&&(n.default_length=s/a,n.havent_set_length=!1)}else 1===i.length&&"1"===i[0]&&(n.default_length=1,n.havent_set_length=!1)};var c={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(r,i,s,a){try{var o=e.tokenize(r,i,s);if(0===o.length)throw"Missing parameter in Q: field";var l={startChar:a+i-2,endChar:a+s},u=!0,h=o.shift();if("quote"===h.type&&(l.preString=h.token,h=o.shift(),0===o.length))return c[l.preString.toLowerCase()]&&(l.bpm=c[l.preString.toLowerCase()],l.suppressBpm=!0),{type:"immediate",tempo:l};if("alpha"===h.type&&"C"===h.token){if(0===o.length)throw"Missing tempo after C in Q: field";if("punct"===(h=o.shift()).type&&"="===h.token){if(0===o.length)throw"Missing tempo after = in Q: field";if("number"!==(h=o.shift()).type)throw"Expected number after = in Q: field";l.duration=[1],l.bpm=parseInt(h.token)}else{if("number"!==h.type)throw"Expected number or equal after C in Q: field";if(l.duration=[parseInt(h.token)],0===o.length)throw"Missing = after duration in Q: field";if("punct"!==(h=o.shift()).type||"="!==h.token)throw"Expected = after duration in Q: field";if(0===o.length)throw"Missing tempo after = in Q: field";if("number"!==(h=o.shift()).type)throw"Expected number after = in Q: field";l.bpm=parseInt(h.token)}}else{if("number"!==h.type)throw"Unknown value in Q: field";var d=parseInt(h.token);if(0===o.length||"quote"===o[0].type)l.duration=[1],l.bpm=d;else{if(u=!1,"punct"!==(h=o.shift()).type&&"/"!==h.token)throw"Expected fraction in Q: field";if("number"!==(h=o.shift()).type)throw"Expected fraction in Q: field";var f=parseInt(h.token);for(l.duration=[d/f];o.length>0&&"="!==o[0].token&&"quote"!==o[0].type;){if("number"!==(h=o.shift()).type)throw"Expected fraction in Q: field";if(d=parseInt(h.token),"punct"!==(h=o.shift()).type&&"/"!==h.token)throw"Expected fraction in Q: field";if("number"!==(h=o.shift()).type)throw"Expected fraction in Q: field";f=parseInt(h.token),l.duration.push(d/f)}if("punct"!==(h=o.shift()).type&&"="!==h.token)throw"Expected = in Q: field";if("number"!==(h=o.shift()).type)throw"Expected tempo in Q: field";l.bpm=parseInt(h.token)}}if(0!==o.length&&("quote"===(h=o.shift()).type&&(l.postString=h.token,h=o.shift()),0!==o.length))throw"Unexpected string at end of Q: field";return!1===n.printTempo&&(l.suppress=!0),{type:u?"delaySet":"immediate",tempo:l}}catch(p){return t(p,r,i),{type:"none"}}},this.letter_to_inline_header=function(r,c,l){var u=e.eatWhiteSpace(r,c);if(c+=u,r.length>=c+5&&"["===r[c]&&":"===r[c+2]){var h=r.indexOf("]",c),d=n.iChar+c,f=n.iChar+h+1;switch(r.substring(c,c+3)){case"[I:":var p=i.addDirective(r.substring(c+3,h));return p&&t(p,r,c),[h-c+1+u];case"[M:":var m=this.setMeter(r.substring(c+3,h));return o.hasBeginMusic()&&m?o.appendStartingElement("meter",d,f,m):n.meter=m,[h-c+1+u];case"[K:":var g=s.parseKey(r.substring(c+3,h),!0);return g.foundClef&&o.hasBeginMusic()&&o.appendStartingElement("clef",d,f,n.clef),g.foundKey&&o.hasBeginMusic()&&o.appendStartingElement("key",d,f,s.fixKey(n.clef,n.key)),[h-c+1+u];case"[P:":return l||a.lines.length<=a.lineNum?n.partForNextLine={title:r.substring(c+3,h),startChar:d,endChar:f}:o.appendElement("part",d,f,{title:r.substring(c+3,h)}),[h-c+1+u];case"[L:":return this.setDefaultLength(r,c+3,h),[h-c+1+u];case"[Q:":if(h>0){var v=this.setTempo(r,c+3,h,n.iChar);return"delaySet"===v.type?o.hasBeginMusic()?o.appendElement("tempo",d,f,this.calcTempo(v.tempo)):n.tempoForNextLine=["tempo",d,f,this.calcTempo(v.tempo)]:"immediate"===v.type&&(!l&&o.hasBeginMusic()?o.appendElement("tempo",d,f,v.tempo):n.tempoForNextLine=["tempo",d,f,v.tempo]),[h-c+1+u,r[c+1],r.substring(c+3,h)]}break;case"[V:":if(h>0)return s.parseVoice(r,c+3,h),[h-c+1+u,r[c+1],r.substring(c+3,h)];break;case"[r:":return[h-c+1+u]}}return[0]},this.letter_to_body_header=function(e,a){if(e.length>=a+3)switch(e.substring(a,a+2)){case"I:":var c=i.addDirective(e.substring(a+2));return c&&t(c,e,a),[e.length];case"M:":var l=this.setMeter(e.substring(a+2));return o.hasBeginMusic()&&l&&o.appendStartingElement("meter",n.iChar+a,n.iChar+e.length,l),[e.length];case"K:":var u=s.parseKey(e.substring(a+2),o.hasBeginMusic());return u.foundClef&&o.hasBeginMusic()&&o.appendStartingElement("clef",n.iChar+a,n.iChar+e.length,n.clef),u.foundKey&&o.hasBeginMusic()&&o.appendStartingElement("key",n.iChar+a,n.iChar+e.length,s.fixKey(n.clef,n.key)),[e.length];case"P:":return o.hasBeginMusic()&&o.appendElement("part",n.iChar+a,n.iChar+e.length,{title:e.substring(a+2)}),[e.length];case"L:":return this.setDefaultLength(e,a+2,e.length),[e.length];case"Q:":var h=e.indexOf("\x12",a+2);-1===h&&(h=e.length);var d=this.setTempo(e,a+2,h,n.iChar);return"delaySet"===d.type?o.appendElement("tempo",n.iChar+a,n.iChar+e.length,this.calcTempo(d.tempo)):"immediate"===d.type&&o.appendElement("tempo",n.iChar+a,n.iChar+e.length,d.tempo),[h,e[a],r.strip(e.substring(a+2))];case"V:":return s.parseVoice(e,a+2,e.length),[e.length,e[a],r.strip(e.substring(a+2))]}return[0]};var l={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(r){var c=l[r[0]];if(void 0!==c)return"unalignedWords"===c?o.addMetaTextArray(c,i.parseFontChangeLine(e.translateString(e.stripComment(r.substring(2)))),{startChar:n.iChar,endChar:n.iChar+r.length}):o.addMetaText(c,e.translateString(e.stripComment(r.substring(2))),{startChar:n.iChar,endChar:n.iChar+r.length}),{};var u=n.iChar,h=u+r.length;switch(r[0]){case"H":for(o.addMetaText("history",e.translateString(e.stripComment(r.substring(2))),{startChar:n.iChar,endChar:n.iChar+r.length}),r=e.peekLine();r&&":"!==r[1];)e.nextLine(),o.addMetaText("history",e.translateString(e.stripComment(r)),{startChar:n.iChar,endChar:n.iChar+r.length}),r=e.peekLine();break;case"K":this.resolveTempo();var d=s.parseKey(r.substring(2),!1);!n.is_in_header&&o.hasBeginMusic()&&(d.foundClef&&o.appendStartingElement("clef",u,h,n.clef),d.foundKey&&o.appendStartingElement("key",u,h,s.fixKey(n.clef,n.key))),n.is_in_header=!1;break;case"L":this.setDefaultLength(r,2,r.length);break;case"M":n.origMeter=n.meter=this.setMeter(r.substring(2));break;case"P":n.is_in_header?o.addMetaText("partOrder",e.translateString(e.stripComment(r.substring(2))),{startChar:n.iChar,endChar:n.iChar+r.length}):n.partForNextLine={title:e.translateString(e.stripComment(r.substring(2))),startChar:u,endChar:h};break;case"Q":var f=this.setTempo(r,2,r.length,n.iChar);"delaySet"===f.type?n.tempo=f.tempo:"immediate"===f.type&&(a.metaText.tempo?n.tempoForNextLine=["tempo",u,h,f.tempo]:a.metaText.tempo=f.tempo);break;case"T":this.setTitle(r.substring(2));break;case"U":this.addUserDefinition(r,2,r.length);break;case"V":if(s.parseVoice(r,2,r.length),!n.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":t("Ignored header",r,0);break;default:return{regular:!0}}return{}}}},1642:(e,t,n)=>{var r,i,s,a,o,c,l=n(4484),u=n(9427),h=n(2518),{legalAccents:d,volumeDecorations:f,dynamicDecorations:p,accentPseudonyms:m,accentDynamicPseudonyms:g,nonDecorations:v,durations:b,pitches:y,rests:x,accMap:w,tripletQ:_}=n(1412),k=function(e,t,n,l,u,h){r=e,i=t,s=n,a=l,o=u,c=h,this.lineContinuation=!1},C=function(e,t,n){if(void 0===e.inTie[t])return!1;var r=e.currentVoice?100*e.currentVoice.staffNum+e.currentVoice.index:0;return!(!e.inTie[t][r]||void 0===n.pitches&&"spacer"===n.rest.type)},E={};k.prototype.parseMusic=function(e){c.resolveTempo(),s.is_in_header=!1;for(var t=0,n=s.iChar;r.isWhiteSpace(e[t])&&t<e.length;)t++;if(t!==e.length&&"%"!==e[t]){var l=s.start_new_line;void 0===s.continueall?s.start_new_line=!0:s.start_new_line=!1;var u=0,h=c.letter_to_body_header(e,t);h[0]>0&&(t+=h[0],"V"===h[1]&&this.startNewLine());for(var d=0;t<e.length;){var f=t;if("%"===e[t])break;var p=c.letter_to_inline_header(e,t,l);if(p[0]>0)t+=p[0],"V"===p[1]&&(l=!0);else{var m;for((!o.hasBeginMusic()||l&&!this.lineContinuation)&&(this.startNewLine(),l=!1);;)if((m=r.eatWhiteSpace(e,t))>0&&(t+=m),t>0&&"\x12"===e[t-1]&&(m=c.letter_to_body_header(e,t))[0]>0&&("V"===m[1]&&this.startNewLine(),t=m[0],s.start_new_line=!1),(m=O(e,t))[0]>0&&(t+=m[0]),(m=T(e,t))[0]>0){E.chord||(E.chord=[]);var g=r.translateString(m[1]);g=g.replace(/;/g,"\n");for(var y=!1,x=0;x<E.chord.length;x++)E.chord[x].position===m[2]&&(y=!0,E.chord[x].name+="\n"+g);!1===y&&(null===m[2]&&m[3]?E.chord.push({name:g,rel_position:m[3]}):E.chord.push({name:g,position:m[2]})),t+=m[0];var w=r.skipWhiteSpace(e.substring(t));w>0&&(E.force_end_beam_last=!0),t+=w}else if((m=-1===v.indexOf(e[t])?A(e,t):[0])[0]>0)null===m[1]?t+1<e.length&&this.startNewLine():m[1].length>0&&(0===m[1].indexOf("style=")?E.style=m[1].substr(6):(void 0===E.decoration&&(E.decoration=[]),"beambr1"===m[1]?E.beambr=1:"beambr2"===m[1]?E.beambr=2:E.decoration.push(m[1]))),t+=m[0];else{if(!((m=N(e,t))[0]>0))break;E.gracenotes=m[1],t+=m[0]}if((m=M(e,t))[0]>0){d=0,void 0!==E.gracenotes&&(E.rest={type:"spacer"},E.duration=.125,s.addFormattingOptions(E,a.formatting,"note"),o.appendElement("note",n+t,n+t+m[0],E),s.measureNotEmpty=!0,E={});var _={type:m[1]};if(0===_.type.length)i("Unknown bar type",e,t);else{if(s.inEnding&&"bar_thin"!==_.type&&(_.endEnding=!0,s.inEnding=!1),m[2]&&(_.startEnding=m[2],s.inEnding&&(_.endEnding=!0),s.inEnding=!0,"bar_right_repeat"===m[1]?s.restoreStartEndingHoldOvers():s.duplicateStartEndingHoldOvers()),void 0!==E.decoration&&(_.decoration=E.decoration),void 0!==E.chord&&(_.chord=E.chord),_.startEnding&&void 0===s.barFirstEndingNum?s.barFirstEndingNum=s.currBarNumber:_.startEnding&&_.endEnding&&s.barFirstEndingNum?s.currBarNumber=s.barFirstEndingNum:_.endEnding&&(s.barFirstEndingNum=void 0),"bar_invisible"!==_.type&&s.measureNotEmpty)(void 0===s.currentVoice||0===s.currentVoice.staffNum&&0===s.currentVoice.index)&&(s.currBarNumber++,s.barNumbers&&s.currBarNumber%s.barNumbers===0&&(_.barNumber=s.currBarNumber));s.addFormattingOptions(E,a.formatting,"bar"),o.appendElement("bar",n+f,n+t+m[0],_),s.measureNotEmpty=!1,E={}}t+=m[0]}else if("&"===e[t])(m=I(e,t))[0]>0&&(o.appendElement("overlay",n,n+1,{}),t+=1,d++);else{if((m=R(e,t)).consumed>0&&(void 0!==m.startSlur&&(E.startSlur=m.startSlur),m.dottedSlur&&(E.dottedSlur=!0),void 0!==m.triplet&&(u>0?i("Can't nest triplets",e,t):(E.startTriplet=m.triplet,E.tripletMultiplier=m.tripletQ/m.triplet,E.tripletR=m.num_notes,u=void 0===m.num_notes?m.triplet:m.num_notes)),t+=m.consumed),"["===e[t]){t++;for(var k=null,B=!1,F=!1;!F;){var z=A(e,t);z[0]>0&&(t+=z[0]);var H=j(e,t,{},!1);if(null!==H&&void 0!==H.pitch)z[0]>0&&0!==z[1].indexOf("style=")&&(void 0===E.decoration&&(E.decoration=[]),E.decoration.push(z[1])),H.end_beam&&(E.end_beam=!0,delete H.end_beam),void 0===E.pitches?(E.duration=H.duration,E.pitches=[H]):E.pitches.push(H),delete H.duration,z[0]>0&&0===z[1].indexOf("style=")&&(E.pitches[E.pitches.length-1].style=z[1].substr(6)),s.inTieChord[E.pitches.length]&&(H.endTie=!0,s.inTieChord[E.pitches.length]=void 0),H.startTie&&(s.inTieChord[E.pitches.length]=!0),t=H.endChar,delete H.endChar;else if(" "===e[t])i("Spaces are not allowed in chords",e,t),t++;else{if(t<e.length&&"]"===e[t]){t++,0!==s.next_note_duration&&(E.duration=E.duration*s.next_note_duration,s.next_note_duration=0),C(s,d,E)&&(E.pitches.forEach(function(e){e.endTie=!0}),S(s,d,!1)),u>0&&(!E.rest||"spacer"!==E.rest.type)&&0===--u&&(E.endTriplet=!0);for(var U=!1;t<e.length&&!U;){switch(e[t]){case" ":case"\t":L(E);break;case")":void 0===E.endSlur?E.endSlur=1:E.endSlur++;break;case"-":E.pitches.forEach(function(e){e.startTie={}}),S(s,d,!0);break;case">":case"<":var q=D(e,t);t+=q[0]-1,s.next_note_duration=q[2],k?k*=q[1]:k=q[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var W=r.getFraction(e,t);k=W.value;var V=e[t=W.index];" "===V&&(B=!0),"-"===V||")"===V||" "===V||"<"===V||">"===V?t--:U=!0;break;default:U=!0}U||t++}}else i("Expected ']' to end the chords",e,t);void 0!==E.pitches&&(null!==k&&(E.duration=E.duration*k,B&&L(E)),s.addFormattingOptions(E,a.formatting,"note"),o.appendElement("note",n+f,n+t,E),s.measureNotEmpty=!0,E={}),F=!0}}}else{var G={},Y=j(e,t,G,!0);void 0!==G.endTie&&S(s,d,!0),null!==Y&&(void 0!==Y.pitch?(E.pitches=[{}],void 0!==Y.accidental&&(E.pitches[0].accidental=Y.accidental),E.pitches[0].pitch=Y.pitch,E.pitches[0].name=Y.name,(Y.midipitch||0===Y.midipitch)&&(E.pitches[0].midipitch=Y.midipitch),void 0!==Y.endSlur&&(E.pitches[0].endSlur=Y.endSlur),void 0!==Y.endTie&&(E.pitches[0].endTie=Y.endTie),void 0!==Y.startSlur&&(E.pitches[0].startSlur=Y.startSlur),void 0!==E.startSlur&&(E.pitches[0].startSlur=E.startSlur),void 0!==E.dottedSlur&&(E.pitches[0].dottedSlur=!0),void 0!==Y.startTie&&(E.pitches[0].startTie=Y.startTie),void 0!==E.startTie&&(E.pitches[0].startTie=E.startTie)):(E.rest=Y.rest,void 0!==Y.endSlur&&(E.endSlur=Y.endSlur),void 0!==Y.endTie&&(E.rest.endTie=Y.endTie),void 0!==Y.startSlur&&(E.startSlur=Y.startSlur),void 0!==Y.startTie&&(E.rest.startTie=Y.startTie),void 0!==E.startTie&&(E.rest.startTie=E.startTie)),void 0!==Y.chord&&(E.chord=Y.chord),void 0!==Y.duration&&(E.duration=Y.duration),void 0!==Y.decoration&&(E.decoration=Y.decoration),void 0!==Y.graceNotes&&(E.graceNotes=Y.graceNotes),delete E.startSlur,delete E.dottedSlur,C(s,d,E)&&(void 0!==E.pitches?E.pitches[0].endTie=!0:"spacer"!==E.rest.type&&(E.rest.endTie=!0),S(s,d,!1)),(Y.startTie||E.startTie)&&S(s,d,!0),t=Y.endChar,u>0&&(!Y.rest||"spacer"!==Y.rest.type)&&0===--u&&(E.endTriplet=!0),Y.end_beam&&L(E),E.rest&&"rest"===E.rest.type&&1===E.duration&&P(s)<=1&&(E.rest.type="whole",E.duration=P(s)),E.duration<1&&-1===b.indexOf(E.duration)&&0!==E.duration&&(E.rest&&"spacer"===E.rest.type||i("Duration not representable: "+e.substring(f,t),e,t)),s.addFormattingOptions(E,a.formatting,"note"),o.appendElement("note",n+f,n+t,E),s.measureNotEmpty=!0,E={})}t===f&&(" "!==e[t]&&"`"!==e[t]&&i("Unknown character ignored",e,t),t++)}}}this.lineContinuation=e.indexOf("\x12")>=0||h[0]>0,this.lineContinuation||(E={})}};var S=function(e,t,n){var r=e.currentVoice?100*e.currentVoice.staffNum+e.currentVoice.index:0;void 0===e.inTie[t]&&(e.inTie[t]=[]),e.inTie[t][r]=n},T=function(e,t){if('"'===e[t]){var n=r.getBrackettedSubstring(e,t,5);if(n[2]||i("Missing the closing quote while parsing the chord symbol",e,t),n[0]>0&&n[1].length>0&&"^"===n[1][0])n[1]=n[1].substring(1),n[2]="above";else if(n[0]>0&&n[1].length>0&&"_"===n[1][0])n[1]=n[1].substring(1),n[2]="below";else if(n[0]>0&&n[1].length>0&&"<"===n[1][0])n[1]=n[1].substring(1),n[2]="left";else if(n[0]>0&&n[1].length>0&&">"===n[1][0])n[1]=n[1].substring(1),n[2]="right";else if(n[0]>0&&n[1].length>0&&"@"===n[1][0]){n[1]=n[1].substring(1);var a=r.getFloat(n[1]);0===a.digits&&i("Missing first position in absolutely positioned annotation.",e,t),n[1]=n[1].substring(a.digits),","!==n[1][0]&&i("Missing comma absolutely positioned annotation.",e,t),n[1]=n[1].substring(1);var o=r.getFloat(n[1]);0===o.digits&&i("Missing second position in absolutely positioned annotation.",e,t),n[1]=n[1].substring(o.digits);var c=r.skipWhiteSpace(n[1]);n[1]=n[1].substring(c),n[2]=null,n[3]={x:a.value,y:o.value}}else!0!==s.freegchord&&(n[1]=n[1].replace(/([ABCDEFG0-9])b/g,"$1\u266d"),n[1]=n[1].replace(/([ABCDEFG0-9])#/g,"$1\u266f"),n[1]=n[1].replace(/^([ABCDEFG])([\u266f\u266d]?)o([^A-Za-z])/g,"$1$2\xb0$3"),n[1]=n[1].replace(/^([ABCDEFG])([\u266f\u266d]?)o$/g,"$1$2\xb0"),n[1]=n[1].replace(/^([ABCDEFG])([\u266f\u266d]?)0([^A-Za-z])/g,"$1$2\xf8$3"),n[1]=n[1].replace(/^([ABCDEFG])([\u266f\u266d]?)\^([^A-Za-z])/g,"$1$2\u2206$3")),n[2]="default",n[1]=h.chordName(s,n[1]);return n}return[0,""]},N=function(e,t){if("{"===e[t]){var n=r.getBrackettedSubstring(e,t,1,"}");n[2]||i("Missing the closing '}' while parsing grace note",e,t),")"===e[t+n[0]]&&(n[0]++,n[1]+=")");for(var a=[],o=0,c=!1;o<n[1].length;){var l=!1;"/"===n[1][o]&&(l=!0,o++);var u=j(n[1],o,{},!1);null!==u?(u.duration=u.duration/(8*s.default_length),l&&(u.acciaccatura=!0),a.push(u),c&&(u.endTie=!0,c=!1),u.startTie&&(c=!0),o=u.endChar,delete u.endChar,u.end_beam&&(u.endBeam=!0,delete u.end_beam)):(" "===n[1][o]?a.length>0&&(a[a.length-1].endBeam=!0):i("Unknown character '"+n[1][o]+"' while parsing grace note",e,t),o++)}if(a.length)return[n[0],a]}return[0]};function I(e,t){if("&"===e[t]){for(var n=t;e[t]&&":"!==e[t]&&"|"!==e[t];)t++;return[t-n,e.substring(n+1,t)]}return[0]}function P(e){var t=e.origMeter;return t&&"specified"===t.type&&t.value&&0!==t.value.length?parseInt(t.value[0].num,10)/parseInt(t.value[0].den,10):1}var A=function(e,t){var n=s.macros[e[t]];if(void 0!==n)return"!"!==n[0]&&"+"!==n[0]||(n=n.substring(1)),"!"!==n[n.length-1]&&"+"!==n[n.length-1]||(n=n.substring(0,n.length-1)),d.includes(n)?[1,n]:f.includes(n)?("hidden"===s.volumePosition&&(n=""),[1,n]):p.includes(n)?("hidden"===s.dynamicPosition&&(n=""),[1,n]):(s.ignoredDecorations.includes(n)||i("Unknown macro: "+n,e,t),[1,""]);switch(e[t]){case".":if("("===e[t+1]||"-"===e[t+1])break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var a=r.getBrackettedSubstring(e,t,5);if(a[1].length>1&&("^"===a[1][0]||"_"===a[1][0])&&(a[1]=a[1].substring(1)),d.includes(a[1]))return a;if(f.includes(a[1]))return"hidden"===s.volumePosition&&(a[1]=""),a;if(p.includes(a[1]))return"hidden"===s.dynamicPosition&&(a[1]=""),a;var o=m.findIndex(function(e){return a[1]===e[0]});return o>=0?(a[1]=m[o][1],a):(o=g.findIndex(function(e){return a[1]===e[0]}))>=0?(a[1]=g[o][1],"hidden"===s.dynamicPosition&&(a[1]=""),a):"!"!==e[t]||1!==a[0]&&"!"===e[t+a[0]-1]?(i("Unknown decoration: "+a[1],e,t),a[1]="",a):[1,null];case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},O=function(e,t){for(var n=t;r.isWhiteSpace(e[t]);)t++;return[t-n]},M=function(e,t){var n=r.getBarLine(e,t);if(0===n.len)return[0,""];if(n.warn)return i(n.warn,e,t),[n.len,""];for(var s=0;s<e.length&&" "===e[t+n.len+s];s++);var a=n.len;if("["===e[t+n.len+s]&&(n.len+=s+1),'"'===e[t+n.len]&&"["===e[t+n.len-1]){var o=r.getBrackettedSubstring(e,t+n.len,5);return[n.len+o[0],n.token,o[1]]}var c=r.getTokenOf(e.substring(t+n.len),"1234567890-,");return 0===c.len||"-"===c.token[0]?[a,n.token]:[n.len+c.len,n.token,c.token]},R=function(e,t){var n={},s=t;for("."===e[t]&&"("===e[t+1]&&(n.dottedSlur=!0,t++);"("===e[t]||r.isWhiteSpace(e[t]);)"("===e[t]&&(t+1<e.length&&e[t+1]>="2"&&e[t+1]<="9"?(void 0!==n.triplet?i("Can't nest triplets",e,t):(n.triplet=e[t+1]-"0",n.tripletQ=_[n.triplet],n.num_notes=n.triplet,t+2<e.length&&":"===e[t+2]&&(t+3<e.length&&":"===e[t+3]?t+4<e.length&&e[t+4]>="1"&&e[t+4]<="9"?(n.num_notes=e[t+4]-"0",t+=3):i("expected number after the two colons after the triplet to mark the duration",e,t):t+3<e.length&&e[t+3]>="1"&&e[t+3]<="9"?(n.tripletQ=e[t+3]-"0",t+4<e.length&&":"===e[t+4]?t+5<e.length&&e[t+5]>="1"&&e[t+5]<="9"&&(n.num_notes=e[t+5]-"0",t+=4):t+=2):i("expected number after the triplet to mark the duration",e,t))),t++):void 0===n.startSlur?n.startSlur=1:n.startSlur++),t++;return n.consumed=t-s,n};k.prototype.startNewLine=function(){var e={startChar:-1,endChar:-1};s.partForNextLine.title&&(e.part=s.partForNextLine),e.clef=s.currentVoice&&void 0!==s.staves[s.currentVoice.staffNum].clef?l.clone(s.staves[s.currentVoice.staffNum].clef):l.clone(s.clef);var t=s.currentVoice?s.currentVoice.scoreTranspose:0;if(e.key=u.standardKey(s.key.root+s.key.acc+s.key.mode,s.key.root,s.key.acc,t),e.key.mode=s.key.mode,s.key.impliedNaturals&&(e.key.impliedNaturals=s.key.impliedNaturals),s.key.explicitAccidentals)for(var n=0;n<s.key.explicitAccidentals.length;n++){for(var r=!1,i=0;i<e.key.accidentals.length;i++)e.key.accidentals[i].note===s.key.explicitAccidentals[n].note&&(e.key.accidentals[i].acc=s.key.explicitAccidentals[n].acc,r=!0);r||e.key.accidentals.push(s.key.explicitAccidentals[n])}if(s.targetKey=e.key,e.key.explicitAccidentals&&delete e.key.explicitAccidentals,u.addPosToKey(e.clef,e.key),null!==s.meter?(s.currentVoice?(s.staves.forEach(function(e){e.meter=s.meter}),e.meter=s.staves[s.currentVoice.staffNum].meter,s.staves[s.currentVoice.staffNum].meter=null):e.meter=s.meter,s.meter=null):s.currentVoice&&s.staves[s.currentVoice.staffNum].meter&&(e.meter=s.staves[s.currentVoice.staffNum].meter,s.staves[s.currentVoice.staffNum].meter=null),s.currentVoice&&s.currentVoice.name&&(e.name=s.currentVoice.name),s.vocalfont&&(e.vocalfont=s.vocalfont),s.tripletfont&&(e.tripletfont=s.tripletfont),s.gchordfont&&(e.gchordfont=s.gchordfont),s.style&&(e.style=s.style),s.currentVoice){var a=s.staves[s.currentVoice.staffNum];a.brace&&(e.brace=a.brace),a.bracket&&(e.bracket=a.bracket),a.connectBarLines&&(e.connectBarLines=a.connectBarLines),a.name&&(e.name=a.name[s.currentVoice.index]),a.subname&&(e.subname=a.subname[s.currentVoice.index]),s.currentVoice.stem&&(e.stem=s.currentVoice.stem),s.currentVoice.stafflines&&(e.stafflines=s.currentVoice.stafflines),s.currentVoice.staffscale&&(e.staffscale=s.currentVoice.staffscale),s.currentVoice.scale&&(e.scale=s.currentVoice.scale),s.currentVoice.color&&(e.color=s.currentVoice.color),s.currentVoice.style&&(e.style=s.currentVoice.style),s.currentVoice.transpose&&(e.clef.transpose=s.currentVoice.transpose)}var c=void 0===s.currentVoice||0===s.currentVoice.staffNum&&0===s.currentVoice.index;0===s.barNumbers&&c&&1!==s.currBarNumber&&(e.barNumber=s.currBarNumber),o.startNewLine(e),s.key.impliedNaturals&&delete s.key.impliedNaturals,s.partForNextLine={},4===s.tempoForNextLine.length&&o.appendElement(s.tempoForNextLine[0],s.tempoForNextLine[1],s.tempoForNextLine[2],s.tempoForNextLine[3]),s.tempoForNextLine=[]};var L=function(e){return void 0!==e.duration&&e.duration<.25&&(e.end_beam=!0),e},j=function(e,t,n,i){var c,l=function(e){return"octave"===e||"duration"===e||"Zduration"===e||"broken_rhythm"===e||"end_slur"===e};"."===e[t]&&"-"===e[t+1]&&(c=!0,t++);for(var u="startSlur",d=!1;;){switch(e[t]){case"(":if("startSlur"!==u)return l(u)?(n.endChar=t,n):null;void 0===n.startSlur?n.startSlur=1:n.startSlur++;break;case")":if(!l(u))return null;void 0===n.endSlur?n.endSlur=1:n.endSlur++;break;case"^":if("startSlur"===u)n.accidental="sharp",u="sharp2";else{if("sharp2"!==u)return l(u)?(n.endChar=t,n):null;n.accidental="dblsharp",u="pitch"}break;case"_":if("startSlur"===u)n.accidental="flat",u="flat2";else{if("flat2"!==u)return l(u)?(n.endChar=t,n):null;n.accidental="dblflat",u="pitch"}break;case"=":if("startSlur"!==u)return l(u)?(n.endChar=t,n):null;n.accidental="natural",u="pitch";break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if("startSlur"!==u&&"sharp2"!==u&&"flat2"!==u&&"pitch"!==u)return l(u)?(n.endChar=t,n):null;if(n.pitch=y[e[t]],n.pitch+=7*(s.currentVoice&&void 0!==s.currentVoice.octave?s.currentVoice.octave:s.octave),n.name=e[t],n.accidental&&(n.name=w[n.accidental]+n.name),h.note(s,n),u="octave",i&&0!==s.next_note_duration?(n.duration=s.default_length*s.next_note_duration,s.next_note_duration=0,d=!0):n.duration=s.default_length,s.clef&&"perc"===s.clef.type||s.currentVoice&&"perc"===s.currentVoice.clef){var f=e[t];n.accidental&&(f=w[n.accidental]+f),a.formatting&&a.formatting.midi&&a.formatting.midi.drummap&&(n.midipitch=a.formatting.midi.drummap[f])}break;case",":if("octave"!==u)return l(u)?(n.endChar=t,n):null;n.pitch-=7,n.name+=",";break;case"'":if("octave"!==u)return l(u)?(n.endChar=t,n):null;n.pitch+=7,n.name+="'";break;case"x":case"X":case"y":case"z":case"Z":if("startSlur"!==u)return l(u)?(n.endChar=t,n):null;n.rest={type:x[e[t]]},delete n.accidental,delete n.startSlur,delete n.startTie,delete n.endSlur,delete n.endTie,delete n.end_beam,delete n.grace_notes,n.rest.type.indexOf("multimeasure")>=0?(n.duration=a.getBarLength(),n.rest.text=1,u="Zduration"):(i&&0!==s.next_note_duration?(n.duration=s.default_length*s.next_note_duration,s.next_note_duration=0,d=!0):n.duration=s.default_length,u="duration");break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if("octave"===u||"duration"===u){var p=r.getFraction(e,t);for(n.duration=n.duration*p.value,n.endChar=p.index;p.index<e.length&&(r.isWhiteSpace(e[p.index])||"-"===e[p.index]);)"-"===e[p.index]?n.startTie={}:n=L(n),p.index++;t=p.index-1,u="broken_rhythm"}else if("sharp2"===u)n.accidental="quartersharp",u="pitch";else{if("flat2"!==u){if("Zduration"===u){var m=r.getNumber(e,t);return n.duration=m.num*a.getBarLength(),n.rest.text=m.num,n.endChar=m.index,n}return null}n.accidental="quarterflat",u="pitch"}break;case"-":if("startSlur"===u)o.addTieToLastNote(c),n.endTie=!0;else{if("octave"!==u&&"duration"!==u&&"end_slur"!==u)return"broken_rhythm"===u?(n.endChar=t,n):null;if(n.startTie={},d||!i)return r.isWhiteSpace(e[t+1])&&L(n),n.endChar=t+1,n;u="broken_rhythm"}break;case" ":case"\t":if(!l(u))return null;n.end_beam=!0,c=!1;do{"."===e[t]&&"-"===e[t+1]&&(c=!0,t++),"-"===e[t]&&(n.startTie={},c&&(n.startTie.style="dotted")),t++}while(t<e.length&&(r.isWhiteSpace(e[t])||"-"===e[t])||"."===e[t]&&"-"===e[t+1]);if(n.endChar=t,d||!i||"<"!==e[t]&&">"!==e[t])return n;t--,u="broken_rhythm";break;case">":case"<":if(!l(u))return null;if(!i)return n.endChar=t,n;var g=D(e,t);t+=g[0]-1,s.next_note_duration=g[2],n.duration=g[1]*n.duration,u="end_slur";break;default:return l(u)?(n.endChar=t,n):null}if(++t===e.length)return l(u)?(n.endChar=t,n):null}return null},D=function(e,t){switch(e[t]){case">":return t<e.length-2&&">"===e[t+1]&&">"===e[t+2]?[3,1.875,.125]:t<e.length-1&&">"===e[t+1]?[2,1.75,.25]:[1,1.5,.5];case"<":return t<e.length-2&&"<"===e[t+1]&&"<"===e[t+2]?[3,.125,1.875]:t<e.length-1&&"<"===e[t+1]?[2,.25,1.75]:[1,.5,1.5]}return null};e.exports=k},1667:(e,t,n)=>{var r=n(2549),i={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.32,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84},"noteheads.slash.whole":{d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63},"noteheads.slash.quarter":{d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9},"noteheads.harmonic.quarter":{d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165},"noteheads.triangle.quarter":{d:[["M",0,4],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9}},s=function(e){for(var t=[],n=0,r=e.length;n<r;n++){t[n]=[];for(var i=0,s=e[n].length;i<s;i++)t[n][i]=e[n][i]}return t},a={printSymbol:function(e,t,n,r,a){if(!i[n])return null;var o=s(i[n].d);o[0][1]+=e,o[0][2]+=t;for(var c="",l=0;l<o.length;l++)c+=o[l].join(" ");return a.path=c,r.path(a)},getPathForSymbol:function(e,t,n,r,a){if(r=r||1,a=a||1,!i[n])return null;var o=s(i[n].d);return 1===r&&1===a||function(e,t,n){for(var r=0,i=e.length;r<i;r++){var s,a,o=e[r];for(s=1,a=o.length;s<a;s++)o[s]*=s%2?t:n}}(o,r,a),o[0][1]+=e,o[0][2]+=t,o},getSymbolWidth:function(e){return i[e]?i[e].w:0},symbolHeightInPitches:function(e){return(i[e]?i[e].h:0)/r.STEP},getSymbolAlign:function(e){return"scripts"===e.substring(0,7)&&"scripts.roll"!==e?"center":"left"},getYCorr:function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"flags.d64th":case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"timesig.common":case"timesig.cut":default:return 0;case"flags.d32nd":case"rests.half":case"rests.8th":case"rests.quarter":case"rests.16th":case"rests.32nd":case"rests.64th":case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"flags.u32nd":case"rests.whole":case"scripts.dfermata":return 1;case"flags.u64th":return 3;case"f":case"m":case"p":case"s":case"z":return-4}},setSymbol:function(e,t){i[e]=t}};e.exports=a},1771:(e,t,n)=>{var r=n(2549),i=n(6644),s=function(e){this.paper=new i(e),this.controller=null,this.space=3*r.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};s.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()},s.prototype.newTune=function(e){this.abctune=e,this.setVerticalSpace(e.formatting),this.isPrint="print"===e.media,this.setPadding(e)},s.prototype.setLineThickness=function(e){this.lineThickness=e},s.prototype.setPaddingOverride=function(e){this.paddingOverride={top:e.paddingtop,bottom:e.paddingbottom,right:e.paddingright,left:e.paddingleft}},s.prototype.setPadding=function(e){function t(t,n,r,i,s){void 0!==e.formatting[r]?t.padding[n]=e.formatting[r]:void 0!==t.paddingOverride[n]?t.padding[n]=t.paddingOverride[n]:t.isPrint?t.padding[n]=i:t.padding[n]=s}t(this,"top","topmargin",38,15),t(this,"bottom","botmargin",38,15),t(this,"left","leftmargin",68,15),t(this,"right","rightmargin",68,15)},s.prototype.adjustNonScaledItems=function(e){this.padding.top/=e,this.padding.bottom/=e,this.padding.left/=e,this.padding.right/=e,this.abctune.formatting.headerfont.size/=e,this.abctune.formatting.footerfont.size/=e},s.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,stemHeight:36.67,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}},s.prototype.setVerticalSpace=function(e){void 0!==e.staffsep&&(this.spacing.staffSeparation=4*e.staffsep/3),void 0!==e.composerspace&&(this.spacing.composer=4*e.composerspace/3),void 0!==e.partsspace&&(this.spacing.parts=4*e.partsspace/3),void 0!==e.textspace&&(this.spacing.text=4*e.textspace/3),void 0!==e.musicspace&&(this.spacing.music=4*e.musicspace/3),void 0!==e.titlespace&&(this.spacing.title=4*e.titlespace/3),void 0!==e.sysstaffsep&&(this.spacing.systemStaffSeparation=4*e.sysstaffsep/3),void 0!==e.subtitlespace&&(this.spacing.subtitle=4*e.subtitlespace/3),void 0!==e.topspace&&(this.spacing.top=4*e.topspace/3),void 0!==e.vocalspace&&(this.spacing.vocal=4*e.vocalspace/3),void 0!==e.wordsspace&&(this.spacing.words=4*e.wordsspace/3)},s.prototype.calcY=function(e){return this.y-e*r.STEP},s.prototype.moveY=function(e,t){void 0===t&&(t=1),this.y+=e*t},s.prototype.absolutemoveY=function(e){this.y=e},e.exports=s},1785:e=>{var t={};const n=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];t.pitchIndex=function(e){return n.indexOf(e)},t.noteName=function(e){return n[e]},e.exports=t},1787:(e,t,n)=>{var r=n(9129),i=n(231),s=n(2549);function a(e,t){var n=e.plugin.semantics.strings,r=e.renderer.controller.getTextSize,i=n.tabInfos(e.plugin),s=r.calc(i,"tablabelfont","text instrumentname");return t.tabNameInfos={textSize:s,name:i},s.height}function o(e,t,n,r){this.renderer=t,this.plugin=e,this.line=n,this.absolutes=new i,this.staffIndex=r,this.tabStaff={clef:{type:"TAB"}},this.tabSize=e.linePitch*e.nbLines}function c(e,t){return!!t[e].isTabStaff&&(e===t.length-1||!t[e+1].isTabStaff)}function l(e,t){for(var n=t;n>=0;n--)if(!e[n].isTabStaff)return n;return-1}function u(e,t){return"clef"===e[t].children[0].abcelem.el_type?null:0==t?"none":e[t-1].children[0]}o.prototype.doLayout=function(){var e=this.line.staff;if(e){var t=e[0];if(t&&t.clef&&0==t.clef.stafflines)return void this.plugin._super.setError("No tablatures when stafflines=0");e.splice(e.length,0,this.tabStaff)}var n=this.line.staffGroup,i=n.voices,o=function(e){for(var t=0,n=0;n<e.children.length;n++){var r=e.children[n];r.specialY&&r.specialY.lyricHeightBelow>t&&(t=r.specialY.lyricHeightBelow)}return t}(i[0]),h=this.staffIndex,d=n.staffs[h],f=this.tabSize+3-d.bottom-o;d.isTabStaff&&(f=d.top);var p={bottom:-1,isTabStaff:!0,specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0},lines:this.plugin.nbLines,linePitch:this.plugin.linePitch,dy:.15,top:f},m=function(e,t){for(var n=e.staffIndex,r=0,i=0,s=0;;){if(!t[r])return-1;if(t[r].isTabStaff||(s=t[r].voices.length),t[r].isTabStaff){if(i++,c(r,t)&&i<s)return r+1}else if(i=0,r>=n){if(r+1==t.length)return r+1;if(!t[r+1].isTabStaff)return r+1}if(++r>t.length)return-1}}(this,n.staffs);if(-1!==m){p.parentIndex=m-1,n.staffs.splice(m,0,p),n.height+=this.tabSize+3;var g=function(e,t){for(var n=t;n>=0;n--)if(!e[n].isTabStaff)return e[n];return null}(n.staffs,m),v=1;(function(e,t){return 1===function(e){for(var t=0,n=0;n<e.length;n++)e[n].isTabStaff||t++;return t}(e)&&t.voices.length>1})(n.staffs,g)&&(v=g.voices.length),this.tabStaff.voices=[];for(var b=0;b<v;b++){var y=new r(0,0);b>0&&(y.duplicate=!0);var x=a(this,y)/s.STEP;x=Math.max(x,1),n.staffs[this.staffIndex].top+=x,n.height+=x*s.STEP,y.staff=p;var w=i.length;i.splice(i.length,0,y);var _=u(i,b+this.staffIndex);this.tabStaff.voices[b]=[],this.absolutes.build(this.plugin,i,this.tabStaff.voices[b],b,this.staffIndex,_,w)}!function(e){for(var t=0;t<e.length;t++)if(e[t].isTabStaff){var n=l(e,t);e[t].hasStaff=e[n],e[n].hasTab||(e[n].hasTab=[]),e[n].hasTab.push(e[t])}}(n.staffs)}},e.exports=o},1920:(e,t,n)=>{var r=n(9909),i=n(7340),s=function(e,t,n,r,i,s){s||(s={}),this.tuneNumber=i,this.abcelem=e,this.duration=t,this.durationClass=s.durationClassOveride?s.durationClassOveride:this.duration,this.minspacing=n||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=r,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};s.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}},s.prototype.addExtra=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),void 0===this.fixed.t?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top),void 0===this.fixed.b?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom),e.dx<this.extraw&&(this.extraw=e.dx),this.extra[this.extra.length]=e,this._addChild(e)},s.prototype.addHead=function(e){e.dx<this.extraw&&(this.extraw=e.dx),this.heads[this.heads.length]=e,this.addRight(e)},s.prototype.addRight=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),void 0!==e.top&&(void 0===this.fixed.t?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top)),void 0!==e.bottom&&(void 0===this.fixed.b?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom)),e.dx+e.w>this.w&&(this.w=e.dx+e.w),this.right[this.right.length]=e,this._addChild(e)},s.prototype.addFixed=function(e){this._addChild(e)},s.prototype.addFixedX=function(e){this._addChild(e)},s.prototype.addCentered=function(e){var t=e.w/2;-t<this.extraw&&(this.extraw=-t),this.extra[this.extra.length]=e,e.dx+t>this.w&&(this.w=e.dx+t),this.right[this.right.length]=e,this._addChild(e)},s.prototype.setLimit=function(e,t){t[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],t[e]):this.specialY[e]=t[e])},s.prototype._addChild=function(e){e.parent=this,this.children[this.children.length]=e,this.pushTop(e.top),this.pushBottom(e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)},s.prototype.pushTop=function(e){void 0!==e&&(void 0===this.top?this.top=e:this.top=Math.max(e,this.top))},s.prototype.pushBottom=function(e){void 0!==e&&(void 0===this.bottom?this.bottom=e:this.bottom=Math.min(e,this.bottom))},s.prototype.setX=function(e){this.x=e;for(var t=0;t<this.children.length;t++)this.children[t].setX(e)},s.prototype.center=function(e,t){var n=(t.x-e.x)/2+e.x;this.x=n-this.w/2;for(var r=0;r<this.children.length;r++)this.children[r].setX(this.x)},s.prototype.setHint=function(){this.hint=!0},s.prototype.highlight=function(e,t){r.bind(this)(e,t)},s.prototype.unhighlight=function(e,t){i.bind(this)(e,t)},e.exports=s},2119:e=>{e.exports=function(e){return parseFloat(e.toFixed(2))}},2128:e=>{e.exports={}},2358:e=>{e.exports=function(e,t,n,r){var i=(t+e.padding.left+e.padding.right)*n,s=(e.y+e.padding.bottom)*n;if(e.isPrint&&(s=Math.max(s,1056)),""!==e.ariaLabel){var a="Sheet Music";e.abctune&&e.abctune.metaText&&e.abctune.metaText.title&&(a+=' for "'+e.abctune.metaText.title+'"'),e.paper.setTitle(a);var o=e.ariaLabel?e.ariaLabel:a;e.paper.setAttribute("aria-label",o)}e.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"].join(" ")+"}");var c={overflow:"hidden"};"resize"===r?e.paper.setResponsiveWidth(i,s):(c.width="",c.height=s+"px",n<1?(c.width=i+"px",e.paper.setSize(i/n,s/n)):e.paper.setSize(i,s)),e.paper.setScale(n),e.paper.setParentStyles(c)}},2474:(e,t,n)=>{var r=n(4178);function i(e){this.tuning=e._super.params.tuning,this.tuning||(this.tuning=["E,","A,","D","G","B","e"]),e.tuning=this.tuning,this.strings=new r(e)}i.prototype.notesToNumber=function(e,t){return this.strings.notesToNumber(e,t)},i.prototype.stringToPitch=function(e){return this.strings.stringToPitch(e)},e.exports=i},2518:(e,t,n)=>{var r=n(1785),i=n(6794),s=n(3905),a={},o={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},c=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],l=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];a.keySignature=function(e,t,n,r,i){if("perc"===e.clef.type||"none"===e.clef.type)return{accidentals:s(t),root:n,acc:r};i||(i=0),e.localTransposeVerticalMovement=0,e.localTransposePreferFlats=!1;var a=s(t);if(!a)return e.key;if(e.localTranspose=(e.globalTranspose?e.globalTranspose:0)+i,!e.localTranspose)return{accidentals:a,root:n,acc:r};if(e.globalTransposeOrigKeySig=a,e.localTranspose%12===0)return e.localTransposeVerticalMovement=e.localTranspose/12*7,{accidentals:a,root:n,acc:r};var u=t[0];"b"===t[1]||"#"===t[1]?(u+=t[1],t=t.substr(2)):t=t.substr(1);var h=o[u],d=void 0!==h;d||(h=0,u="C",t="");for(var f=h+e.localTranspose;f<0;)f+=12;f>11&&(f%=12);var p="m"===t[0]?l[f]:c[f],m=p+t,g=s(m);g.length>0&&"flat"===g[0].acc&&(e.localTransposePreferFlats=!0);var v=m.charCodeAt(0)-u.charCodeAt(0);return e.localTranspose>0?v<0?v+=7:0===v&&("#"!==u[1]&&"b"!==m[1]||(v+=7)):e.localTranspose<0&&(v>0?v-=7:0===v&&("b"!==u[1]&&"#"!==m[1]||(v-=7))),e.localTranspose>0?e.localTransposeVerticalMovement=v+7*Math.floor(e.localTranspose/12):e.localTransposeVerticalMovement=v+7*Math.ceil(e.localTranspose/12),d?{accidentals:g,root:p[0],acc:p.length>1?p[1]:""}:{accidentals:[],root:n,acc:r}},a.chordName=function(e,t){return i(t,e.localTranspose,e.localTransposePreferFlats,e.freegchord)};var u=["c","d","e","f","g","a","b"];var h={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},d={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},f={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};a.note=function(e,t){if(e.localTranspose&&"perc"!==e.clef.type){var n=t.pitch;if(e.localTransposeVerticalMovement&&(t.pitch=t.pitch+e.localTransposeVerticalMovement,t.name)){var i=t.accidental?t.name.substring(1):t.name,s=t.accidental?t.name[0]:"",a=r.pitchIndex(i);t.name=s+r.noteName(a+e.localTransposeVerticalMovement)}if(t.accidental){var o=function(e,t,n,r,i){for(var s=u[(e+49)%7],a=0,o=0;o<r.length;o++)r[o].note.toLowerCase()===s&&(a=h[r[o].acc]);for(var c=h[n]-a,l=u[(t+49)%7],d=0,f=0;f<i.accidentals.length;f++)i.accidentals[f].note.toLowerCase()===l&&(d=h[i.accidentals[f].acc]);var p=c+d;return p<-2&&(t--,p+="c"===l||"f"===l?1:2),p>2&&(t++,p-="b"===l||"e"===l?1:2),[t,p]}(n,t.pitch,t.accidental,e.globalTransposeOrigKeySig,e.targetKey);t.pitch=o[0],t.accidental=d[o[1]],t.name&&(t.name=f[o[1]]+t.name.replace(/[_^=]/g,""))}}},e.exports=a},2549:e=>{var t={FONTEM:360,FONTSIZE:30};t.STEP=93*t.FONTSIZE/720,t.SPACE=10,t.TOPNOTE=15,t.STAVEHEIGHT=100,t.INDENT=50,e.exports=t},2577:e=>{e.exports=function(e,t){this.type="GlissandoElem",this.anchor1=e,this.anchor2=t}},2657:(e,t,n)=>{const r=n(5765);e.exports=function(e,t,n,i,s,a,o,c,l){if(this.rows=[],e.header&&a){var u=l.calc("X","headerfont","abcjs-header abcjs-meta-top").height;r(this.rows,{marginLeft:o,text:e.header.left,font:"headerfont",klass:"header meta-top",marginTop:-u,info:t.header,name:"header"},l),r(this.rows,{marginLeft:o+s/2,text:e.header.center,font:"headerfont",klass:"header meta-top",marginTop:-u,anchor:"middle",info:t.header,name:"header"},l),r(this.rows,{marginLeft:o+s,text:e.header.right,font:"headerfont",klass:"header meta-top",marginTop:-u,anchor:"end",info:t.header,name:"header"},l)}a&&this.rows.push({move:c.top});var h=n.titleleft?"start":"middle",d=n.titleleft?o:o+s/2;if(e.title&&r(this.rows,{marginLeft:d,text:e.title,font:"titlefont",klass:"title meta-top",marginTop:c.title,anchor:h,absElemType:"title",info:t.title,name:"title"},l),i.length)for(var f=0;f<i.length&&i[f].subtitle;)r(this.rows,{marginLeft:d,text:i[f].subtitle.text,font:"subtitlefont",klass:"text meta-top subtitle",marginTop:c.subtitle,anchor:h,absElemType:"subtitle",info:i[f].subtitle,name:"subtitle"},l),f++;if(e.rhythm||e.origin||e.composer){if(this.rows.push({move:c.composer}),e.rhythm&&e.rhythm.length>0){var p=!(!e.composer&&!e.origin);r(this.rows,{marginLeft:o,text:e.rhythm,font:"infofont",klass:"meta-top rhythm",absElemType:"rhythm",noMove:p,info:t.rhythm,name:"rhythm"},l)}var m="";e.composer&&(m+=e.composer),e.origin&&(m+=" ("+e.origin+")"),m.length>0&&r(this.rows,{marginLeft:o+s,text:m,font:"composerfont",klass:"meta-top composer",anchor:"end",absElemType:"composer",info:t.composer,name:"composer"},l)}e.author&&e.author.length>0&&r(this.rows,{marginLeft:o+s,text:e.author,font:"composerfont",klass:"meta-top author",anchor:"end",absElemType:"author",info:t.author,name:"author"},l),e.partOrder&&e.partOrder.length>0&&r(this.rows,{marginLeft:o,text:e.partOrder,font:"partsfont",klass:"meta-top part-order",absElemType:"partOrder",info:t.partOrder,name:"part-order"},l)}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var j,D=Object.assign;function B(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case E:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Ce=null;function Ee(e){if(e=yi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Se(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function Ie(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ne(e,t,n)}finally{Pe=!1,(null!==ke||null!==Ce)&&(Ie(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Me=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Me=!1}function Le(e,t,n,r,i,s,a,o,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var je=!1,De=null,Be=!1,Fe=null,ze={onError:function(e){je=!0,De=e}};function He(e,t,n,r,i,s,a,o,c){je=!1,De=null,Le.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(s(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Qe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/ct|0)|0},ot=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,kt,Ct,Et,St=!1,Tt=[],Nt=null,It=null,Pt=null,At=new Map,Ot=new Map,Mt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function jt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=bi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function zt(){St=!1,null!==Nt&&Bt(Nt)&&(Nt=null),null!==It&&Bt(It)&&(It=null),null!==Pt&&Bt(Pt)&&(Pt=null),At.forEach(Ft),Ot.forEach(Ft)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return Ht(t,e)}if(0<Tt.length){Ht(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Ht(Nt,e),null!==It&&Ht(It,e),null!==Pt&&Ht(Pt,e),At.forEach(t),Ot.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Mt.shift()}var qt=x.ReactCurrentBatchConfig,Wt=!0;function Vt(e,t,n,r){var i=yt,s=qt.transition;qt.transition=null;try{yt=1,Yt(e,t,n,r)}finally{yt=i,qt.transition=s}}function Gt(e,t,n,r){var i=yt,s=qt.transition;qt.transition=null;try{yt=4,Yt(e,t,n,r)}finally{yt=i,qt.transition=s}}function Yt(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)Wr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=jt(Nt,e,t,n,r,i),!0;case"dragenter":return It=jt(It,e,t,n,r,i),!0;case"mouseover":return Pt=jt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,jt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,jt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=yi(i);if(null!==s&&wt(s),null===(s=Xt(e,t,n,r))&&Wr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Xt(e,t,n,r){if(Kt=null,null!==(e=bi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(ln),hn=D({},ln,{view:0,detail:0}),dn=sn(hn),fn=D({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,on=e.screenY-cn.screenY):on=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(D({},fn,{dataTransfer:0})),gn=sn(D({},hn,{relatedTarget:0})),vn=sn(D({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=D({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=sn(bn),xn=sn(D({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Cn}var Sn=D({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(Sn),Nn=sn(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(D({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=sn(D({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=D({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(An),Mn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var jn=u&&"TextEvent"in window&&!Ln,Dn=u&&(!Rn||Ln&&8<Ln&&11>=Ln),Bn=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Vn(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Yn=null;function Kn(e){Br(e,0)}function Xn(e){if(Y(xi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Yn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];Vn(t,Yn,e,we(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function sr(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,br=null,yr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Cr={};function Er(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return kr[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Er("animationend"),Tr=Er("animationiteration"),Nr=Er("animationstart"),Ir=Er("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),c(t,[e])}for(var Mr=0;Mr<Ar.length;Mr++){var Rr=Ar[Mr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ir,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,c,l){if(He.apply(this,arguments),je){if(!je)throw Error(s(198));var u=De;je=!1,De=null,Be||(Be=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;Dr(i,o,l),s=c}else for(a=0;a<r.length;a++){if(c=(o=r[a]).instance,l=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;Dr(i,o,l),s=c}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Hr]){e[Hr]=!0,a.forEach(function(t){"selectionchange"!==t&&(jr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Qt(t)){case 1:var i=Vt;break;case 4:i=Gt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=bi(o)))return;if(5===(c=a.tag)||6===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=s,i=we(n),a=[];e:{var o=Pr.get(e);if(void 0!==o){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Tn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=In;break;case Sr:case Tr:case Nr:c=vn;break;case Ir:c=Pn;break;case"scroll":c=dn;break;case"wheel":c=On;break;case"copy":case"cut":case"paste":c=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Nn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Oe(p,d))&&u.push(Vr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new c(o,l,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(l=n.relatedTarget||n.fromElement)||!bi(l)&&!l[pi])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?bi(l):null)&&(l!==(h=Ue(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?o:xi(c),f=null==l?o:xi(l),(o=new u(m,p+"leave",c,n,i)).target=h,o.relatedTarget=f,m=null,bi(i)===r&&((u=new u(d,p+"enter",l,n,i)).target=f,u.relatedTarget=h,m=u),h=m,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Yr(f))p++;for(f=0,m=d;m;m=Yr(m))f++;for(;0<p-f;)u=Yr(u),p--;for(;0<f-p;)d=Yr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Yr(u),d=Yr(d)}u=null}else u=null;null!==c&&Kr(a,o,c,u,!1),null!==l&&null!==h&&Kr(a,h,l,u,!0)}if("select"===(c=(o=r?xi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var g=Qn;else if(Wn(o))if($n)g=ar;else{g=ir;var v=rr}else(c=o.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Vn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?xi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,br=null);break;case"focusout":br=vr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var b;if(Rn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Un?zn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Dn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(b=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Un=!0)),0<(v=Gr(r,y)).length&&(y=new xn(y,e,null,n,i),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=Hn(n))&&(y.data=b))),(b=jn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&zn(e,t)?(e=en(),Zt=Jt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=b))}Br(a,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(Vr(e,s,i)),null!=(s=Oe(e,t))&&r.push(Vr(e,s,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,c=o.alternate,l=o.stateNode;if(null!==c&&c===r)break;5===o.tag&&null!==l&&(o=l,i?null!=(c=Oe(n,s))&&a.unshift(Vr(n,c,o)):i||null!=(c=Oe(n,s))&&a.push(Vr(n,c,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function bi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var _i=[],ki=-1;function Ci(e){return{current:e}}function Ei(e){0>ki||(e.current=_i[ki],_i[ki]=null,ki--)}function Si(e,t){ki++,_i[ki]=e.current,e.current=t}var Ti={},Ni=Ci(Ti),Ii=Ci(!1),Pi=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ei(Ii),Ei(Ni)}function Ri(e,t,n){if(Ni.current!==Ti)throw Error(s(168));Si(Ni,t),Si(Ii,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return D({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ni.current,Si(Ni,e),Si(Ii,Ii.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ii),Ei(Ni),Si(Ni,e)):Ei(Ii),Si(Ii,n)}var Bi=null,Fi=!1,zi=!1;function Hi(e){null===Bi?Bi=[e]:Bi.push(e)}function Ui(){if(!zi&&null!==Bi){zi=!0;var e=0,t=yt;try{var n=Bi;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Fi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ye(Ze,Ui),i}finally{yt=t,zi=!1}}return null}var qi=[],Wi=0,Vi=null,Gi=0,Yi=[],Ki=0,Xi=null,Qi=1,$i="";function Ji(e,t){qi[Wi++]=Gi,qi[Wi++]=Vi,Vi=e,Gi=t}function Zi(e,t,n){Yi[Ki++]=Qi,Yi[Ki++]=$i,Yi[Ki++]=Xi,Xi=e;var r=Qi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,$i=s+e}else Qi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Vi;)Vi=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===Xi;)Xi=Yi[--Ki],Yi[Ki]=null,$i=Yi[--Ki],Yi[Ki]=null,Qi=Yi[--Ki],Yi[Ki]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(cs(e))throw Error(s(418));t=li(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(cs(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=li(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?li(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=li(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=x.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Ci(null),bs=null,ys=null,xs=null;function ws(){xs=ys=bs=null}function _s(e){var t=vs.current;Ei(vs),e._currentValue=t}function ks(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t){bs=e,xs=ys=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function Es(e){var t=e._currentValue;if(xs!==e)if(e={context:e,memoizedValue:t,next:null},null===ys){if(null===bs)throw Error(s(308));ys=e,bs.dependencies={lanes:0,firstContext:e}}else ys=ys.next=e;return t}var Ss=null;function Ts(e){null===Ss?Ss=[e]:Ss.push(e)}function Ns(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ts(t)):(n.next=i.next,i.next=n),t.interleaved=n,Is(e,r)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ps=!1;function As(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ic)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Is(e,n)}return null===(i=r.interleaved)?(t.next=t,Ts(r)):(t.next=i.next,i.next=t),r.interleaved=t,Is(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function js(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ds(e,t,n,r){var i=e.updateQueue;Ps=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var c=o,l=c.next;c.next=null,null===a?s=l:a.next=l,a=c;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=c))}if(null!==s){var h=i.baseState;for(a=0,u=l=c=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=D({},h,d);break e;case 2:Ps=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Dc|=a,e.lanes=a,e.memoizedState=h}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Fs=(new r.Component).refs;function zs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Hs={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Ms(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Ms(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Ms(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Rs(e,i,r))&&(rl(t,e,r,n),Ls(t,e,r))}};function Us(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function qs(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=Es(s):(i=Oi(t)?Pi:Ni.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Hs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hs.enqueueReplaceState(t,t.state,null)}function Vs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fs,As(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Es(s):(s=Oi(t)?Pi:Ni.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(zs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Hs.enqueueReplaceState(i,i.state,null),Ds(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Fs&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ks(e){return(0,e._init)(e._payload)}function Xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Bl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&Ks(s)===t.type)?((r=i(t,n.props)).ref=Gs(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=jl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case _:return(t=Fl(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=jl(t,e.mode,n,null)).return=e,t;Ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Ys(t,r)}return null}function m(i,s,o,c){for(var l=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?l=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),is&&Ji(i,m),l;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],c))&&(s=a(h,s,m),null===u?l=h:u.sibling=h,u=h);return is&&Ji(i,m),l}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),is&&Ji(i,m),l}function g(i,o,c,l){var u=L(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,b=c.next();null!==m&&!b.done;g++,b=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=f(i,m,b.value,l);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(i,m),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y,m=v}if(b.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!b.done;g++,b=c.next())null!==(b=d(i,b.value,l))&&(o=a(b,o,g),null===h?u=b:h.sibling=b,h=b);return is&&Ji(i,g),u}for(m=r(i,m);!b.done;g++,b=c.next())null!==(b=p(m,i,g,b.value,l))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b);return e&&m.forEach(function(e){return t(i,e)}),is&&Ji(i,g),u}return function e(r,s,a,c){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var l=a.key,u=s;null!==u;){if(u.key===l){if((l=a.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===O&&Ks(l)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((s=jl(a.props.children,r.mode,c,a.key)).return=r,r=s):((c=Ll(a.type,a.key,a.props,null,r.mode,c)).ref=Gs(r,s,a),c.return=r,r=c)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fl(a,r.mode,c)).return=r,r=s}return o(r);case O:return e(r,s,(u=a._init)(a._payload),c)}if(te(a))return m(r,s,a,c);if(L(a))return g(r,s,a,c);Ys(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Bl(a,r.mode,c)).return=r,r=s),o(r)):n(r,s)}}var Qs=Xs(!0),$s=Xs(!1),Js={},Zs=Ci(Js),ea=Ci(Js),ta=Ci(Js);function na(e){if(e===Js)throw Error(s(174));return e}function ra(e,t){switch(Si(ta,t),Si(ea,e),Si(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Zs),Si(Zs,t)}function ia(){Ei(Zs),Ei(ea),Ei(ta)}function sa(e){na(ta.current);var t=na(Zs.current),n=ce(t,e.type);t!==n&&(Si(ea,e),Si(Zs,n))}function aa(e){ea.current===e&&(Ei(Zs),Ei(ea))}var oa=Ci(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ua(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ha=x.ReactCurrentDispatcher,da=x.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,va=!1,ba=!1,ya=0,xa=0;function wa(){throw Error(s(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(fa=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),ba){a=0;do{if(ba=!1,ya=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=co,e=n(r,i)}while(ba)}if(ha.current=so,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,va=!1,t)throw Error(s(300));return e}function Ca(){var e=0!==ya;return ya=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function Sa(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function Ta(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=o=null,l=null,u=a;do{var h=u.lane;if((fa&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,o=r):l=l.next=d,pa.lanes|=h,Dc|=h}u=u.next}while(null!==u&&u!==a);null===l?o=r:l.next=c,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,Dc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ia(e){var t=Sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(xo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Aa(e,t){var n=pa,r=Sa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,xo=!0),r=r.queue,qa(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ba(9,Ma.bind(null,n,r,i,t),void 0,null),null===Pc)throw Error(s(349));0!==(30&fa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ma(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&ja(e)}function Ra(e,t,n){return n(function(){La(t)&&ja(e)})}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function ja(e){var t=Is(e,1);null!==t&&rl(t,e,1,-1)}function Da(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function Ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return Sa().memoizedState}function za(e,t,n,r){var i=Ea();pa.flags|=e,i.memoizedState=Ba(1|t,n,void 0,void 0===r?null:r)}function Ha(e,t,n,r){var i=Sa();r=void 0===r?null:r;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=Ba(t,n,s,r))}pa.flags|=e,i.memoizedState=Ba(1|t,n,s,r)}function Ua(e,t){return za(8390656,8,e,t)}function qa(e,t){return Ha(2048,8,e,t)}function Wa(e,t){return Ha(4,2,e,t)}function Va(e,t){return Ha(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ha(4,4,Ga.bind(null,t,e),n)}function Ka(){}function Xa(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),pa.lanes|=n,Dc|=n,e.baseState=!0),t)}function Ja(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{yt=n,da.transition=r}}function Za(){return Sa().memoizedState}function eo(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ns(e,t,n,r))){rl(n,e,r,tl()),io(n,t,r)}}function to(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var c=t.interleaved;return null===c?(i.next=i,Ts(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ns(e,t,i,r))&&(rl(n,e,r,i=tl()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){ba=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var so={readContext:Es,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},ao={readContext:Es,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Es,useEffect:Ua,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:Da,useDebugValue:Ka,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=Da(!1),t=e[0];return e=Ja.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=Ea();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pc)throw Error(s(349));0!==(30&fa)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ua(Ra.bind(null,r,a,e),[e]),r.flags|=2048,Ba(9,Ma.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Pc.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=ya++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Es,useCallback:Xa,useContext:Es,useEffect:qa,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:Va,useMemo:Qa,useReducer:Na,useRef:Fa,useState:function(){return Na(Ta)},useDebugValue:Ka,useDeferredValue:function(e){return $a(Sa(),ma.memoizedState,e)},useTransition:function(){return[Na(Ta)[0],Sa().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Aa,useId:Za,unstable_isNewReconciler:!1},co={readContext:Es,useCallback:Xa,useContext:Es,useEffect:qa,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:Va,useMemo:Qa,useReducer:Ia,useRef:Fa,useState:function(){return Ia(Ta)},useDebugValue:Ka,useDeferredValue:function(e){var t=Sa();return null===ma?t.memoizedState=e:$a(t,ma.memoizedState,e)},useTransition:function(){return[Ia(Ta)[0],Sa().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Aa,useId:Za,unstable_isNewReconciler:!1};function lo(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vc||(Vc=!0,Gc=r),ho(0,t)},n}function mo(e,t,n){(n=Ms(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Yc?Yc=new Set([this]):Yc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,Rs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=x.ReactCurrentOwner,xo=!1;function wo(e,t,n,r){t.child=null===e?$s(t,null,n,r):Qs(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var s=t.ref;return Cs(t,i),r=ka(e,t,n,r,s,i),n=Ca(),null===e||xo?(is&&n&&es(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function ko(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ml(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Co(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Vo(e,t,i)}return t.flags|=1,(e=Rl(s,r)).ref=t.ref,e.return=t,t.child=e}function Co(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Vo(e,t,i);0!==(131072&e.flags)&&(xo=!0)}}return To(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Rc,Mc),Mc|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Rc,Mc),Mc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Si(Rc,Mc),Mc|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(Rc,Mc),Mc|=r;return wo(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,i){var s=Oi(n)?Pi:Ni.current;return s=Ai(t,s),Cs(t,i),n=ka(e,t,n,r,s,i),r=Ca(),null===e||xo?(is&&r&&es(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function No(e,t,n,r,i){if(Oi(n)){var s=!0;ji(t)}else s=!1;if(Cs(t,i),null===t.stateNode)Wo(e,t),qs(t,n,r),Vs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Es(l):l=Ai(t,l=Oi(n)?Pi:Ni.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||c!==l)&&Ws(t,a,r,l),Ps=!1;var d=t.memoizedState;a.state=d,Ds(t,r,a,i),c=t.memoizedState,o!==r||d!==c||Ii.current||Ps?("function"===typeof u&&(zs(t,n,u,r),c=t.memoizedState),(o=Ps||Us(t,n,o,r,d,c,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Os(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:gs(t.type,o),a.props=l,h=t.pendingProps,d=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Es(c):c=Ai(t,c=Oi(n)?Pi:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==c)&&Ws(t,a,r,c),Ps=!1,d=t.memoizedState,a.state=d,Ds(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ii.current||Ps?("function"===typeof f&&(zs(t,n,f,r),p=t.memoizedState),(l=Ps||Us(t,n,l,r,d,p,c)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,s,i)}function Io(e,t,n,r,i,s){So(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Di(t,n,!1),Vo(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Qs(t,e.child,null,s),t.child=Qs(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ra(e,t.containerInfo)}function Ao(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wo(e,t,n,r),t.child}var Oo,Mo,Ro,Lo,jo={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(oa,1&a),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,o?(i=t.mode,o=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=c):o=Dl(c,i,0,null),e=jl(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=jo,e):Fo(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Dl({mode:"visible",children:r.children},i,0,null),(a=jl(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Qs(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=jo,a);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,zo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(c=0!==(o&e.childLanes),xo||c){if(null!==(r=Pc)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Is(e,i),rl(r,e,i,-1))}return gl(),zo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=li(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Yi[Ki++]=Qi,Yi[Ki++]=$i,Yi[Ki++]=Xi,Qi=e.id,$i=e.overflow,Xi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,a,n);if(o){o=i.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Rl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rl(r,o):(o=jl(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,c=null===(c=e.child.memoizedState)?Do(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=e.childLanes&~n,t.memoizedState=jo,i}return e=(o=e.child).sibling,i=Rl(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Dl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&ps(r),Qs(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ho(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ks(e.return,t,n)}function Uo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ho(e,n,t);else if(19===e.tag)Ho(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uo(t,!0,n,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yo(t),null;case 1:case 17:return Oi(t.type)&&Mi(),Yo(t),null;case 3:return r=t.stateNode,ia(),Ei(Ii),Ei(Ni),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ol(ss),ss=null))),Mo(e,t),Yo(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Yo(t),null}if(e=na(Zs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var c in be(n,a),i=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):o.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[fi]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(c=ye(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Q(e,r),i=X(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in be(n,i),l=i)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&y(e,a,u,c))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yo(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Yo(t),null;case 13:if(Ei(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yo(t),a=!1}else null!==ss&&(ol(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Lc&&(Lc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Yo(t),null);case 4:return ia(),Mo(e,t),null===e&&Ur(t.stateNode.containerInfo),Yo(t),null;case 10:return _s(t.type._context),Yo(t),null;case 19:if(Ei(oa),null===(a=t.memoizedState))return Yo(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)Go(a,!1);else{if(0!==Lc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ca(e))){for(t.flags|=128,Go(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>qc&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!is)return Yo(t),null}else 2*$e()-a.renderingStartTime>qc&&1073741824!==n&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=oa.current,Si(oa,r?1&n|2:1&n),t):(Yo(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Mc)&&(Yo(t),6&t.subtreeFlags&&(t.flags|=8192)):Yo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Xo(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),Ei(Ii),Ei(Ni),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(Ei(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(oa),null;case 4:return ia(),null;case 10:return _s(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zs.current);var s,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in be(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Fr("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,$o=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){El(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tc(t,n,s)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ac(e){var t=e.alternate;null!==t&&(e.alternate=null,ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||oc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var hc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:$o||ec(n,t);case 6:var r=hc,i=dc;hc=null,fc(e,t,n),dc=i,null!==(hc=r)&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hc.removeChild(n.stateNode));break;case 18:null!==hc&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Ut(e)):ci(hc,n.stateNode));break;case 4:r=hc,i=dc,hc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),hc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tc(n,t,a),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!$o&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){El(n,t,o)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?($o=(r=$o)||null!==n.memoizedState,fc(e,t,n),$o=r):fc(e,t,n);break;default:fc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach(function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,c=o;e:for(;null!==c;){switch(c.tag){case 5:hc=c.stateNode,dc=!1;break e;case 3:case 4:hc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===hc)throw Error(s(160));pc(a,o,i),hc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){El(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),bc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(g){El(e,e.return,g)}try{rc(5,e,e.return)}catch(g){El(e,e.return,g)}}break;case 1:gc(t,e),bc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(gc(t,e),bc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){El(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&$(i,a),ye(c,o);var u=ye(c,a);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):y(i,h,d,u)}switch(c){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){El(e,e.return,g)}}break;case 6:if(gc(t,e),bc(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){El(e,e.return,g)}}break;case 3:if(gc(t,e),bc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){El(e,e.return,g)}break;case 4:default:gc(t,e),bc(e);break;case 13:gc(t,e),bc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Uc=$e())),4&r&&mc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($o=(u=$o)||h,gc(t,e),$o=u):gc(t,e),bc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){El(r,n,g)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){_c(d);continue}}null!==p?(p.return=f,Zo=p):_c(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=d.stateNode,o=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",o))}catch(g){El(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){El(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gc(t,e),bc(e),4&r&&mc(e);case 21:}}function bc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(oc(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;lc(e,cc(e),a);break;default:throw Error(s(161))}}catch(o){El(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Zo=e,xc(e,t,n)}function xc(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qo;if(!a){var o=i.alternate,c=null!==o&&null!==o.memoizedState||$o;o=Qo;var l=$o;if(Qo=a,($o=c)&&!l)for(Zo=i;null!==Zo;)c=(a=Zo).child,22===a.tag&&null!==a.memoizedState?kc(i):null!==c?(c.return=a,Zo=c):kc(i);for(;null!==s;)Zo=s,xc(s,t,n),s=s.sibling;Zo=i,Qo=o,$o=l}wc(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):wc(e)}}function wc(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,o,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(s(163))}$o||512&t.flags&&sc(t)}catch(f){El(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function _c(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function kc(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){El(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){El(t,i,c)}}var s=t.return;try{sc(t)}catch(c){El(t,s,c)}break;case 5:var a=t.return;try{sc(t)}catch(c){El(t,a,c)}}}catch(c){El(t,t.return,c)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Cc,Ec=Math.ceil,Sc=x.ReactCurrentDispatcher,Tc=x.ReactCurrentOwner,Nc=x.ReactCurrentBatchConfig,Ic=0,Pc=null,Ac=null,Oc=0,Mc=0,Rc=Ci(0),Lc=0,jc=null,Dc=0,Bc=0,Fc=0,zc=null,Hc=null,Uc=0,qc=1/0,Wc=null,Vc=!1,Gc=null,Yc=null,Kc=!1,Xc=null,Qc=0,$c=0,Jc=null,Zc=-1,el=0;function tl(){return 0!==(6&Ic)?$e():-1!==Zc?Zc:Zc=$e()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Ic)&&0!==Oc?Oc&-Oc:null!==ms.transition?(0===el&&(el=mt()),el):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rl(e,t,n,r){if(50<$c)throw $c=0,Jc=null,Error(s(185));vt(e,n,r),0!==(2&Ic)&&e===Pc||(e===Pc&&(0===(2&Ic)&&(Bc|=n),4===Lc&&cl(e,Oc)),il(e,r),1===n&&0===Ic&&0===(1&t.mode)&&(qc=$e()+500,Fi&&Ui()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,c=i[a];-1===c?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Pc?Oc:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fi=!0,Hi(e)}(ll.bind(null,e)):Hi(ll.bind(null,e)),ai(function(){0===(6&Ic)&&Ui()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pl(n,sl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sl(e,t){if(Zc=-1,el=0,0!==(6&Ic))throw Error(s(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=dt(e,e===Pc?Oc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Ic;Ic|=2;var a=ml();for(Pc===e&&Oc===t||(Wc=null,qc=$e()+500,fl(e,t));;)try{yl();break}catch(c){pl(e,c)}ws(),Sc.current=a,Ic=i,null!==Ac?t=0:(Pc=null,Oc=0,t=Lc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=jc,fl(e,0),cl(e,r),il(e,$e()),n;if(6===t)cl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(a=pt(e))&&(r=a,t=al(e,a))),1===t))throw n=jc,fl(e,0),cl(e,r),il(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_l(e,Hc,Wc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=Uc+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Hc,Wc),t);break}_l(e,Hc,Wc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ec(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Hc,Wc),r);break}_l(e,Hc,Wc);break;default:throw Error(s(329))}}}return il(e,$e()),e.callbackNode===n?sl.bind(null,e):null}function al(e,t){var n=zc;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Hc,Hc=n,null!==t&&ol(t)),e}function ol(e){null===Hc?Hc=e:Hc.push.apply(Hc,e)}function cl(e,t){for(t&=~Fc,t&=~Bc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Ic))throw Error(s(327));kl();var t=dt(e,0);if(0===(1&t))return il(e,$e()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=jc,fl(e,0),cl(e,t),il(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Hc,Wc),il(e,$e()),null}function ul(e,t){var n=Ic;Ic|=1;try{return e(t)}finally{0===(Ic=n)&&(qc=$e()+500,Fi&&Ui())}}function hl(e){null!==Xc&&0===Xc.tag&&0===(6&Ic)&&kl();var t=Ic;Ic|=1;var n=Nc.transition,r=yt;try{if(Nc.transition=null,yt=1,e)return e()}finally{yt=r,Nc.transition=n,0===(6&(Ic=t))&&Ui()}}function dl(){Mc=Rc.current,Ei(Rc)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ac)for(n=Ac.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:ia(),Ei(Ii),Ei(Ni),ua();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:Ei(oa);break;case 10:_s(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Pc=e,Ac=e=Rl(e.current,null),Oc=Mc=t,Lc=0,jc=null,Fc=Bc=Dc=0,Hc=zc=null,null!==Ss){for(t=0;t<Ss.length;t++)if(null!==(r=(n=Ss[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ss=null}return e}function pl(e,t){for(;;){var n=Ac;try{if(ws(),ha.current=so,va){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,ga=ma=pa=null,ba=!1,ya=0,Tc.current=null,null===n||null===n.return){Lc=1,jc=t,Ac=null;break}e:{var a=e,o=n.return,c=n,l=t;if(t=Oc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,bo(p,o,c,0,t),1&p.mode&&go(a,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){go(a,u,t),gl();break e}l=Error(s(426))}else if(is&&1&c.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bo(v,o,c,0,t),ps(lo(l,c));break e}}a=l=lo(l,c),4!==Lc&&(Lc=2),null===zc?zc=[a]:zc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,js(a,po(0,l,t));break e;case 1:c=l;var b=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Yc||!Yc.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,js(a,mo(a,c,t));break e}}a=a.return}while(null!==a)}wl(n)}catch(x){t=x,Ac===n&&null!==n&&(Ac=n=n.return);continue}break}}function ml(){var e=Sc.current;return Sc.current=so,null===e?so:e}function gl(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===Pc||0===(268435455&Dc)&&0===(268435455&Bc)||cl(Pc,Oc)}function vl(e,t){var n=Ic;Ic|=2;var r=ml();for(Pc===e&&Oc===t||(Wc=null,fl(e,t));;)try{bl();break}catch(i){pl(e,i)}if(ws(),Ic=n,Sc.current=r,null!==Ac)throw Error(s(261));return Pc=null,Oc=0,Lc}function bl(){for(;null!==Ac;)xl(Ac)}function yl(){for(;null!==Ac&&!Xe();)xl(Ac)}function xl(e){var t=Cc(e.alternate,e,Mc);e.memoizedProps=e.pendingProps,null===t?wl(e):Ac=t,Tc.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Mc)))return void(Ac=n)}else{if(null!==(n=Xo(n,t)))return n.flags&=32767,void(Ac=n);if(null===e)return Lc=6,void(Ac=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ac=t);Ac=t=e}while(null!==t);0===Lc&&(Lc=5)}function _l(e,t,n){var r=yt,i=Nc.transition;try{Nc.transition=null,yt=1,function(e,t,n,r){do{kl()}while(null!==Xc);if(0!==(6&Ic))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Pc&&(Ac=Pc=null,Oc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kc||(Kc=!0,Pl(tt,function(){return kl(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nc.transition,Nc.transition=null;var o=yt;yt=1;var c=Ic;Ic|=4,Tc.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=o+i),d!==a||0!==r&&3!==d.nodeType||(l=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=o),f===a&&++h===r&&(l=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(w){El(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nc,nc=!1}(e,n),vc(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yc(n,e,i),Qe(),Ic=c,yt=o,Nc.transition=a}else e.current=n;if(Kc&&(Kc=!1,Xc=e,Qc=i),a=e.pendingLanes,0===a&&(Yc=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vc)throw Vc=!1,e=Gc,Gc=null,e;0!==(1&Qc)&&0!==e.tag&&kl(),a=e.pendingLanes,0!==(1&a)?e===Jc?$c++:($c=0,Jc=e):$c=0,Ui()}(e,t,n,r)}finally{Nc.transition=i,yt=r}return null}function kl(){if(null!==Xc){var e=xt(Qc),t=Nc.transition,n=yt;try{if(Nc.transition=null,yt=16>e?16:e,null===Xc)var r=!1;else{if(e=Xc,Xc=null,Qc=0,0!==(6&Ic))throw Error(s(331));var i=Ic;for(Ic|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:rc(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var f=(h=Zo).sibling,p=h.return;if(ac(h),h===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rc(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Zo=b;break e}Zo=a.return}}var y=e.current;for(Zo=y;null!==Zo;){var x=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Zo=x;else e:for(o=y;null!==Zo;){if(0!==(2048&(c=Zo).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(_){El(c,c.return,_)}if(c===o){Zo=null;break e}var w=c.sibling;if(null!==w){w.return=c.return,Zo=w;break e}Zo=c.return}}if(Ic=i,Ui(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{yt=n,Nc.transition=t}}return!1}function Cl(e,t,n){e=Rs(e,t=po(0,t=lo(n,t),1),1),t=tl(),null!==e&&(vt(e,1,t),il(e,t))}function El(e,t,n){if(3===e.tag)Cl(e,e,n);else for(;null!==t;){if(3===t.tag){Cl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yc||!Yc.has(r))){t=Rs(t,e=mo(t,e=lo(n,e),1),1),e=tl(),null!==t&&(vt(t,1,e),il(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Pc===e&&(Oc&n)===n&&(4===Lc||3===Lc&&(130023424&Oc)===Oc&&500>$e()-Uc?fl(e,0):Fc|=n),il(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=Is(e,t))&&(vt(e,t,n),il(e,n))}function Nl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tl(e,n)}function Pl(e,t){return Ye(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Al(e,t,n,r)}function Ml(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Ml(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return jl(n.children,i,a,t);case C:o=8,i|=8;break;case E:return(e=Ol(12,n,t,2|i)).elementType=E,e.lanes=a,e;case I:return(e=Ol(13,n,t,i)).elementType=I,e.lanes=a,e;case P:return(e=Ol(19,n,t,i)).elementType=P,e.lanes=a,e;case M:return Dl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case T:o=9;break e;case N:o=11;break e;case A:o=14;break e;case O:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ol(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function jl(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Dl(e,t,n,r){return(e=Ol(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Bl(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hl(e,t,n,r,i,s,a,o,c){return e=new zl(e,t,n,o,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ol(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},As(s),e}function Ul(e){if(!e)return Ti;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,s,a,o,c){return(e=Hl(n,r,!0,e,0,s,0,o,c)).context=Ul(null),n=e.current,(s=Ms(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Rs(n,s,i),e.current.lanes=i,vt(e,i,r),il(e,r),e}function Wl(e,t,n,r){var i=t.current,s=tl(),a=nl(i);return n=Ul(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Rs(i,t,a))&&(rl(e,i,a,s),Ls(e,i,a)),a}function Vl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Cc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),fs();break;case 5:sa(t);break;case 1:Oi(t.type)&&ji(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(Si(oa,1&oa.current),null!==(e=Vo(e,t,n))?e.sibling:null);Si(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return Vo(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var i=Ai(t,Ni.current);Cs(t,n),i=ka(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,ji(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,As(t),i.updater=Hs,t.stateNode=i,i._reactInternals=t,Vs(t,r,e,n),t=Io(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ml(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(r),e=gs(r,e),i){case 0:t=To(null,t,r,e,n);break e;case 1:t=No(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=ko(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Po(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Os(e,t),Ds(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ao(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Ao(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=li(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=$s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Vo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&ls(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),So(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ls(t),null;case 13:return Bo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qs(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Si(vs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ii.current){t=Vo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){o=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Ms(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ks(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ks(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Cs(t,n),r=r(i=Es(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),ko(e,t,r,i=gs(r.type,i),n);case 15:return Co(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Wo(e,t),t.tag=1,Oi(r)?(e=!0,ji(t)):e=!1,Cs(t,n),qs(t,r,i),Vs(t,r,i,n),Io(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return Eo(e,t,n)}throw Error(s(156,t.tag))};var Kl="function"===typeof reportError?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Vl(a);o.call(e)}}Wl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Vl(a);s.call(e)}}var a=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=a,e[pi]=a.current,Ur(8===e.nodeType?e.parentNode:e),hl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Vl(c);o.call(e)}}var c=Hl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[pi]=c.current,Ur(8===e.nodeType?e.parentNode:e),hl(function(){Wl(t,c,n,r)}),c}(n,t,e,i,r);return Vl(a)}Ql.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wl(e,t,null,null)},Ql.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl(function(){Wl(null,e,null,null)}),t[pi]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(bt(t,1|n),il(t,$e()),0===(6&Ic)&&(qc=$e()+500,Ui()))}break;case 13:hl(function(){var t=Is(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}}),Yl(e,1)}},_t=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)rl(t,e,134217728,tl());Yl(e,134217728)}},kt=function(e){if(13===e.tag){var t=nl(e),n=Is(e,t);if(null!==n)rl(n,e,t,tl());Yl(e,t)}},Ct=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));Y(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=ul,Ie=hl;var tu={usingClientEntryPoint:!1,Events:[yi,xi,wi,Se,Te,ul]},nu={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$l(e))throw Error(s(299));var n=!1,r="",i=Kl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return hl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$l(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Kl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ql(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(s(40));return!!e._reactRootContainer&&(hl(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},2731:(e,t,n)=>{var r=n(7641),i=n(2358),s=n(9480),a=n(2549),o=n(6292);function c(e,t,n,i){r(e,t,n,i);var s=t.height*a.STEP;return e.y+=s,t}function l(e,t,n,r){var i=-(n.staffs[n.staffs.length-1].bottom-2),s=(r.staffs[0].top-10+i)*a.STEP;s<t&&e.moveY(t-s)}e.exports=function(e,t,n,r,a,u,h,d,f,p){var m=new o(e.paper,d,f);e.paper.openGroup(),e.moveY(e.padding.top),s(e,n.topText,m),e.paper.closeGroup(),e.moveY(e.spacing.music);for(var g=[],v=0;v<n.lines.length;v++){t.incrLine();var b=n.lines[v];if(b.staff){e.paper.openGroup(),b.vskip&&e.moveY(b.vskip),g.length>=1&&l(e,e.spacing.staffSeparation,g[g.length-1],b.staffGroup);var y=c(e,b.staffGroup,m,v);y.line=p+v,g.push(y),e.paper.closeGroup()}else b.nonMusic&&(e.paper.openGroup(),s(e,b.nonMusic,m),e.paper.closeGroup())}return t.reset(),n.bottomText&&n.bottomText.rows&&n.bottomText.rows.length>0&&(e.paper.openGroup(),e.moveY(24),s(e,n.bottomText,m),e.paper.closeGroup()),i(e,a,h,u),{staffgroups:g,selectables:m.getElements()}}},2740:e=>{"use strict";e.exports=function(e,t,n,r,i,s,a,o){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,s,a,o],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},2748:(e,t,n)=>{var r=n(7708),i=n(5879),s=n(9979),a=n(6608),o=n(4752),c=n(66),l=n(3837),u=n(3458),h=n(5013),d=n(2128),f="MIDI is not supported in this browser.",p="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",m="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/";e.exports=function(){var e=this;e.audioBufferPossible=void 0,e.directSource=[],e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.audioBuffers=[],e.duration=void 0,e.isRunning=!1,e.init=function(t){t||(t={}),s(t.audioContext);var n=a().currentTime;if(e.debugCallback=t.debugCallback,e.debugCallback&&e.debugCallback("init called"),e.audioBufferPossible=e._deviceCapable(),!e.audioBufferPossible)return Promise.reject({status:"NotSupported",message:f});var r=t.options?t.options:{};e.soundFontUrl=r.soundFontUrl?r.soundFontUrl:m,"/"!==e.soundFontUrl[e.soundFontUrl.length-1]&&(e.soundFontUrl+="/"),r.soundFontVolumeMultiplier||0===r.soundFontVolumeMultiplier?e.soundFontVolumeMultiplier=r.soundFontVolumeMultiplier:e.soundFontUrl===m||"https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/"===e.soundFontUrl?e.soundFontVolumeMultiplier=3:e.soundFontUrl===p?e.soundFontVolumeMultiplier=.4:e.soundFontVolumeMultiplier=1,r.programOffsets?e.programOffsets=r.programOffsets:e.soundFontUrl===p?e.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:e.programOffsets={};var i=void 0!==r.fadeLength?parseInt(r.fadeLength,10):NaN;if(e.fadeLength=isNaN(i)?200:i,i=void 0!==r.noteEnd?parseInt(r.noteEnd,10):NaN,e.noteEnd=isNaN(i)?0:i,e.pan=r.pan,e.meterSize=1,t.visualObj){e.flattened=t.visualObj.setUpAudio(r),t.visualObj.getMeterFraction().den&&(e.meterSize=t.visualObj.getMeterFraction().num/t.visualObj.getMeterFraction().den)}else{if(!t.sequence)return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));e.flattened=t.sequence}e.millisecondsPerMeasure=t.millisecondsPerMeasure?t.millisecondsPerMeasure:t.visualObj?t.visualObj.millisecondsPerMeasure(e.flattened.tempo):1e3,e.beatsPerMeasure=t.visualObj?t.visualObj.getBeatsPerMeasure():4,e.sequenceCallback=r.sequenceCallback,e.callbackContext=r.callbackContext,e.onEnded=r.onEnded;var o={},u=[],h=[],g=l[0];e.flattened.tracks.forEach(function(e){e.forEach(function(e){if("program"===e.cmd&&l[e.instrument]&&(g=l[e.instrument]),void 0!==e.pitch){var t=e.pitch,n=c[t];if(n)if(o[g]||(o[g]={}),d[g]&&d[g][n]){var r=g+":"+n;u.indexOf(r)<0&&u.push(r)}else o[g][n]=!0;else{var i=g+":"+n;console.log("Can't find note: ",t,i),h.indexOf(i)<0&&h.push(i)}}})}),e.debugCallback&&e.debugCallback("note gathering time = "+Math.floor(1e3*(a().currentTime-n))+"ms"),n=a().currentTime;var v=[];Object.keys(o).forEach(function(e){Object.keys(o[e]).forEach(function(t){v.push({instrument:e,note:t})})}),e.debugCallback&&e.debugCallback("notes "+JSON.stringify(v));for(var b=[],y=0;y<v.length;y+=256)b.push(v.slice(y,y+256));return new Promise(function(t,r){var i={cached:u,error:h,loaded:[]},s=0,o=function(){e.debugCallback&&e.debugCallback("loadBatch idx="+s+" len="+b.length),s<b.length?e._loadBatch(b[s],e.soundFontUrl,n).then(function(t){e.debugCallback&&e.debugCallback("loadBatch then"),n=a().currentTime,t&&(t.error&&(i.error=i.error.concat(t.error)),t.loaded&&(i.loaded=i.loaded.concat(t.loaded))),s++,o()},r):(e.debugCallback&&e.debugCallback("resolve init"),t(i))};o()})},e._loadBatch=function(t,n,i,s){var o=[];return t.forEach(function(t){e.debugCallback&&e.debugCallback("getNote "+t.instrument+":"+t.note),o.push(r(n,t.instrument,t.note,a()))}),Promise.all(o).then(function(r){e.debugCallback&&e.debugCallback("mp3 load time = "+Math.floor(1e3*(a().currentTime-i))+"ms");for(var o=[],c=[],l=[],u=[],h=0;h<r.length;h++){var d=r[h],f=d.instrument+":"+d.name;"loaded"===d.status?o.push(f):"pending"===d.status?l.push(f):"cached"===d.status?c.push(f):u.push(f+" "+d.message)}if(l.length>0){if(e.debugCallback&&e.debugCallback("pending "+JSON.stringify(l)),s?s*=2:s=50,s<9e4)return new Promise(function(t,r){setTimeout(function(){var a=[];for(h=0;h<l.length;h++)f=l[h].split(":"),a.push({instrument:f[0],note:f[1]});e.debugCallback&&e.debugCallback("retry "+JSON.stringify(a)),e._loadBatch(a,n,i,s).then(function(e){t(e)}).catch(function(e){r(e)})},s)});for(var p=[],m=0;m<t.length;m++)p.push(t[m].instrument+"/"+t[m].note);return e.debugCallback&&e.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+p.join(", ")))}return e.debugCallback&&e.debugCallback("loadBatch resolve"),Promise.resolve({loaded:o,cached:c,error:u})}).catch(function(t){e.debugCallback&&e.debugCallback("loadBatch catch "+t.message)})},e.prime=function(){var t=e.fadeLength/1e3;return e.isRunning=!1,e.audioBufferPossible?(e.debugCallback&&e.debugCallback("prime called"),new Promise(function(n){var r=a().currentTime,s=e.millisecondsPerMeasure/1e3/e.meterSize;if(e.duration=e.flattened.totalDuration*s,e.duration<=0)return e.audioBuffers=[],n({status:"empty",seconds:0});e.duration+=t;var o=Math.floor(a().sampleRate*e.duration);e.stop();var c=i(e.flattened);e.sequenceCallback&&e.sequenceCallback(c,e.callbackContext);var l=function(e,t){if(null===t||void 0===t)return null;var n=[];if(t.length){for(var r=0;r<e;r++)if(r<t.length){var i=parseFloat(t[r]);i<-1?i=-1:i>1&&(i=1),n.push(i)}else n.push(0);return n}var s=parseFloat(t);if(s*(e-1)>2)return null;for(var a=e%2===0,o=a?0-s/2:0,c=o+s,l=0;l<e;l++)(a=l%2===0)?(n.push(o),o-=s):(n.push(c),c+=s);return n}(c.length,e.pan),u={};c.forEach(function(t,n){var r=l&&l.length>n?l[n]:0;t.forEach(function(t){var n=t.instrument+":"+t.pitch+":"+t.volume+":"+Math.round(1e3*(t.end-t.start))/1e3+":"+r+":"+s+":"+(t.cents?t.cents:0);e.debugCallback&&e.debugCallback("noteMapTrack "+n),u[n]||(u[n]=[]),u[n].push(t.start)})});for(var d=[],f=a().createBuffer(2,o,a().sampleRate),p=0;p<Object.keys(u).length;p++){var m=Object.keys(u)[p],g=m.split(":"),v=void 0!==g[6]?parseFloat(g[6]):0;g={instrument:g[0],pitch:parseInt(g[1],10),volume:parseInt(g[2],10),len:parseFloat(g[3]),pan:parseFloat(g[4]),tempoMultiplier:parseFloat(g[5]),cents:v},d.push(h(f,a().sampleRate,g,u[m],e.soundFontVolumeMultiplier,e.programOffsets[g.instrument],t,e.noteEnd/1e3,e.debugCallback))}function b(e){var t=e&&e.audioBuffers&&e.audioBuffers.length>0?e.audioBuffers[0].duration:0;return{status:a().state,duration:t}}e.audioBuffers=[f],e.debugCallback&&(e.debugCallback("sampleRate = "+a().sampleRate),e.debugCallback("totalSamples = "+o),e.debugCallback("creationTime = "+Math.floor(1e3*(a().currentTime-r))+"ms")),Promise.all(d).then(function(){"suspended"===a().state?a().resume().then(function(){n(b(e))}):"interrupted"===a().state?a().suspend().then(function(){a().resume().then(function(){n(b(e))})}):n(b(e))})})):Promise.reject(new Error(f))},e.start=function(){if(!e.audioBufferPossible)throw new Error(f);e.debugCallback&&e.debugCallback("start called");var t=e.pausedTimeSec?e.pausedTimeSec:0;e._kickOffSound(t),e.startTimeSec=a().currentTime-t,e.pausedTimeSec=void 0,e.debugCallback&&e.debugCallback("MIDI STARTED",e.startTimeSec)},e.pause=function(){if(!e.audioBufferPossible)throw new Error(f);return e.debugCallback&&e.debugCallback("pause called"),e.pausedTimeSec=e.stop(),e.pausedTimeSec},e.resume=function(){e.start()},e.seek=function(t,n){var r;switch(n){case"seconds":r=t;break;case"beats":r=t*e.millisecondsPerMeasure/e.beatsPerMeasure/1e3;break;default:r=(e.duration-e.fadeLength/1e3)*t}if(!e.audioBufferPossible)throw new Error(f);e.debugCallback&&e.debugCallback("seek called sec="+r),e.isRunning?(e.stop(),e._kickOffSound(r)):e.pausedTimeSec=r,e.pausedTimeSec=r},e.stop=function(){return e.isRunning=!1,e.pausedTimeSec=void 0,e.directSource.forEach(function(e){try{e.stop()}catch(t){console.log("direct source didn't stop:",t)}}),e.directSource=[],a().currentTime-e.startTimeSec},e.finished=function(){e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.isRunning=!1},e.download=function(){return u(e)},e.getAudioBuffer=function(){return e.audioBuffers[0]},e.getIsRunning=function(){return e.isRunning},e._deviceCapable=function(){return!!o()||(console.warn(f),e.debugCallback&&e.debugCallback(f),!1)},e._kickOffSound=function(t){e.isRunning=!0,e.directSource=[],e.audioBuffers.forEach(function(t,n){e.directSource[n]=a().createBufferSource(),e.directSource[n].buffer=t,e.directSource[n].connect(a().destination)}),e.directSource.forEach(function(e){e.start(0,t)}),e.onEnded&&(e.directSource[0].onended=function(){e.onEnded(e.callbackContext)})}}},2826:(e,t,n)=>{var r=n(7199),i=r.notes;function s(e,t){this.fromN=new r.TabNote(e),this.toN=new r.TabNote(t)}s.prototype.build=function(){var e=this.fromN,t=this.toN;if(t.isLowerThan(e)){var n=e.emit();return{error:"Invalid string Instrument tuning : "+t.emit()+" string lower than "+n+" string"}}var r=[],s=i.indexOf(e.name),a=i.indexOf(t.name);if(-1==s||-1==a)return r;for(var o=!1;!o;)r.push(e.emit()),(e=e.nextNote()).sameNoteAs(t)&&(o=!0);return r},e.exports=s},2897:(e,t,n)=>{var r=n(1920),i=n(1667),s=n(5645);e.exports=function(e,t){var n,a=0;e.el_type="clef";var o=new r(e,0,10,"staff-extra clef",t);switch(o.isClef=!0,e.type){case"treble":n="clefs.G";break;case"tenor":case"alto":n="clefs.C";break;case"bass":n="clefs.F";break;case"treble+8":n="clefs.G",a=1;break;case"tenor+8":case"alto+8":n="clefs.C",a=1;break;case"bass+8":n="clefs.F",a=1;break;case"treble-8":n="clefs.G",a=-1;break;case"tenor-8":case"alto-8":n="clefs.C",a=-1;break;case"bass-8":n="clefs.F",a=-1;break;case"none":return null;case"perc":n="clefs.perc";break;default:o.addFixed(new s("clef="+e.type,0,0,void 0,{type:"debug"}))}if(n){var c=i.symbolHeightInPitches(n),l=function(e){switch(e){case"clefs.G":return-5;case"clefs.C":case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}(n);if(o.addRight(new s(n,5,i.getSymbolWidth(n),e.clefPos,{top:c+e.clefPos+l,bottom:e.clefPos+l})),0!==a){var u=2/3,h=(i.getSymbolWidth(n)-i.getSymbolWidth("8")*u)/2,d=a>0?o.top+3:o.bottom-1,f=a>0?o.top+3:o.bottom-3,p=f-2;"bass-8"===e.type&&(d=3,h=0),o.addRight(new s("8",5+h,i.getSymbolWidth("8")*u,d,{scalex:u,scaley:u,top:f,bottom:p}))}}return o}},2995:(e,t,n)=>{const r=n(5765);function i(e,t,n,r,i,s){this.rows=[],e.unalignedWords&&e.unalignedWords.length>0&&this.unalignedWords(e.unalignedWords,r,i,s),this.extraText(e,r,i,s),e.footer&&n&&this.footer(e.footer,t,r,s)}i.prototype.unalignedWords=function(e,t,n,i){var s="meta-bottom unaligned-words",a="wordsfont";this.rows.push({startGroup:"unalignedWords",klass:"abcjs-meta-bottom abcjs-unaligned-words",name:"words"});var o=i.calc("i",a,s);this.rows.push({move:n.words});for(var c=0;c<e.length;c++)if(""===e[c])this.rows.push({move:o.height});else if("string"===typeof e[c])r(this.rows,{marginLeft:t,text:e[c],font:a,klass:s,inGroup:!0,name:"words"},i);else{for(var l=0,u=0,h=0;h<e[c].length;h++){var d=e[c][h],f=d.font?d.font:a;this.rows.push({left:t+u,text:d.text,font:f,anchor:"start"});var p=i.calc(d.text,a,s);l=Math.max(l,p.height),u+=p.width," "===d.text[d.text.length-1]&&(u+=o.width)}this.rows.push({move:l})}this.rows.push({move:2*o.height}),this.rows.push({endGroup:"unalignedWords",absElemType:"unalignedWords",startChar:-1,endChar:-1,name:"unalignedWords"})},i.prototype.extraText=function(e,t,n,i){var s="";e.book&&(s+="Book: "+e.book+"\n"),e.source&&(s+="Source: "+e.source+"\n"),e.discography&&(s+="Discography: "+e.discography+"\n"),e.notes&&(s+="Notes: "+e.notes+"\n"),e.transcription&&(s+="Transcription: "+e.transcription+"\n"),e.history&&(s+="History: "+e.history+"\n"),e["abc-copyright"]&&(s+="Copyright: "+e["abc-copyright"]+"\n"),e["abc-creator"]&&(s+="Creator: "+e["abc-creator"]+"\n"),e["abc-edited-by"]&&(s+="Edited By: "+e["abc-edited-by"]+"\n"),s.length>0&&r(this.rows,{marginLeft:t,text:s,font:"historyfont",klass:"meta-bottom extra-text",marginTop:n.info,absElemType:"extraText",name:"description"},i)},i.prototype.footer=function(e,t,n,i){var s="header meta-bottom",a="footerfont";this.rows.push({startGroup:"footer",klass:s}),r(this.rows,{marginLeft:n,text:e.left,font:a,klass:s,name:"footer"},i),r(this.rows,{marginLeft:n+t/2,text:e.center,font:a,klass:s,anchor:"middle",name:"footer"},i),r(this.rows,{marginLeft:n+t,text:e.right,font:a,klass:s,anchor:"end",name:"footer"},i)},e.exports=i},3039:(e,t,n)=>{var r=n(2549),i=n(3737),s=n(1771),a=n(4952),o=n(9809),c=n(6700),l=n(2657),u=n(2995),h=n(3463),d=n(6355),f=n(8144),p=n(9970),m=n(3830),g=n(2731),v=n(3783),b=function(e,t){t=t||{},this.oneSvgPerLine=t.oneSvgPerLine,this.selectionColor=t.selectionColor,this.dragColor=t.dragColor?t.dragColor:t.selectionColor,this.dragging=!!t.dragging,this.selectTypes=t.selectTypes,this.responsive=t.responsive,this.space=3*r.SPACE,this.initialClef=t.initialClef,this.expandToWidest=!!t.expandToWidest,this.scale=t.scale?parseFloat(t.scale):0,this.classes=new f({shouldAddClasses:t.add_classes}),this.scale>.1||(this.scale=void 0),t.staffwidth?(this.staffwidthScreen=t.staffwidth,this.staffwidthPrint=t.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],t.clickListener&&this.addSelectListener(t.clickListener),this.renderer=new s(e),this.renderer.setPaddingOverride(t),t.showDebug&&(this.renderer.showDebug=t.showDebug),t.jazzchords&&(this.jazzchords=t.jazzchords),t.germanAlphabet&&(this.germanAlphabet=t.germanAlphabet),t.lineThickness&&(this.lineThickness=t.lineThickness),this.renderer.controller=this,this.renderer.foregroundColor=t.foregroundColor?t.foregroundColor:"currentColor",void 0!==t.ariaLabel&&(this.renderer.ariaLabel=t.ariaLabel),this.renderer.minPadding=t.minPadding?t.minPadding:0,this.reset()};function y(e){for(var t=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=0;n<e.attributes.length;n++){var r=e.attributes[n];"height"!==r.name&&"aria-label"!=r.name&&t.setAttribute(r.name,r.value)}return t}b.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)},b.prototype.engraveABC=function(e,t,n){void 0===e[0]&&(e=[e]),this.reset();for(var r=0;r<e.length;r++)void 0===t&&(t=r),this.getFontAndAttr=new p(e[r].formatting,this.classes),this.getTextSize=new m(this.getFontAndAttr,this.renderer.paper),this.engraveTune(e[r],t,n)},b.prototype.adjustNonScaledItems=function(e){this.width/=e,this.renderer.adjustNonScaledItems(e)},b.prototype.getMeasureWidths=function(e){this.reset(),this.getFontAndAttr=new p(e.formatting,this.classes),this.getTextSize=new m(this.getFontAndAttr,this.renderer.paper),this.setupTune(e,0),this.constructTuneElements(e),d(this.renderer,e,0,this.space);for(var t,n=[],r=!0,i=0;i<e.lines.length;i++){var s=e.lines[i];if(s.staff){if(r&&(t={left:0,measureWidths:[],total:0},n.push(t),r=!1),s.staffGroup.voices.length>0)for(var a=s.staffGroup.voices[0],o=!1,c=0,l=0;l<a.children.length;l++){var u=a.children[l];o||u.isClef||u.isKeySig||(o=!0,t.left=u.x,c=u.x),"bar"===u.type&&(t.measureWidths.push(u.x-c),t.total+=u.x-c,c=u.x)}}else r=!0}return n},b.prototype.setupTune=function(e,t){this.classes.reset(),void 0!==e.formatting.jazzchords&&(this.jazzchords=e.formatting.jazzchords),this.renderer.newTune(e),this.engraver=new i(this.getTextSize,t,{bagpipes:e.formatting.bagpipes,flatbeams:e.formatting.flatbeams,graceSlurs:!1!==e.formatting.graceSlurs,percmap:e.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=e.getMeterFraction().num/e.getMeterFraction().den,e.formatting.staffwidth?this.width=1.33*e.formatting.staffwidth:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var n=e.formatting.scale?e.formatting.scale:this.scale;return"resize"===this.responsive&&(n=void 0),void 0===n&&(n=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(n),n},b.prototype.constructTuneElements=function(e){var t,n;e.topText=new l(e.metaText,e.metaTextInfo,e.formatting,e.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.getTextSize);var r=!1,i=!1;for(t=0;t<e.lines.length;t++)if((n=e.lines[t]).staff)i=!0,n.staffGroup=this.engraver.createABCLine(n.staff,r?null:e.metaText.tempo,t),r=!0;else if(n.subtitle){if(i){var s=this.width/2+this.renderer.padding.left;n.nonMusic=new c(this.renderer.spacing.subtitle,e.formatting,n.subtitle,s,this.renderer.padding.left,this.getTextSize)}}else void 0!==n.text?(i=!0,n.nonMusic=new a(n.text,n.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):void 0!==n.separator&&n.separator.lineLength&&(i=!0,n.nonMusic=new o(n.separator.spaceAbove,n.separator.lineLength,n.separator.spaceBelow));e.bottomText=new u(e.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.getTextSize)},b.prototype.engraveTune=function(e,t,n){var r=this.setupTune(e,t);this.constructTuneElements(e);var i=d(this.renderer,e,this.width,this.space,this.expandToWidest);this.expandToWidest&&i>this.width+1&&(e.topText=new l(e.metaText,e.metaTextInfo,e.formatting,e.lines,i,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.getTextSize)),e.tablatures&&v.layoutTablatures(this.renderer,e);var s=g(this.renderer,this.classes,e,this.width,i,this.responsive,r,this.selectTypes,t,n);if(this.staffgroups=s.staffgroups,this.selectables=s.selectables,this.oneSvgPerLine){var a=this.renderer.paper.svg.parentNode;this.svgs=function(e,t,n,r){n||(n="Untitled");var i=t.querySelector("svg");"resize"===r&&(t.style.paddingBottom="");for(var s=i.querySelector("style"),a="resize"===r?i.viewBox.baseVal.width:i.getAttribute("width"),o=t.querySelectorAll("svg > g"),c=0,l=[],u=0;u<o.length;u++){var h=o[u],d=h.getBBox(),f=d.y-c,p=d.height+f,m=document.createElement("div"),g="overflow: hidden;";"resize"!==r&&(g+="height:"+p+"px;"),m.setAttribute("style",g);var v=y(i),b='Sheet Music for "'+n+'" section '+(u+1);v.setAttribute("aria-label",b),"resize"!==r&&v.setAttribute("height",p),"resize"===r&&(v.style.position="");var x=e.firefox112?p+1:p;v.setAttribute("viewBox","0 "+c+" "+a+" "+x),v.appendChild(s.cloneNode(!0));var w=document.createElement("title");w.innerText=b,v.appendChild(w),v.appendChild(h),m.appendChild(v),l.push(v),t.appendChild(m),c=d.y+d.height}return t.removeChild(i),l}(this.renderer,a,e.metaText.title,this.responsive)}else this.svgs=[this.renderer.paper.svg];h(this,this.svgs)},b.prototype.getDim=function(e){if(!e.dim){var t=e.svgEl.getBBox();e.dim={left:Math.round(t.x),top:Math.round(t.y),right:Math.round(t.x+t.width),bottom:Math.round(t.y+t.height)}}return e.dim},b.prototype.addSelectListener=function(e){this.listeners[this.listeners.length]=e},e.exports=b},3050:e=>{e.exports=function(e,t,n){this.type="DynamicDecoration",this.anchor=e,this.dec=t,"below"===n?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3271:(e,t,n)=>{var r=n(5898),i=n(764),s=n(3783),a={};!function(){"use strict";a.numberOfTunes=function(e){var t=e.split("\nX:").length;return 0===t&&(t=1),t};var e=a.TuneBook=function(e){var t=i(e);this.header=t.header,this.tunes=t.tunes};e.prototype.getTuneById=function(e){for(var t=0;t<this.tunes.length;t++)if(this.tunes[t].id===""+e)return this.tunes[t];return null},e.prototype.getTuneByTitle=function(e){for(var t=0;t<this.tunes.length;t++)if(this.tunes[t].title===e)return this.tunes[t];return null},a.parseOnly=function(e,t){for(var n=a.numberOfTunes(e),r=[],i=0;i<n;i++)r.push(1);return a.renderEngine(function(){},r,e,t)},a.renderEngine=function(t,n,i,a){var o=[];if(void 0!==n&&void 0!==i){var c;(!(c=n)||c.propertyIsEnumerable("length")||"object"!==typeof c||"number"!==typeof c.length)&&(n=[n]),void 0===a&&(a={});for(var l=a.startingTune?parseInt(a.startingTune,10):0,u=new e(i),h=new r,d=0;d<n.length;d++){var f=n[d];if("*"===f||"string"===typeof f&&(f=document.getElementById(f)),f)if(l>=0&&l<u.tunes.length){h.parse(u.tunes[l].abc,a,u.tunes[l].startPos-u.header.length);var p=h.getTune();a.tablature&&(s.init(),p.tablatures=s.preparePlugins(p,l,a));var m=h.getWarnings();m&&(p.warnings=m);var g=t(f,p,d,u.tunes[l].abc);o.push(g||p)}else f.innerHTML&&(f.innerHTML="");l++}return o}},a.extractMeasures=function(t){for(var n=[],r=new e(t),i=0;i<r.tunes.length;i++){for(var s=r.tunes[i],o=s.abc.split("K:"),c=o[1].split("\n"),l=o[0]+"K:"+c[0]+"\n",u=null,h=null,d=null,f=[],p=!1,m=a.parseOnly(s.abc)[0],g=m.getPickupLength()>0,v=0;v<m.lines.length;v++){var b=m.lines[v];if(b.staff)for(var y=0;y<1;y++)for(var x=b.staff[y],w=0;w<1;w++)for(var _=x.voices[w],k=0;k<_.length;k++){var C=_[k];if(null===d&&C.startChar>=0&&(d=C.startChar,h=void 0===C.chord?u:null),C.chord&&(u=C),"bar"===C.el_type){if(p){var E={abc:s.abc.substring(d,C.endChar)};(u=h&&h.chord&&h.chord.length>0?h.chord[0].name:null)&&(E.lastChord=u),C.startEnding&&(E.startEnding=C.startEnding),C.endEnding&&(E.endEnding=C.endEnding),f.push(E),d=null,p=!1}}else"note"===C.el_type&&(p=!0)}}n.push({header:l,measures:f,hasPickup:g})}return n}}(),e.exports=a},3304:e=>{var t=function(e,t){this.startVoice=e,this.type=t};t.prototype.setBottomStaff=function(e){this.endVoice=e,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)},t.prototype.continuing=function(e){this.lastContinuedVoice=e},t.prototype.getWidth=function(){return 10},t.prototype.isStartVoice=function(e){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===e)},e.exports=t},3427:(e,t,n)=>{var r=n(4689),i=function(e){this.getTextSize=e,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};i.prototype.setLimit=function(e,t){t.specialY[e]&&(t.staff.specialY[e]?t.staff.specialY[e]=Math.max(t.staff.specialY[e],t.specialY[e]):t.staff.specialY[e]=t.specialY[e])},i.prototype.addVoice=function(e,t,n){var r=this.voices.length;this.voices[r]=e,this.staffs[t]?this.staffs[t].voices.push(r):this.staffs[this.staffs.length]={top:10,bottom:2,lines:n,voices:[r],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},e.staff=this.staffs[t]},i.prototype.setHeight=function(){this.height=r(this)},i.prototype.setWidth=function(e){this.w=e;for(var t=0;t<this.voices.length;t++)this.voices[t].setWidth(e)},i.prototype.setStaffLimits=function(e){e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)},e.exports=i},3428:e=>{function t(e,t){for(var n=[],r=[],i=0,s=0;s<e.length;s++){var a=e[s],o=i+a;if(o<t)i=o;else t-i<o-t&&i>0?(n.push(s-1),r.push(Math.round(i-a)),i=a):s<e.length-1&&(n.push(s),r.push(Math.round(i)),i=0)}return r.push(Math.round(i)),{lineBreaks:n,totals:r}}function n(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function r(e,t,r,i,s,a,o,c,l,u,h){for(var d=u;d<e.length;d++){var f=e[d];r+=f,i+=f;var p=Math.abs(r-t[c]);if(Math.abs(p-a)<t[0]/10)if(p<a){var m=n(s),g=n(l);g.push(d-1),m.push(i-f),h.push({accumulator:r,lineAccumulator:f,lineWidths:m,lastVariance:Math.abs(r-t[c+1]),highestVariance:Math.max(o,a),currLine:c+1,lineBreaks:g,startIndex:d+1})}else p>a&&d<e.length-1&&(m=n(s),g=n(l),h.push({accumulator:r,lineAccumulator:i,lineWidths:m,lastVariance:p,highestVariance:Math.max(o,p),currLine:c,lineBreaks:g,startIndex:d+1}));p>a?(l.push(d-1),c++,o=Math.max(o,a),a=Math.abs(r-t[c]),s.push(i-f),i=f):a=p}s.push(i)}function i(e,t,n,i){for(var s=Math.ceil(e.total/t),a=Math.floor(e.total/s),o=[],c=0;c<s;c++)o.push(a*(c+1));var l=[];l.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var u=0;u<l.length;)r(e.measureWidths,o,l[u].accumulator,l[u].lineAccumulator,l[u].lineWidths,l[u].lastVariance,l[u].highestVariance,l[u].currLine,l[u].lineBreaks,l[u].startIndex,l),u++;for(c=0;c<l.length;c++){var h=l[c];h.variances=[],h.aveVariance=0;for(var d=0;d<h.lineWidths.length;d++){var f=h.lineWidths[d];h.variances.push(f-o[0]),h.aveVariance+=Math.abs(f-o[0])}h.aveVariance=h.aveVariance/h.lineWidths.length,i.attempts.push({type:"optimizeLineWidths",lineBreaks:h.lineBreaks,variances:h.variances,aveVariance:h.aveVariance,widths:e.measureWidths})}var p=9999999,m=-1;for(c=0;c<l.length;c++)(h=l[c]).aveVariance<p&&(p=h.aveVariance,m=c);return{failed:!1,lineBreaks:l[m].lineBreaks,variance:l[m].highestVariance}}function s(e,t,n){for(var r=[],i=[],s=0,a=!1,o=0;o<e.length;o++)(s+=e[o])>t&&(a=!0),o%n===n-1&&(o!==e.length-1&&r.push(o),i.push(Math.round(s)),s=0);return{failed:a,totals:i,lineBreaks:r}}e.exports={wrapLines:function(e,t,n){if(t&&0!==e.lines.length){var r=e.deline({lineBreaks:!1}),i=function(e,t){for(var n=[],r=0,i=0,s=0,a=0;a<e.length;a++){var o=e[a];if(o.staff){var c=i,l=t[r];r++;for(var u=0;u<o.staff.length;u++)for(var h=o.staff[u],d=0;d<h.voices.length;d++){s=c;for(var f=0,p=0,m=h.voices[d],g=0,v=0;v<m.length;v++){"bar"===m[v].el_type&&(l[p]===f&&(n.push({ogLine:a,line:s,staff:u,voice:d,start:g,end:v}),g=v+1,s++,i=Math.max(i,s),p++),f++)}n.push({ogLine:a,line:s,staff:u,voice:d,start:g,end:m.length}),s++,i=Math.max(i,s)}}else n.push({ogLine:a,line:s}),s++,i=Math.max(i,s)}return n}(r,t);e.lines=function(e,t,n){for(var r=[],i=[],s=[],a=1,o=0;o<t.length;o++){var c=t[o];if(e[c.ogLine].staff){var l=e[c.ogLine].staff[c.staff];if(r[c.line]||(r[c.line]={staff:[]}),!r[c.line].staff[c.staff]){r[c.line].staff[c.staff]={voices:[]},void 0!==n&&0===c.staff&&c.line>0&&(r[c.line].staff[c.staff].barNumber=a);for(var u=Object.keys(l),h=0;h<u.length;h++){var d="voices"===u[h];"meter"===u[h]&&0!==c.line&&(d=!0),d||(r[c.line].staff[c.staff][u[h]]=l[u[h]])}i[c.staff]&&(r[c.line].staff[c.staff].key=i[c.staff])}r[c.line].staff[c.staff].voices[c.voice]||(r[c.line].staff[c.staff].voices[c.voice]=[]),r[c.line].staff[c.staff].voices[c.voice]=e[c.ogLine].staff[c.staff].voices[c.voice].slice(c.start,c.end+1),s[10*c.staff+c.voice]&&r[c.line].staff[c.staff].voices[c.voice].unshift({el_type:"stem",direction:s[10*c.staff+c.voice].direction});for(var f=r[c.line].staff[c.staff].voices[c.voice],p=f.length-1;p>=0;p--)if("key"===f[p].el_type){i[c.staff]={root:f[p].root,acc:f[p].acc,mode:f[p].mode,accidentals:f[p].accidentals.filter(function(e){return"natural"!==e.acc})};break}for(p=f.length-1;p>=0;p--)if("stem"===f[p].el_type){s[10*c.staff+c.voice]={direction:f[p].direction};break}if(void 0!==n&&0===c.staff&&0===c.voice)for(p=0;p<f.length;p++)"bar"===f[p].el_type&&(a++,p===f.length-1?delete f[p].barNumber:f[p].barNumber=a)}else r[c.line]=e[c.ogLine]}for(var m=0;m<r.length;m++)r[m].staff&&(r[m].staff=r[m].staff.filter(function(e){return null!=e}));return r}(r,i,n),e.lineBreaks=i}},calcLineWraps:function(e,n,r){if(0===n.length||r.staffwidth<n[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:r};var a=r.scale?Math.max(r.scale,.1):1,o=r.wrap.minSpacing?Math.max(parseFloat(r.wrap.minSpacing),1):1,c=r.wrap.minSpacingLimit?Math.max(parseFloat(r.wrap.minSpacingLimit),1):o-.1,l=r.wrap.maxSpacing?Math.max(parseFloat(r.wrap.maxSpacing),1):void 0;r.wrap.lastLineLimit&&!l&&(l=Math.max(parseFloat(r.wrap.lastLineLimit),1));for(var u=r.wrap.preferredMeasuresPerLine?Math.max(parseInt(r.wrap.preferredMeasuresPerLine,10),0):void 0,h=[],d=[],f=0;f<n.length;f++){var p=n[f],m=r.staffwidth-p.left,g=m/o/a,v=m/c/a,b={widths:p,lineBreakPoint:g,minLineSize:m/l/a,attempts:[],staffWidth:r.staffwidth,minWidth:Math.round(v)},y=null;if(u){var x=s(p.measureWidths,g,u);b.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:u,lineBreaks:x.lineBreaks,failed:x.failed,totals:x.totals}),x.failed||(y=x.lineBreaks)}if(!y){var w=t(p.measureWidths,g);b.attempts.push({type:"Free Form",lineBreaks:w.lineBreaks,totals:w.totals}),(y=w.lineBreaks).length>0&&p.measureWidths.length<25&&(w=i(p,g,0,b),b.attempts.push({type:"Optimize",failed:w.failed,reason:w.reason,lineBreaks:w.lineBreaks,totals:w.totals}),w.failed||(y=w.lineBreaks))}h.push(y),d.push(b)}var _=function(e,t,n){var r={lineBreaks:e,staffwidth:t};for(var i in n)n.hasOwnProperty(i)&&"wrap"!==i&&"staffwidth"!==i&&(r[i]=n[i]);return{revisedParams:r}}(h,r.staffwidth,r);return _.explanation=d,_.reParse=!0,_}}},3458:e=>{e.exports=function(e){return window.URL.createObjectURL(function(e){var t,n,r=e[0],i=r.numberOfChannels,s=r.length*i*2+44,a=new ArrayBuffer(s),o=new DataView(a),c=[],l=0,u=0;for(d(1179011410),d(s-8),d(1163280727),d(544501094),d(16),h(1),h(i),d(r.sampleRate),d(2*r.sampleRate*i),h(2*i),h(16),d(1635017060),d(s-u-4),t=0;t<i;t++)c.push(r.getChannelData(t));for(;u<s;){for(t=0;t<c.length;t++)n=0|(.5+(n=Math.max(-1,Math.min(1,c[t][l])))<0?32768*n:32767*n),o.setInt16(u,n,!0),u+=2;l++}return new Blob([a],{type:"audio/wav"});function h(e){o.setUint16(u,e,!0),u+=2}function d(e){o.setUint32(u,e,!0),u+=4}}(e.audioBuffers))}},3463:(e,t,n)=>{var r=n(2549);function i(e){"keyboard"===this.dragMechanism&&0!==this.dragYStep&&this.dragTarget&&f.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,e),this.dragYStep=0}function s(e){switch(e.keyCode){case 38:case 40:e.preventDefault()}}function a(e){var t=!1,n=e.target.dataset.index;switch(e.keyCode){case 13:case 32:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",h.bind(this)(e);break;case 38:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*r.STEP+")"));break;case 40:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*r.STEP+")"));break;case 9:0!==this.dragYStep&&h.bind(this)(e)}t&&e.preventDefault()}function o(e,t){var n,r,i,s=function(e,t){if(!t)return-1;for(var n=0;n<e.length;n++)if(t.dataset.index===e[n].svgEl.dataset.index)return n;return-1}(e.selectables,function(e){if(!e)return null;if("svg"===e.tagName)return e;if(!e.getAttribute)return null;for(var t=e.getAttribute("selectable");!t;)t=!e.parentElement||"svg"===(e=e.parentElement).tagName||e.getAttribute("selectable");return e}(t.target));return s>=0?(i=function(e,t,n){return e.x<=t.offsetX&&e.x+e.width>=t.offsetX&&e.y<=t.offsetY&&e.y+e.height>=t.offsetY||Math.abs(t.layerY/n-t.offsetY)<3?[t.offsetX,t.offsetY]:[t.layerX,t.layerY]}(e.selectables[s].svgEl.getBBox(),t,e.scale),n=i[0],r=i[1]):(i=function(e){var t,n,r=1,i=1,s=e.target.closest("svg"),a=0;return s&&s.viewBox&&s.viewBox.baseVal&&(0!==s.viewBox.baseVal.width&&(r=s.viewBox.baseVal.width/s.clientWidth),0!==s.viewBox.baseVal.height&&(i=s.viewBox.baseVal.height/s.clientHeight),a=s.viewBox.baseVal.y),e.target&&"svg"===e.target.tagName?(t=e.offsetX,n=e.offsetY):(t=e.layerX,n=e.layerY),[t*=r,(n*=i)+a]}(t),s=function(e,t,n){for(var r=9999999,i=-1,s=0;s<e.selectables.length&&r>0;s++){var a=e.selectables[s];if(e.getDim(a),a.dim.left<t&&a.dim.right>t&&a.dim.top<n&&a.dim.bottom>n)i=s,r=0;else if(a.dim.top<n&&a.dim.bottom>n){var o=Math.min(Math.abs(a.dim.left-t),Math.abs(a.dim.right-t));o<r&&(r=o,i=s)}else if(a.dim.left<t&&a.dim.right>t){var c=Math.min(Math.abs(a.dim.top-n),Math.abs(a.dim.bottom-n));c<r&&(r=c,i=s)}else{var l=Math.abs(t-a.dim.left)>Math.abs(t-a.dim.right)?Math.abs(t-a.dim.right):Math.abs(t-a.dim.left),u=Math.abs(n-a.dim.top)>Math.abs(n-a.dim.bottom)?Math.abs(n-a.dim.bottom):Math.abs(n-a.dim.top),h=Math.sqrt(l*l+u*u);h<r&&(r=h,i=s)}}return i>=0&&r<=12?i:-1}(e,n=i[0],r=i[1])),{x:n,y:r,clickedOn:s}}function c(e){if(e&&e.target&&e.touches&&!(e.touches.length<1)){var t=e.target.getBoundingClientRect(),n=e.touches[0].pageX-t.left,r=e.touches[0].pageY-t.top;e.touches[0].offsetX=n,e.touches[0].offsetY=r,e.touches[0].layerX=e.touches[0].pageX,e.touches[0].layerY=e.touches[0].pageY}}function l(e){var t=e;"touchstart"===e.type&&(c(e),e.touches.length>0&&(t=e.touches[0]));var n=o(this,t);n.clickedOn>=0&&("touchstart"===e.type||0===e.button)&&this.selectables[n.clickedOn]&&(this.dragTarget=this.selectables[n.clickedOn],this.dragIndex=n.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:n.x,y:n.y},this.dragging&&this.dragTarget.isDraggable&&(!function(e,t){if(e){var n=v(e.svg);n[t]=!0,b(e.svg,n)}}(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function u(e){var t=e;if("touchmove"===e.type&&(c(e),e.touches.length>0&&(t=e.touches[0])),this.lastTouchMove=e,this.dragTarget&&this.dragging&&this.dragTarget.isDraggable&&"mouse"===this.dragMechanism&&this.dragMouseStart){var n=o(this,t),i=Math.round((n.y-this.dragMouseStart.y)/r.STEP);i!==this.dragYStep&&(this.dragYStep=i,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+i*r.STEP+")"))}}function h(e){var t=e;"touchend"===e.type&&this.lastTouchMove&&(c(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&(t=this.lastTouchMove.touches[0])),this.dragTarget&&(m.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),f.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,t),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),function(e,t){if(e){var n=v(e.svg);delete n[t],b(e.svg,n)}}(this.renderer.svg,"abcjs-dragging-in-progress"))}function d(e){e>=0&&e<this.selectables.length&&(this.dragTarget=this.selectables[e],this.dragIndex=e,this.dragMechanism="keyboard",h.bind(this)({target:this.dragTarget.svgEl}))}function f(e,t,n,r,i){var s=[];if(e.absEl.elemset){for(var a={},o=0;o<e.absEl.elemset.length;o++){var c=e.absEl.elemset[o];if(c)for(var l=c.getAttribute("class").split(" "),u=0;u<l.length;u++)a[l[u]]=!0}for(var h=0;h<Object.keys(a).length;h++)s.push(Object.keys(a)[h])}for(var f={},m=0;m<s.length;m++)p(s[m],"abcjs-v",f,"voice"),p(s[m],"abcjs-l",f,"line"),p(s[m],"abcjs-m",f,"measure");e.staffPos&&(f.staffPos=e.staffPos);for(var g=i.target;g&&g.dataset&&!g.dataset.name&&"svg"!==g.tagName.toLowerCase();)g=g.parentNode;for(var v=i.target;v&&v.dataset&&!v.dataset.index&&"svg"!==v.tagName.toLowerCase();)v=v.parentNode;v&&v.dataset&&(f.name=v.dataset.name,f.clickedName=g.dataset.name,f.parentClasses=v.classList),g&&g.classList&&(f.clickedClasses=g.classList),f.selectableElement=e.svgEl;for(var b=0;b<this.listeners.length;b++)this.listeners[b](e.absEl.abcelem,e.absEl.tuneNumber,s.join(" "),f,{step:t,max:n,index:r,setSelection:d.bind(this)},i)}function p(e,t,n,r){if(0===e.indexOf(t)){var i=e.replace(t,""),s=parseInt(i,10);""+s===i&&(n[r]=s)}}function m(){for(var e=0;e<this.selected.length;e++)this.selected[e].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function g(e,t){m.bind(this)();for(var n=0;n<this.staffgroups.length;n++)for(var r=this.staffgroups[n].voices,i=0;i<r.length;i++)for(var s=r[i].children,a=0;a<s.length;a++){var o=s[a].abcelem.startChar,c=s[a].abcelem.endChar;(t>o&&e<c||t===e&&t===c)&&(this.selected[this.selected.length]=s[a],s[a].highlight(void 0,this.selectionColor))}}function v(e){var t=e.getAttribute("class");t||(t="");for(var n=t.split(" "),r={},i=0;i<n.length;i++)r[n[i]]=!0;return r}function b(e,t){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r);e.setAttribute("class",n.join(" "))}e.exports=function(e,t){if(e.rangeHighlight=g,e.dragging)for(var n=0;n<e.selectables.length;n++){var r=e.selectables[n];"true"===r.svgEl.getAttribute("selectable")&&(r.svgEl.setAttribute("tabindex",0),r.svgEl.setAttribute("data-index",n),r.svgEl.addEventListener("keydown",s.bind(e)),r.svgEl.addEventListener("keyup",a.bind(e)),r.svgEl.addEventListener("focus",i.bind(e)))}for(var o=0;o<t.length;o++)t[o].addEventListener("touchstart",l.bind(e),{passive:!0}),t[o].addEventListener("touchmove",u.bind(e),{passive:!0}),t[o].addEventListener("touchend",h.bind(e),{passive:!0}),t[o].addEventListener("mousedown",l.bind(e)),t[o].addEventListener("mousemove",u.bind(e)),t[o].addEventListener("mouseup",h.bind(e))}},3480:(e,t,n)=>{var r=n(5481),i={};!function(){"use strict";var e,t;i.startAnimation=function(n,i,s){function a(e){for(var t=0;t<e.length;t++){var n=e[t];n.classList.contains("abcjs-bar")||(n.style.display="none")}}var o;function c(e){s.hideCurrentMeasure?function(e){a(n.querySelectorAll(e))}(e):s.hideFinishedMeasures&&function(e){o&&a(n.querySelectorAll(o)),o=e}(e)}e&&(e.stop(),e=void 0),s.showCursor&&((t=n.querySelector(".abcjs-cursor"))||((t=document.createElement("DIV")).className="abcjs-cursor cursor",t.style.position="absolute",n.appendChild(t),n.style.position="relative")),(e=new r(i,{qpm:s.bpm,eventCallback:function(n){if(n){if(n.measureStart){var r=".abcjs-l"+(i=n).line+".abcjs-m"+i.measureNumber;r&&c(r)}t&&(t.style.left=n.left+"px",t.style.top=n.top+"px",t.style.width=n.width+"px",t.style.height=n.height+"px")}else e.stop(),e=void 0;var i}})).start()},i.pauseAnimation=function(t){e&&(t?e.pause():e.start())},i.stopAnimation=function(){e&&(e.stop(),e=void 0)}}(),e.exports=i},3534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,s,a){var o=i||"<<anonymous>>",c=a||r;if(null==n[r])return t?new Error("Required "+s+" `"+c+"` was not specified in `"+o+"`."):null;for(var l=arguments.length,u=Array(l>6?l-6:0),h=6;h<l;h++)u[h-6]=arguments[h];return e.apply(void 0,[n,r,o,s,c].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},3737:(e,t,n)=>{var r=n(1920),i=n(8366),s=n(3304),a=n(2897),o=n(5605),c=n(9720),l=n(9747),u=n(874),h=n(4106),d=n(1667),f=n(5645),p=n(2549),m=n(3427),g=n(9024),v=n(1141),b=n(5971),y=n(9129),x=n(4766),w=n(904),_=n(4484),k=function(e){var t=0;return e.duration&&(t=e.duration),t},C=!1,E={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},S=function(e,t,n){this.decoration=new u,this.getTextSize=e,this.tuneNumber=t,this.isBagpipes=n.bagpipes,this.flatBeams=n.flatbeams,this.graceSlurs=n.graceSlurs,this.percmap=n.percmap,this.initialClef=n.initialClef,this.jazzchords=!!n.jazzchords,this.germanAlphabet=!!n.germanAlphabet,this.reset()};function T(e,t){var n=e[t];if("note"!==n.el_type||!n.startBeam||n.endBeam)return{count:1,elem:n};for(var r=[];t<e.length&&"note"===e[t].el_type&&(r.push(e[t]),!e[t].endBeam);)t++;return{count:r.length,elem:r}}function N(e){if(e.pitches){I(e);for(var t=0,n=0;n<e.pitches.length;n++)t+=e.pitches[n].verticalPos;e.averagepitch=t/e.pitches.length,e.minpitch=e.pitches[0].verticalPos,e.maxpitch=e.pitches[e.pitches.length-1].verticalPos}}S.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0},S.prototype.setStemHeight=function(e){this.stemHeight=Math.round(10*e/p.STEP)/10},S.prototype.getCurrentVoiceId=function(e,t){return"s"+e+"v"+t},S.prototype.pushCrossLineElems=function(e,t){this.slursbyvoice[this.getCurrentVoiceId(e,t)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(e,t)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(e,t)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(e,t)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(e,t)]=this.voiceColor)},S.prototype.popCrossLineElems=function(e,t){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(e,t)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(e,t)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(e,t)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(e,t)],void 0===this.voiceScale&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(e,t)]},S.prototype.containsLyrics=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].voices.length;n++)for(var r=0;r<e[t].voices[n].length;r++){var i=e[t].voices[n][r];if(i.lyric)return void(i.positioning&&"below"!==i.positioning.vocalPosition||(this.hasVocals=!0))}},S.prototype.createABCLine=function(e,t,n){this.minY=2,this.containsLyrics(e);var r=new m(this.getTextSize);this.tempoSet=!1;for(var i=0;i<e.length;i++)C&&this.restoreState(),C=!1,this.createABCStaff(r,e[i],t,i,n);return r},S.prototype.createABCStaff=function(e,t,n,r,i){e.getTextSize.updateFonts(t);for(var c=0;c<t.voices.length;c++){var u=new y(c,t.voices.length);0===c?(u.barfrom="start"===t.connectBarLines||"continue"===t.connectBarLines,u.barto="continue"===t.connectBarLines||"end"===t.connectBarLines):u.duplicate=!0,t.title&&t.title[c]&&(u.header=t.title[c].replace(/\\n/g,"\n"),u.headerPosition=6+e.getTextSize.baselineToCenter(u.header,"voicefont","staff-extra voice-name",c,t.voices.length)/p.STEP),t.clef&&"perc"===t.clef.type&&(u.isPercussion=!0);var h=(!this.initialClef||0===i)&&a(t.clef,this.tuneNumber);h&&(0===c&&t.barNumber&&this.addMeasureNumber(t.barNumber,h),u.addChild(h),this.startlimitelem=h);var d=o(t.key,this.tuneNumber);if(d&&(u.addChild(d),this.startlimitelem=d),t.meter){"specified"===t.meter.type?this.measureLength=t.meter.value[0].num/t.meter.value[0].den:this.measureLength=1;var f=l(t.meter,this.tuneNumber);u.addChild(f),this.startlimitelem=f}u.duplicate&&(u.children=[]);var m=t.clef.stafflines||0===t.clef.stafflines?t.clef.stafflines:5;e.addVoice(u,r,m);var g=1===m;this.createABCVoice(t.voices[c],n,r,c,g,u),e.setStaffLimits(u),0===c&&("start"===t.brace||!e.brace&&t.brace?(e.brace||(e.brace=[]),e.brace.push(new s(u,"brace"))):"end"===t.brace&&e.brace?e.brace[e.brace.length-1].setBottomStaff(u):"continue"===t.brace&&e.brace&&e.brace[e.brace.length-1].continuing(u),"start"===t.bracket||!e.bracket&&t.bracket?(e.bracket||(e.bracket=[]),e.bracket.push(new s(u,"bracket"))):"end"===t.bracket&&e.bracket?e.bracket[e.bracket.length-1].setBottomStaff(u):"continue"===t.bracket&&e.bracket&&e.bracket[e.bracket.length-1].continuing(u))}},S.prototype.createABCVoice=function(e,t,n,i,s,a){this.popCrossLineElems(n,i),this.stemdir=this.isBagpipes?"down":null,this.abcline=e,this.partstartelem&&(this.partstartelem=new h("",null,null),a.addOther(this.partstartelem));var o=a.voicetotal<2?-1:a.voicenumber;for(var l in this.slurs)this.slurs.hasOwnProperty(l)&&(this.slurs[l]=new v({force:this.slurs[l].force,voiceNumber:o,stemDir:this.slurs[l].stemDir,style:this.slurs[l].dotted}),C&&this.slurs[l].setHint(),a.addOther(this.slurs[l]));for(var u=0;u<this.ties.length;u++)this.ties[u]=new v({force:this.ties[u].force,stemDir:this.ties[u].stemDir,voiceNumber:o,style:this.ties[u].dotted}),C&&this.ties[u].setHint(),a.addOther(this.ties[u]);for(var d=0;d<this.abcline.length;d++)N(this.abcline[d]),this.minY=Math.min(this.abcline[d].minpitch,this.minY);for(var f=0===n,p=0;p<this.abcline.length;){var m=T(this.abcline,p),b=this.createABCElement(f,s,a,m.elem);if(b)for(u=0;u<b.length;u++){if(!this.tempoSet&&t&&!t.suppress){this.tempoSet=!0;var y=new r(t,0,0,"tempo",this.tuneNumber,{});y.addFixedX(new g(t,this.tuneNumber,c)),a.addChild(y)}a.addChild(b[u])}p+=m.count}this.pushCrossLineElems(n,i)},S.prototype.saveState=function(){this.tiesSave=_.cloneArray(this.ties),this.slursSave=_.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=_.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=_.cloneHashOfArrayOfHash(this.tiesbyvoice)},S.prototype.restoreState=function(){this.ties=_.cloneArray(this.tiesSave),this.slurs=_.cloneHashOfHash(this.slursSave),this.slursbyvoice=_.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=_.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)},S.prototype.createABCElement=function(e,t,n,i){var s=[];switch(i.el_type){case void 0:s=this.createBeam(t,n,i);break;case"note":s[0]=this.createNote(i,!1,t,n),this.triplet&&this.triplet.isClosed()&&(n.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":s[0]=this.createBarLine(n,i,e),n.duplicate&&s.length>0&&(s[0].invisible=!0);break;case"meter":s[0]=l(i,this.tuneNumber),this.startlimitelem=s[0],n.duplicate&&s.length>0&&(s[0].invisible=!0);break;case"clef":if(s[0]=a(i,this.tuneNumber),!s[0])return null;n.duplicate&&s.length>0&&(s[0].invisible=!0);break;case"key":var u=o(i,this.tuneNumber);u&&(s[0]=u,this.startlimitelem=s[0]),n.duplicate&&s.length>0&&(s[0].invisible=!0);break;case"stem":this.stemdir="auto"===i.direction?void 0:i.direction;break;case"part":var h=new r(i,0,0,"part",this.tuneNumber),d=this.getTextSize.calc(i.title,"partsfont","part");h.addFixedX(new f(i.title,0,0,void 0,{type:"part",height:d.height/p.STEP})),s[0]=h;break;case"tempo":var m=new r(i,0,0,"tempo",this.tuneNumber);m.addFixedX(new g(i,this.tuneNumber,c)),s[0]=m;break;case"style":"normal"===i.head?delete this.style:this.style=i.head;break;case"hint":C=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=i.size;break;case"color":this.voiceColor=i.color,n.color=this.voiceColor;break;default:var v=new r(i,0,0,"unsupported",this.tuneNumber);v.addFixed(new f("element type "+i.el_type,0,0,void 0,{type:"debug"})),s[0]=v}return s},S.prototype.createBeam=function(e,t,n){var r=[],s=new i(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,n[0]);C&&s.setHint();for(var a=0;a<n.length;a++)s.runningDirection(n[a]);s.setStemDirection();var o=this.stemdir;for(this.stemdir=s.stemsUp?"up":"down",a=0;a<n.length;a++){var c=n[a],l=this.createNote(c,!0,e,t);r.push(l),s.add(l),this.triplet&&this.triplet.isClosed()&&(t.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return s.calcDir(),t.addBeam(s),this.stemdir=o,r};var I=function(e){var t;do{t=!0;for(var n=0;n<e.pitches.length-1;n++)if(e.pitches[n].pitch>e.pitches[n+1].pitch){t=!1;var r=e.pitches[n];e.pitches[n]=e.pitches[n+1],e.pitches[n+1]=r}}while(!t)},P=function(e,t,n,r,i,s,a,o,c){for(var l=n;l>11;l--)l%2!==0||r||e.addFixed(new f(null,o,(i+4)*c,l,{type:"ledger"}));for(l=t;l<1;l++)l%2!==0||r||e.addFixed(new f(null,o,(i+4)*c,l,{type:"ledger"}));for(l=0;l<s.length;l++){var u=i;"down"===a&&(u=-u),e.addFixed(new f(null,u+o,(i+4)*c,s[l],{type:"ledger"}))}};function A(e,t){for(var n=0;n<e.length;n++)if(JSON.stringify(e[n])===JSON.stringify(t))return;e.push(t)}S.prototype.addGraceNotes=function(e,t,n,r,s,a,o){var l=.6;s=Math.round(.7*s);var u,h,p=null;e.gracenotes.length>1&&(p=new i(s,"grace",a),C&&p.setHint(),p.mainNote=n);var m=[];for(h=e.gracenotes.length-1;h>=0;h--)o+=10,m[h]=o,e.gracenotes[h].accidental&&(o+=7);for(h=0;h<e.gracenotes.length;h++){var g=e.gracenotes[h].verticalPos;u=p?null:E.uflags[a?5:3];var b=c(n,"noteheads.quarter",e.gracenotes[h],{dir:"up",headx:-m[h],extrax:-m[h],flag:u,scale:l*this.voiceScale,accidentalSlot:[]});b.notehead.highestVert=b.notehead.pitch+s;var y=b.notehead;if(this.addSlursAndTies(n,e.gracenotes[h],y,t,"up",!0),n.addExtra(y),e.gracenotes[h].acciaccatura){var x=e.gracenotes[h].verticalPos+4.2,w=p?5:6;n.addRight(new f("flags.ugrace",-m[h]+w,0,x,{scalex:l,scaley:l}))}if(p){var _=e.gracenotes[h].duration/2;a&&(_/=2);var k={heads:[y],abcelem:{averagepitch:g,minpitch:g,maxpitch:g,duration:_}};p.add(k)}else{var S=g+1/3*l,T=g+4.2,N=y.dx+y.w;n.addExtra(new f(null,N,0,S,{type:"stem",pitch2:T,linewidth:-.6}))}P(n,g,g,!1,d.getSymbolWidth("noteheads.quarter"),[],!0,y.dx-1,.6);var I=e.rest&&("spacer"===e.rest.type||"invisible"===e.rest.type);0!==h||a||!this.graceSlurs||I||t.addOther(new v({anchor1:y,anchor2:r,isGrace:!0}))}return p&&(p.calcDir(),t.addBeam(p)),o},S.prototype.addNoteToAbcElement=function(e,t,n,r,i,s,a,o,l){var u,h,p,m,g,v=0,b=0,y=0,x=[],_=[],C=0,S=t.averagepitch>=6?"down":"up";for(r&&(S=r),(i=t.style?t.style:i)&&"normal"!==i||(i="note"),(m=s?E[i].nostem:E[i][-a])||console.log("noteSymbol:",i,a,s),g="down"===S?t.pitches.length-2:1;"down"===S?g>=0:g<t.pitches.length;g="down"===S?g-1:g+1){var T=t.pitches["down"===S?g+1:g-1],N=t.pitches[g],I="down"===S?T.pitch-N.pitch:N.pitch-T.pitch;I<=1&&!T.printer_shift&&(N.printer_shift=I?"different":"same",(N.verticalPos>11||N.verticalPos<1)&&x.push(N.verticalPos-N.verticalPos%2),"down"===S?b=d.getSymbolWidth(m)+2:v=d.getSymbolWidth(m)+2)}var P=t.pitches.length;for(g=0;g<t.pitches.length;g++){var O,M;if(!o)O="down"===S&&0!==g||"up"===S&&g!==P-1?null:E["down"===S?"dflags":"uflags"][-a];if(t.pitches[g].style)M=E[t.pitches[g].style][-a];else if(l.isPercussion&&this.percmap){M=m;var R=this.percmap[w(t.pitches[g])];R&&R.noteHead&&E[R.noteHead]&&(M=E[R.noteHead][-a])}else M=m;if(t.pitches[g].highestVert=t.pitches[g].verticalPos,("up"===r||"up"===S)&&0===g||("down"===r||"down"===S)&&g===P-1){if((t.startSlur||1===P)&&(t.pitches[g].highestVert=t.pitches[P-1].verticalPos,k(t)<1&&("up"===r||"up"===S)&&(t.pitches[g].highestVert+=6)),t.startSlur)for(t.pitches[g].startSlur||(t.pitches[g].startSlur=[]),p=0;p<t.startSlur.length;p++)A(t.pitches[g].startSlur,t.startSlur[p]);if(t.endSlur)for(t.pitches[g].highestVert=t.pitches[P-1].verticalPos,k(t)<1&&("up"===r||"up"===S)&&(t.pitches[g].highestVert+=6),t.pitches[g].endSlur||(t.pitches[g].endSlur=[]),p=0;p<t.endSlur.length;p++)A(t.pitches[g].endSlur,t.endSlur[p])}var L=!o&&a<=-1,j=c(e,M,t.pitches[g],{dir:S,extrax:-b,flag:O,dot:n,dotshiftx:v,scale:this.voiceScale,accidentalSlot:_,shouldExtendStem:!r,printAccidentals:!l.isPercussion});C=Math.max(d.getSymbolWidth(M),C),e.extraw-=j.extraLeft,(u=j.notehead)&&(this.addSlursAndTies(e,t.pitches[g],u,l,L?S:null,!1),t.gracenotes&&t.gracenotes.length>0&&(u.bottom=u.bottom-1),e.addHead(u)),b+=j.accidentalshiftx,y=Math.max(y,j.dotshiftx)}if(L){var D=Math.round(70*this.voiceScale)/10,B="down"===S?t.minpitch-D:t.minpitch+1/3;B>6&&!r&&(B=6);var F="down"===S?t.maxpitch-1/3:t.maxpitch+D;F<6&&!r&&(F=6);var z="down"===S||0===e.heads.length?0:e.heads[0].w,H="down"===S?1:-1;u&&"noteheads.slash.quarter"===u.c&&("down"===S?F-=1:B+=1),u&&"noteheads.triangle.quarter"===u.c&&("down"===S?F-=.7:B-=1.2),e.addRight(new f(null,z,0,B,{type:"stem",pitch2:F,linewidth:H,bottom:B-1})),h=Math.min(B,F)}return{noteHead:u,roomTaken:b,roomTakenRight:y,min:h,additionalLedgers:x,dir:S,symbolWidth:C}},S.prototype.addLyric=function(e,t){var n="";t.lyric.forEach(function(e){var t=" "===e.divider?"":e.divider;n+=e.syllable+t+"\n"});var r=this.getTextSize.calc(n,"vocalfont","lyric"),i=t.positioning?t.positioning.vocalPosition:"below";e.addCentered(new f(n,0,r.width,void 0,{type:"lyric",position:i,height:r.height/p.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))},S.prototype.createNote=function(e,t,n,i){var s,a=null,o=0,l=0,u=0,h=[],p=k(e),m=!1;0===p&&(m=!0,p=.25,t=!0);for(var g=Math.floor(Math.log(p)/Math.log(2)),v=0,y=Math.pow(2,g),w=y/2;y<p;v++,y+=w,w/=2);e.startTriplet&&(this.tripletmultiplier=e.tripletMultiplier);var _=p*this.tripletmultiplier;e.rest&&"multimeasure"===e.rest.type&&(_=1),e.rest&&"invisible-multimeasure"===e.rest.type&&(_=this.measureLength*e.rest.text);var S=e.rest?"rest":"note",T=new r(e,_,1,S,this.tuneNumber,{durationClassOveride:e.duration*this.tripletmultiplier});if(C&&T.setHint(),e.rest){this.measureLength===p&&"invisible"!==e.rest.type&&"spacer"!==e.rest.type&&e.rest.type.indexOf("multimeasure")<0&&(e.rest.type="whole");var N=function(e,t,n,r,i,s,a,o,l){var u,h,p,m,g=7;switch(i&&("down"===s&&(g=3),"up"===s&&(g=11)),a&&(g=n<.5||n<1?7:5),t.rest.type){case"whole":u=E.rest[0],t.averagepitch=g,t.minpitch=g,t.maxpitch=g,r=0;break;case"rest":u="rhythm"===t.style?E.rhythm[-o]:E.rest[-o],t.averagepitch=g,t.minpitch=g,t.maxpitch=g;break;case"invisible":case"invisible-multimeasure":case"spacer":u="",t.averagepitch=g,t.minpitch=g,t.maxpitch=g;break;case"multimeasure":u=E.rest.multi,t.averagepitch=g,t.minpitch=g,t.maxpitch=g,r=0;var v=d.getSymbolWidth(u);e.addHead(new f(u,v,2*v,7));var b=new f(""+t.rest.text,v,v,16,{type:"multimeasure-text"});e.addExtra(b)}if(t.rest.type.indexOf("multimeasure")<0&&"invisible"!==t.rest.type){var y=c(e,u,{verticalPos:g},{dot:r,scale:l});(h=y.notehead)&&(e.addHead(h),p=y.accidentalshiftx,m=y.dotshiftx)}return{noteHead:h,roomTaken:p,roomTakenRight:m}}(T,e,p,v,i.voicetotal>1,this.stemdir,n,g,this.voiceScale);a=N.noteHead,o=N.roomTaken,l=N.roomTakenRight}else{var I=this.addNoteToAbcElement(T,e,v,this.stemdir,this.style,m,g,t,i);void 0!==I.min&&(this.minY=Math.min(I.min,this.minY)),a=I.noteHead,o=I.roomTaken,l=I.roomTakenRight,h=I.additionalLedgers,s=I.dir,u=I.symbolWidth}if(void 0!==e.lyric&&this.addLyric(T,e),void 0!==e.gracenotes&&(o+=this.addGraceNotes(e,i,T,a,this.stemHeight*this.voiceScale,this.isBagpipes,o)),e.decoration&&this.decoration.createDecoration(i,e.decoration,T.top,a?a.w:0,T,o,s,T.bottom,e.positioning,this.hasVocals),e.barNumber&&T.addFixed(new f(e.barNumber,-10,0,0,{type:"barNumber"})),P(T,e.minpitch,e.maxpitch,e.rest,u,h,s,-2,1),void 0!==e.chord){var A=x(this.getTextSize,T,e,o,l,u,this.jazzchords,this.germanAlphabet);o=A.roomTaken,l=A.roomTakenRight}return e.startTriplet&&(this.triplet=new b(e.startTriplet,a,{flatBeams:this.flatBeams})),e.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(a),!this.triplet||e.startTriplet||e.endTriplet||e.rest&&"spacer"===e.rest.type||this.triplet.middleNote(a),T},S.prototype.addSlursAndTies=function(e,t,n,r,i,s){if(t.endTie&&this.ties.length>0){for(var a=!1,o=0;o<this.ties.length;o++)if(this.ties[o].anchor1&&this.ties[o].anchor1.pitch===n.pitch){this.ties[o].setEndAnchor(n),r.setRange(this.ties[o]),this.ties.splice(o,1),a=!0;break}a||(this.ties[0].setEndAnchor(n),r.setRange(this.ties[0]),this.ties.splice(0,1))}var c,l,u=r.voicetotal<2?-1:r.voicenumber;if(t.startTie){var h=new v({anchor1:n,force:"down"===this.stemdir||"up"===this.stemdir,stemDir:this.stemdir,isGrace:s,voiceNumber:u,style:t.startTie.style});C&&h.setHint(),this.ties[this.ties.length]=h,r.addOther(h),e.startTie=!0}if(t.endSlur)for(var d=0;d<t.endSlur.length;d++)l=t.endSlur[d],this.slurs[l]?((c=this.slurs[l]).setEndAnchor(n),r.setRange(c),delete this.slurs[l]):(c=new v({anchor2:n,stemDir:this.stemdir,voiceNumber:u}),C&&c.setHint(),r.addOther(c)),this.startlimitelem&&c.setStartX(this.startlimitelem);else if(!s)for(var f in this.slurs)this.slurs.hasOwnProperty(f)&&this.slurs[f].addInternalNote(n);if(t.startSlur)for(d=0;d<t.startSlur.length;d++)l=t.startSlur[d].label,c=new v({anchor1:n,stemDir:this.stemdir,voiceNumber:u,style:t.startSlur[d].style}),C&&c.setHint(),this.slurs[l]=c,r.addOther(c)},S.prototype.addMeasureNumber=function(e,t){var n=this.getTextSize.calc(e,"measurefont","bar-number"),r=0;t.isClef&&(r+=n.width/2);var i=n.width>10&&"treble"===t.abcelem.type?13:11;t.addFixed(new f(e,r,n.width,i+n.height/p.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))},S.prototype.createBarLine=function(e,t,n){var i=new r(t,0,10,"bar",this.tuneNumber),s=null,a=0;t.barNumber&&this.addMeasureNumber(t.barNumber,i);var o="bar_right_repeat"===t.type||"bar_dbl_repeat"===t.type,c="bar_left_repeat"!==t.type&&"bar_thick_thin"!==t.type&&"bar_invisible"!==t.type,l="bar_right_repeat"===t.type||"bar_dbl_repeat"===t.type||"bar_left_repeat"===t.type||"bar_thin_thick"===t.type||"bar_thick_thin"===t.type,u="bar_left_repeat"===t.type||"bar_thick_thin"===t.type||"bar_thin_thin"===t.type||"bar_dbl_repeat"===t.type,d="bar_left_repeat"===t.type||"bar_dbl_repeat"===t.type;if(o||d){for(var p in this.slurs)this.slurs.hasOwnProperty(p)&&this.slurs[p].setEndX(i);this.startlimitelem=i}if(o&&(i.addRight(new f("dots.dot",a,1,7)),i.addRight(new f("dots.dot",a,1,5)),a+=6),c&&(s=new f(null,a,1,2,{type:"bar",pitch2:10,linewidth:.6}),i.addRight(s)),"bar_invisible"===t.type&&(s=new f(null,a,1,2,{type:"none",pitch2:10,linewidth:.6}),i.addRight(s)),t.decoration&&this.decoration.createDecoration(e,t.decoration,12,l?3:1,i,0,"down",2,t.positioning,this.hasVocals),l&&(s=new f(null,a+=4,4,2,{type:"bar",pitch2:10,linewidth:4}),i.addRight(s),a+=5),this.partstartelem&&t.endEnding&&(this.partstartelem.anchor2=s,this.partstartelem=null),u&&(s=new f(null,a+=3,1,2,{type:"bar",pitch2:10,linewidth:.6}),i.addRight(s)),d&&(a+=3,i.addRight(new f("dots.dot",a,1,7)),i.addRight(new f("dots.dot",a,1,5))),t.startEnding&&n){var m=this.getTextSize.calc(t.startEnding,"repeatfont","").width;i.minspacing+=m+10,this.partstartelem=new h(t.startEnding,s,null),e.addOther(this.partstartelem)}if(i.extraw-=5,void 0!==t.chord)x(this.getTextSize,i,t,0,0,0,!1,this.germanAlphabet);return i},e.exports=S},3783:(e,t,n)=>{var r=n(4912),i=n(9626),s={violin:"ViolinTab",fiddle:"ViolinTab",mandolin:"ViolinTab",guitar:"GuitarTab"},a={inited:!1,plugins:{},register:function(e){var t=e.name,n=e.tablature;this.plugins[t]=n},setError:function(e,t){e.warnings?e.warning.push(t):e.warnings=[t]},preparePlugins:function(e,t,n){var r=null;if(n.tablature){var i=n.tablature;r=[];for(var a=0;a<i.length;a++){var o=i[a],c=o.instrument;if(null==c)return this.setError(e,"tablature 'instrument' is missing"),r;var l=s[c],u=null;if(l&&(u=this.plugins[l]),u){0!=n.visualTranspose&&(o.visualTranspose=n.visualTranspose),o.abcSrc=n.tablature.abcSrc;var h={classz:u,tuneNumber:t,params:o,instance:null};r.push(h)}else{if(""!==c)return this.setError(e,"Undefined tablature plugin: "+c),r;r.push(null)}}}return r},layoutTablatures:function(e,t){for(var n=t.tablatures,r=0;r<t.lines.length;r++){var i=t.lines[r],s=i.staff;if(s)for(var a=0;a<s.length;a++)if(n[a]){var o=n[a];null==o.instance&&(o.instance=new o.classz,o.instance.init(t,o.tuneNumber,o.params,a)),o.instance.render(e,i,a)}}},init:function(){this.inited||(this.register(new r),this.register(new i),this.inited=!0)}};e.exports=a},3830:e=>{var t=function(e,t){this.getFontAndAttr=e,this.svg=t};t.prototype.updateFonts=function(e){this.getFontAndAttr.updateFonts(e)},t.prototype.attr=function(e,t){return this.getFontAndAttr.calc(e,t)},t.prototype.calc=function(e,t,n,r){var i;i="string"===typeof t?this.attr(t,n):{font:{face:t.face,size:t.size,decoration:t.decoration,style:t.style,weight:t.weight},attr:{"font-size":t.size,"font-style":t.style,"font-family":t.face,"font-weight":t.weight,"text-decoration":t.decoration,class:this.getFontAndAttr.classes.generate(n)}};var s=this.svg.getTextSize(e,i.attr,r);return i.font.box?{height:s.height+4*i.font.padding,width:s.width+4*i.font.padding}:s},t.prototype.baselineToCenter=function(e,t,n,r,i){return.5*this.calc(e,t,n).height+(i-r-2)*this.attr(t,n).font.size},e.exports=t},3837:e=>{e.exports=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"]},3861:e=>{e.exports=function(e,t,n,r,i){return t+(r-t)/(n-e)*(i-e)}},3905:(e,t,n)=>{var{relativeMajor:r}=n(4444),i={acc:"sharp",note:"f"},s={acc:"sharp",note:"c"},a={acc:"sharp",note:"g"},o={acc:"sharp",note:"d"},c={acc:"sharp",note:"A"},l={acc:"sharp",note:"e"},u={acc:"flat",note:"B"},h={acc:"flat",note:"e"},d={acc:"flat",note:"A"},f={acc:"flat",note:"d"},p={acc:"flat",note:"G"},m={acc:"flat",note:"c"},g={"C#":[i,s,a,o,c,l,{acc:"sharp",note:"B"}],"F#":[i,s,a,o,c,l],B:[i,s,a,o,c],E:[i,s,a,o],A:[i,s,a],D:[i,s],G:[i],C:[],F:[u],Bb:[u,h],Eb:[u,h,d],Cm:[u,h,d],Ab:[u,h,d,f],Db:[u,h,d,f,p],Gb:[u,h,d,f,p,m],Cb:[u,h,d,f,p,m,{acc:"flat",note:"F"}],"A#":[u,h],"B#":[],"D#":[u,h,d],"E#":[u],"G#":[u,h,d,f],none:[]};e.exports=function(e){var t=g[r(e)];return t?JSON.parse(JSON.stringify(t)):null}},3926:e=>{e.exports='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">\n    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>\n</svg>\n'},4103:e=>{e.exports=function(){var e=this;e.tracks=[],e.totalDuration=0,e.currentInstrument=[],e.starts=[],e.addTrack=function(){return e.tracks.push([]),e.currentInstrument.push(0),e.starts.push(0),e.tracks.length-1},e.setInstrument=function(t,n){e.tracks[t].push({channel:0,cmd:"program",instrument:n}),e.currentInstrument[t]=n},e.appendNote=function(t,n,r,i,s){var a={cmd:"note",duration:r,gap:0,instrument:e.currentInstrument[t],pitch:n,start:e.starts[t],volume:i};s&&(a.cents=s),e.tracks[t].push(a),e.starts[t]+=r,e.totalDuration=Math.max(e.totalDuration,e.starts[t])}}},4106:e=>{e.exports=function(e,t,n){this.type="EndingElem",this.text=e,this.anchor1=t,this.anchor2=n,this.endingHeightAbove=5,this.pitch=void 0}},4178:(e,t,n)=>{const{noteToMidi:r}=n(5627);var i=n(7199),s=n(2826);function a(e,t){for(var n=[],r=0;r<t.length;r++)if(!t[r].endTie){var s=new i.TabNote(t[r].name,e.clefTranspose);s.checkKeyAccidentals(e.accidentals,e.measureAccidentals);var a=c(e,s);n.push(a)}return function(e,t){for(var n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];if(r.str==i.str){if(r.str==e.strings.length-1)return r.num="?",void(i.num="?");i.num<r.num?(i.str++,i=o(e,i.note,i.str,e.secondPos,e.strings[i.str].length)):(r.str++,r=o(e,r.note,r.str,e.secondPos,e.strings[r.str].length)),t[n]=r,t[n+1]=i}}}(e,n),n}function o(e,t,n,r,i){var s=e.strings;t.checkKeyAccidentals(e.accidentals,e.measureAccidentals),r&&(s=r);var a=t.emitNoAccidentals(),o=s[n].indexOf(a),c=t.acc;if(-1!=o){if(r&&(o+=i),(t.isFlat||-1==t.acc)&&0==o){var l=t.getAccidentalEquiv();o=s[++n].indexOf(l.emit()),c=0}return{num:o+c,str:n,note:t}}return null}function c(e,t){var n;(t.isAltered||t.natural)&&(t.isFlat?n=t.isDouble?"__":"_":t.isSharp?n=t.isDouble?"^^":"^":t.natural&&(n="="),e.measureAccidentals[t.name.toUpperCase()]=n);for(var r=e.stringPitches.length-1;r>=0;r--)if(t.pitch+t.pitchAltered>=e.stringPitches[r]){var i=t.pitch+t.pitchAltered-e.stringPitches[r];return"^"===t.quarter?i-=.5:"v"===t.quarter&&(i+=.5),{num:Math.round(i),str:e.stringPitches.length-1-r,note:t}}return{num:"?",str:e.stringPitches.length-1,note:t}}function l(e,t){var n={num:"?",str:0,note:t};e.push(n),e.error=t.emit()+": unexpected note for instrument"}function u(e){var t=e.tuning,n=e.capo,a=e._super.params.highestNote;this.linePitch=e.linePitch,this.highestNote="a'",a&&(this.highestNote=a),this.measureAccidentals={},this.capo=0,n&&(this.capo=parseInt(n,10)),this.transpose=e.transpose?e.transpose:0,this.tuning=t,this.stringPitches=[];for(var o=0;o<this.tuning.length;o++){var c=r(this.tuning[o])+this.capo;this.stringPitches.push(c)}if(this.capo>0&&(this.capoTuning=function(e){var t=null,n=e.tuning;if(e.capo>0){t=[];for(var r=0;r<n.length;r++){for(var s=new i.TabNote(n[r]),a=0;a<e.capo;a++)s=s.nextNote();t[r]=s.emit()}}return t}(this)),this.strings=function(e){var t=[],n=e.tuning;e.capo>0&&(n=e.capoTuning);for(var r=n.length-1,i=0;i<n.length;i++){var a=e.highestNote;i!=n.length-1&&(a=n[i+1]);var o=new s(n[i],a).build();if(o.error)return o;t[r--]=o}return t}(this),this.strings.error)return e._super.setError(this.strings.error),void(e.inError=!0);this.secondPos=function(e){var t=[];t[0]=[];for(var n=e.strings,r=1;r<n.length;r++)t[r]=n[r-1];return t}(this)}u.prototype.stringToPitch=function(e){return 5.3+(this.strings.length-1-e)*this.linePitch},u.prototype.notesToNumber=function(e,t){var n,r,s=null,o=null;if(e&&(o=[],e.length>1?(o=a(this,e)).error&&(s=o.error):e[0].endTie||((n=new i.TabNote(e[0].name,this.clefTranspose)).checkKeyAccidentals(this.accidentals,this.measureAccidentals),(r=c(this,n))?o.push(r):(l(o,n),s=o.error))),s)return o;var u=null;if(t){u=[];for(var h=0;h<t.length;h++)(n=new i.TabNote(t[h].name,this.clefTranspose)).checkKeyAccidentals(this.accidentals,this.measureAccidentals),(r=c(this,n))?u.push(r):(l(u,n),s=o.error)}return{notes:o,graces:u,error:s}},u.prototype.toString=function(){for(var e=[],t=0;t<this.tuning.length;t++){var n=this.tuning[t].replaceAll(",","").replaceAll("'","").toUpperCase();"_"===n[0]?n=n[1]+"b ":"^"===n[0]&&(n=n[1]+"# "),e.push(n)}return e.join("")},u.prototype.tabInfos=function(e){var t=e._super.params.label;if(t){var n="";return-1!=t.indexOf("%T")&&(n=this.toString(),e.capo>0&&(n+=" capo:"+e.capo),t=t.replace("%T",n)),t}return""},e.exports=u},4190:e=>{e.exports=function(e,t){var n=Math.round(e.y),r=(e.controller.width-t)/2,i=r+t,s="M "+r+" "+n+" L "+i+" "+n+" L "+i+" "+(n+1)+" L "+r+" "+(n+1)+" L "+r+" "+n+" z";e.paper.pathToBack({path:s,stroke:"rgba(0,0,0,0)",fill:"rgba(0,0,0,255)",class:e.controller.classes.generate("defined-text")})}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=y.prototype=new b;x.constructor=y,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!C.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c=!1;if(null===e)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===s?"."+N(c,0):s,w(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(a,t,i,"",function(e){return e})):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(c=0,s=""===s?".":s+":",w(e))for(var l=0;l<e.length;l++){var u=s+N(o=e[l],l);c+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(o=e.next()).done;)c+=I(o=o.value,t,i,u=s+N(o,l++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function P(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},M={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=y,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},4226:e=>{e.exports=function(e){return Math.pow(2,e/1200)}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4401:(e,t,n)=>{var r=n(363),i=n(1588),s=n(2119);var a=function(e,t,n,a,o,c,l){t=s(t),n=s(n),a=s(a),o=s(o),c=s(c),l=s(l);var u=r("M %f %f L %f %f M %f %f L %f %f",c,t,l,n,c,a,l,o);return i(e,{path:u,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})};e.exports=function(e,t,n){void 0===t.pitch&&window.console.error("Crescendo Element y-coordinate not set.");var r,i=e.calcY(t.pitch)+4,s=t.anchor1?t.anchor1.x:0,o=t.anchor2?t.anchor2.x:800;return r="<"===t.dir?a(e,i+4,i,i+4,i+8,s,o):a(e,i,i+4,i+8,i+4,s,o),n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},r),[r]}},4444:e=>{var t={C:{modes:["CMaj","Amin","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","Bbmin","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","Bmin","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","Cmin","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","C#min","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","Dmin","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","Ebmin","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","Emin","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","Fmin","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","F#min","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","Gmin","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","G#min","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","A#min","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","D#min","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","Abmin","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},n=null;e.exports={relativeMajor:function(e){n||function(){n={};for(var e=Object.keys(t),r=0;r<e.length;r++){var i=t[e[r]];n[e[r].toLowerCase()]=e[r];for(var s=0;s<i.modes.length;s++){var a=i.modes[s].toLowerCase();n[a]=e[r]}}}();var r=e.toLowerCase().match(/([a-g][b#]?)(maj|min|mix|dor|phr|lyd|loc|m)?/);if(!r||!r[2])return e;r=r[1]+r[2];var i=n[r];return i||e},relativeMode:function(e,n){var r=t[e];if(!r)return e;if(""===n)return e;var i=n.toLowerCase().match(/^(maj|min|mix|dor|phr|lyd|loc|m)/);if(!i)return e;for(var s=i[1],a=0;a<r.modes.length;a++){var o=r.modes[a],c=o.toLowerCase().indexOf(s);if(-1!==c&&c===o.length-s.length)return o.substring(0,o.length-s.length)}return e},transposeKey:function(e,n){var r=t[e];if(!r)return e;for(;n<0;)n+=12;for(var i=(r.stepsFromC+n)%12,s=0;s<Object.keys(t).length;s++){var a=Object.keys(t)[s];if(t[a].stepsFromC===i)return a}return e}}},4469:(e,t,n)=>{var r,i=n(4484),s=n(904);!function(){"use strict";var e,t,n,a,o,c,l,u,h,d,f,p,m,g,v,b,y,x,w,_,k,C,E,S,T=1,N={num:4,den:4},I=0,P=0,A=128,O=64,M=48,R=!1,L=!1,j=!0,D=105,B=95,F=85,z=.25,H=0,U={},q=0;function W(e){for(var t=h.length-1;t>=0;t--)if("program"===h[t].cmd)return void(h[t].channel=e)}function V(){for(var e=!0,t=0;t<p.length&&e;t++)"note"===p[t].cmd&&(e=!1);return e}function G(e){return e/1e6}function Y(e){return Math.round(e*T*1e6)/1e6}function K(e){switch(parseInt(e.den,10)){case 2:return.5;case 4:return.25;case 8:return e.num%3===0?.375:.125;case 16:return.125}return.25}r=function(r,i,s,A){i||(i={}),A||(A={}),e=[],t=[0,0,0,0,0,0,0],a=[],o=i.qpm,c=void 0,T=1,l=void 0,u=void 0,h=void 0,d=void 0,f=0,S=s,N={num:4,den:4},p=[],m=!1,v=r.length,g=!1,b=[],I=A.bassprog&&1===A.bassprog.length?A.bassprog[0]:0,P=A.chordprog&&1===A.chordprog.length?A.chordprog[0]:0,O=A.bassvol&&1===A.bassvol.length?A.bassvol[0]:64,M=A.chordvol&&1===A.chordvol.length?A.chordvol[0]:48,y=void 0,x=void 0,R=!!i.chordsOff,L=!1,j=!0,D=105,B=95,F=85,z=.25,_=void 0,k=void 0,H=0,C=[],U={},E=1,r.length>0&&r[0].length>0&&(q=r[0][0].pickupLength),function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n],i={},s=t.qpm,a=0,o=1,c=0;c<r.length;c++){var l=r[c];if("tempo"!==l.el_type){l.time=a;var u=l.duration?l.duration:0;if(a+=Math.round(u*o*1e6),l.pitches){for(var h=0;h<l.pitches.length;h++){var d=l.pitches[h];if(d)if(d.duration=l.duration,d.startTie)void 0===i[d.pitch]?i[d.pitch]={el:c,pitch:h}:(r[i[d.pitch].el].pitches[i[d.pitch].pitch].duration+=d.duration,l.pitches[h]=null);else if(d.endTie){var f=i[d.pitch];if(f){var p=d.duration;delete r[f.el].pitches[f.pitch].startTie,r[f.el].pitches[f.pitch].duration+=p,l.pitches[h]=null,delete i[d.pitch]}else delete d.endTie}}delete l.duration}}else s?o=l.qpm?s/l.qpm:1:s=l.qpm}for(var m in i)if(i.hasOwnProperty(m)){var g=i[m];delete r[g.el].pitches[g.pitch].startTie}}}(r,i);for(var Y=0;Y<r.length;Y++){n=0;var X=r[Y];h=[{cmd:"program",channel:Y,instrument:l}],d=void 0,w=0;var Q=!1;(!0===i.voicesOff||i.voicesOff&&i.voicesOff.length&&i.voicesOff.indexOf(Y)>=0)&&(Q=!0);for(var $=0;$<X.length;$++){var J=X[$];switch(J.el_type){case"name":d={cmd:"text",type:"name",text:J.trackName};break;case"note":Z(J,Q)&&(m=Y);break;case"key":t=ne(J);break;case"meter":c||(c=J),z=K(N=J),fe();break;case"tempo":o?T=J.qpm?o/J.qpm:1:o=J.qpm;break;case"transpose":n=J.transpose;break;case"bar":p.length>0&&(!1===m||Y===m)&&(he(w,G(J.time)),b=[]),e=[],0===Y&&pe(r.length+1),L=!1,x=y,w=G(J.time);break;case"bagpipes":0;break;case"instrument":if(void 0===l&&(l=J.program),u=J.program,h.length>0&&"program"===h[h.length-1].cmd)h[h.length-1].instrument=J.program;else{var ee;for(ee=h.length-1;ee>=0&&"program"!==h[ee].cmd;ee--);(ee<0||h[ee].instrument!==J.program)&&h.push({cmd:"program",channel:0,instrument:J.program})}break;case"channel":W(J.channel);break;case"drum":U=de(J.params),fe();break;case"gchord":i.chordsOff||(R=J.tacet);break;case"beat":D=J.beats[0],B=J.beats[1],F=J.beats[2];break;case"vol":_=J.volume;break;case"volinc":k=J.volume;break;case"beataccents":j=J.value;break;default:console.log("MIDI creation. Unknown el_type: "+J.el_type+"\n")}}void 0===h[0].instrument&&(h[0].instrument=l||0),d&&h.unshift(d),a.push(h),V()||(g=!0),C.length>0&&!0}return i.detuneOctave&&function(e,t){for(var n={},r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){var s=e[r][i];"note"===s.cmd&&(void 0===n[s.start]&&(n[s.start]=[]),n[s.start].push({track:r,event:i,pitch:s.pitch}))}var a=Object.keys(n);for(r=0;r<a.length;r++){var o=n[a[r]];if(o.length>1){var c=(o=o.sort(function(e,t){return e.pitch-t.pitch}))[o.length-1],l=c.pitch%12,u=!1;for(i=0;!u&&i<o.length-1;i++)o[i].pitch%12===l&&(u=!0);if(u){var h=e[c.track][c.event];h.cents||(h.cents=0),h.cents+=t}}}}(a,parseInt(i.detuneOctave,10)),V()||a.push(p),C.length>0&&a.push(C),{tempo:o,instrument:l,tracks:a,totalDuration:f}};var X=["break","(break)","no chord","n.c.","tacet"];function Q(e,t,n){return(n-e)/t}function $(e){var t=!1,r=function(e){if(R)return"break";if(g||!e.chord||0===e.chord.length)return null;for(var t=0;t<e.chord.length;t++){var n=e.chord[t];if("default"===n.position)return n.name;if(X.indexOf(n.name.toLowerCase())>=0)return"break"}return null}(e);if(r){var i=function(e){if(0===e.length)return;if("break"===e)return{chick:[]};var t=e.substring(0,1);if("("===t){if(0===(e=e.substring(1,e.length-2)).length)return;t=e.substring(0,1)}var r=se[t];if(!r)return;var i=n;for(;i<-8;)i+=12;for(;i>8;)i-=12;var s,a=(r+=i)-5;1===e.length&&(s=oe(r,""));var o=e.substring(1),c=o.substring(0,1);"b"===c||"\u266d"===c?(r--,a--,o=o.substring(1)):"#"!==c&&"\u266f"!==c||(r++,a++,o=o.substring(1));var l=o.split("/");if((s=oe(r,l[0])).length>=3){a=a+(s[2]-s[0])-7}if(2===l.length){if(se[l[1].substring(0,1)]){var u={"#":1,"\u266f":1,b:-1,"\u266d":-1}[l[1].substring(1)]||0;a=r=se[l[1].substring(0,1)]+u+i}}return{boom:r,boom2:a,chick:s}}(r);if(i){0===p.length&&(t=!0,p.push({cmd:"program",channel:v,instrument:P})),y=i;var s=Q(w,K(N),G(e.time));b.push({chord:y,beat:s,start:G(e.time)})}}return t}function J(e,t){var n=t.start,r=t.duration,i=Y(1/32);switch(e){case"trill":for(var s=1;r>0;)h.push({cmd:"note",pitch:t.pitch+s,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),s=1===s?0:1,r-=i,n+=i;break;case"mordent":h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=i,n+=i,h.push({cmd:"note",pitch:t.pitch+1,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=i,n+=i,h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n,duration:r,gap:0,instrument:u});break;case"lowermordent":h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=i,n+=i,h.push({cmd:"note",pitch:t.pitch-1,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=i,n+=i,h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n,duration:r,gap:0,instrument:u});break;case"turn":i=t.duration/5,h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:t.pitch+1,volume:t.volume,start:n+i,duration:i,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n+2*i,duration:i,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:t.pitch+1,volume:t.volume,start:n+3*i,duration:i,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n+4*i,duration:i,gap:0,instrument:u});break;case"roll":for(;r>0;)h.push({cmd:"note",pitch:t.pitch,volume:t.volume,start:n,duration:i,gap:0,instrument:u,style:"decoration"}),r-=2*i,n+=2*i}}function Z(e,t){h.length;var n,r=function(e,t){if(t)return 0;var n;if(_)n=_,_=void 0;else if(j)if(q>e)n=F;else{N.num,N.den;var r=Q(w,K(N),e);n=0===r?D:parseInt(r,10)===r?B:F}else n=B;return k&&(n+=k,k=void 0),n<0&&(n=0),n>127&&(n=127),t?0:n}(G(e.time),t),a=$(e);if(e.gracenotes&&e.pitches&&e.pitches.length>0&&e.pitches[0]&&(n=function(e,t){for(var n,r=0,i=[],a=0;a<e.length;a++)r+=(n=e[a]).duration;var o=t/2/r;for(a=0;a<e.length;a++){var c=te(n=e[a]);if(u===A&&S){var l=s(n);l&&S[l]&&(c=S[l].sound)}var h={pitch:c,duration:n.duration*o};h=re(h),i.push(h)}return i}(e.gracenotes,e.pitches[0].duration),e.elem&&(e.elem.midiGraceNotePitches=function(e,t,n,r){var i=[];n=Math.round(n);for(var s=0;s<e.length;s++){var a=e[s];h.push({cmd:"note",pitch:a.pitch,volume:n,start:t,duration:a.duration,gap:0,instrument:r,style:"grace"}),i.push({pitch:a.pitch,durationInMeasures:a.duration,volume:n,instrument:r}),t+=a.duration}return i}(n,G(e.time),2*r/3,u))),e.elem){var c=G(e.time),l=c/z/o*60*1e3;if(void 0===e.elem.currentTrackMilliseconds)e.elem.currentTrackMilliseconds=l,e.elem.currentTrackWholeNotes=c;else if(void 0===e.elem.currentTrackMilliseconds.length)e.elem.currentTrackMilliseconds!==l&&(e.elem.currentTrackMilliseconds=[e.elem.currentTrackMilliseconds,l],e.elem.currentTrackWholeNotes=[e.elem.currentTrackWholeNotes,c]);else{for(var d=!1,p=0;p<e.elem.currentTrackMilliseconds.length;p++)e.elem.currentTrackMilliseconds[p]===l&&(d=!0);d||(e.elem.currentTrackMilliseconds.push(l),e.elem.currentTrackWholeNotes.push(c))}}if(e.pitches){var m="",g=function(e,t){var n={};if(e.decoration)for(var r=0;r<e.decoration.length;r++)"staccato"===e.decoration[r]?n.thisBreakBetweenNotes="staccato":"tenuto"===e.decoration[r]?n.thisBreakBetweenNotes="tenuto":"accent"===e.decoration[r]?n.velocity=Math.min(127,1.5*t):"trill"===e.decoration[r]?n.noteModification="trill":"lowermordent"===e.decoration[r]?n.noteModification="lowermordent":"uppermordent"===e.decoration[r]||"mordent"===e.decoration[r]?n.noteModification="mordent":"turn"===e.decoration[r]?n.noteModification="turn":"roll"===e.decoration[r]&&(n.noteModification="roll");return n}(e,r);g.thisBreakBetweenNotes&&(m=g.thisBreakBetweenNotes),g.velocity&&(r=g.velocity);var v=e.pitches;if("rhythm"===e.style&&(L=!0,y&&y.chick)){v=[];for(var b=0;b<y.chick.length;b++){var x=i.clone(e.pitches[0]);x.actualPitch=y.chick[b],v.push(x)}}e.elem&&(e.elem.midiPitches=[]);for(var C=0;C<v.length;C++){var E=v[C];if(E){E.startSlur&&(H+=E.startSlur.length),E.endSlur&&(H-=E.endSlur.length);var T=E.actualPitch?E.actualPitch:te(E);if(u===A&&S){var I=s(E);I&&S[I]&&(T=S[I].sound)}var P={cmd:"note",pitch:T,volume:r,start:G(e.time),duration:Y(E.duration),instrument:u,startChar:e.elem.startChar,endChar:e.elem.endChar};if(P=re(P),e.gracenotes&&(P.duration=P.duration/2,P.start=P.start+P.duration),e.elem&&e.elem.midiPitches.push(P),g.noteModification)J(g.noteModification,P);else{switch(H>0?P.endType="tenuto":m&&(P.endType=m),P.endType){case"tenuto":P.gap=-.001;break;case"staccato":var O=.4*P.duration;P.gap=o/60*O;break;default:P.gap=0}h.push(P)}}}h.length-1}var M=function(e){return e.pitches&&e.pitches.length>0&&e.pitches[0]?e.pitches[0].duration:e.elem?e.elem.duration:e.duration}(e);return f=Math.max(f,G(e.time)+Y(M)),a}var ee=[0,2,4,5,7,9,11];function te(r){if(void 0!==r.midipitch)return r.midipitch;var i=r.pitch;if(r.accidental)switch(r.accidental){case"sharp":e[i]=1;break;case"flat":e[i]=-1;break;case"natural":e[i]=0;break;case"dblsharp":e[i]=2;break;case"dblflat":e[i]=-2;break;case"quartersharp":e[i]=.25;break;case"quarterflat":e[i]=-.25}var s=12*function(e){return Math.floor(e/7)}(i)+ee[ie(i)]+60;return void 0!==e[i]?s+=e[i]:s+=t[ie(i)],s+=n}function ne(e){var t=[0,0,0,0,0,0,0];if(!e.accidentals)return t;for(var n=0;n<e.accidentals.length;n++){var r,i=e.accidentals[n];switch(i.acc){case"flat":r=-1;break;case"quarterflat":r=-.25;break;case"sharp":r=1;break;case"quartersharp":r=.25;break;default:r=0}t[ie(i.note.toLowerCase().charCodeAt(0)-"c".charCodeAt(0))]+=r}return t}function re(e){var t=""+e.pitch;return t.indexOf(".75")>=0?(e.pitch=Math.round(e.pitch),e.cents=-50):t.indexOf(".25")>=0&&(e.pitch=Math.round(e.pitch),e.cents=50),e}function ie(e){return(e%=7)<0&&(e+=7),e}var se={A:33,B:35,C:36,D:38,E:40,F:41,G:43};var ae={dim:[0,3,6],"\xb0":[0,3,6],"\u02da":[0,3,6],dim7:[0,3,6,9],"\xb07":[0,3,6,9],"\u02da7":[0,3,6,9],"\xf87":[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m7\u266d5":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"7\u266d5":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-\u22069":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"7\u266d9":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"\u22067":[0,4,7,11],"\u03947":[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"7\u266f5":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"9\u266f5":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21]};function oe(e,t){var n=ae[t];n||(n="ma"===t.slice(0,2).toLowerCase()||"M"===t[0]?ae.M:"m"===t[0]||"-"===t[0]?ae.m:ae.M),e+=12;for(var r=[],i=0;i<n.length;i++)r.push(e+n[i]);return r}function ce(e,t,n,r,i){void 0!==e&&p.push({cmd:"note",pitch:e,volume:n,start:w+r*Y(t),duration:Y(i),gap:0,instrument:I})}function le(e,t,n,r,i){for(var s=0;s<e.length;s++)p.push({cmd:"note",pitch:e[s],volume:n,start:w+r*Y(t),duration:Y(i),gap:0,instrument:P})}var ue={"2/2":["boom","chick"],"2/4":["boom","chick"],"3/4":["boom","chick","chick"],"4/4":["boom","chick","boom2","chick"],"5/4":["boom","chick","chick","boom2","chick"],"6/8":["boom","","chick","boom2","","chick"],"9/8":["boom","","chick","boom2","","chick","boom2","","chick"],"12/8":["boom","","chick","boom2","","chick","boom","","chick","boom2","","chick"]};function he(e,t){var n=N.num,r=N.den,i=1/r,s=i/2,a=ue[n+"/"+r],o=parseInt(n,10)/parseInt(r,10)-(t-e)/T;if(Math.abs(o)<1e-5&&(o=!1),!a||o){a=[];for(var c=(t-e)/T/i,l=0;l<c;l++)a.push("chick")}if(0===b.length&&b.push({beat:0,chord:y}),0!==b[0].beat&&y&&x&&b.unshift({beat:0,chord:x}),1!==b.length){for(var u=.125===i?3:1,h={},d=0;d<b.length;d++){var f=b[d];h[""+Math.round(f.beat*u)]=f}for(var p=0;p<a.length;p++){var m,g;if(h[""+p]&&(m=h[""+p]),!L&&m)switch(a[p]){case"boom":h[""+(p+1)]?le(m.chord.chick,i,M,p,s):(ce(m.chord.boom,i,O,p,s),g=m.chord.boom);break;case"boom2":h[""+(p+1)]?le(m.chord.chick,i,M,p,s):g===m.chord.boom?(ce(m.chord.boom2,i,O,p,s),g=void 0):(ce(m.chord.boom,i,O,p,s),g=m.chord.boom);break;case"chick":le(m.chord.chick,i,M,p,s);break;case"":h[""+p]&&le(m.chord.chick,i,M,p,s)}}}else for(var v=b[0].beat;v<a.length;v++)if(!L)switch(a[v]){case"boom":ce(b[0].chord.boom,i,O,v,s);break;case"boom2":ce(b[0].chord.boom2,i,O,v,s);break;case"chick":le(b[0].chord.chick,i,M,v,s)}}function de(e){if(0===e.pattern.length||!1===e.on)return{on:!1};for(var t=e.pattern[0],n=[],r="",i=0,s=0;s<t.length;s++)if("d"===t[s]&&i++,"d"===t[s]||"z"===t[s])0!==r.length?(n.push(r),r=t[s]):r+=t[s];else{if(0===r.length)return{on:!1};r+=t[s]}if(0!==r.length&&n.push(r),e.pattern.length!==2*i+1)return{on:!1};for(var a={on:!0,bars:e.bars,pattern:[]},o=K(N),c=0,l=0;l<n.length;l++){r=n[l];for(var u=1,h=!1,d=0,f=1;f<r.length;f++)switch(r[f]){case"/":0!==d&&(u*=d),d=0,h=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d=10*d+r[f];break;default:return{on:!1}}h?(0===d&&(d=2),u/=d):d&&(u*=d),"d"===r[0]?(a.pattern.push({len:u*o,pitch:e.pattern[1+c],velocity:e.pattern[1+c+i]}),c++):a.pattern.push({len:u*o,pitch:null})}return E=e.bars?e.bars:1,a}function fe(){if(U&&U.pattern){for(var e=U,t=0,n=N.num/N.den,r=0;r<e.pattern.length;r++)t+=e.pattern[r].len;var i=t/E/n;for(r=0;r<e.pattern.length;r++)e.pattern[r].len=e.pattern[r].len/i;U=e}}function pe(e){if(0!==C.length||U.on){var t=N.num/N.den;if(0===C.length){if(f<t)return;C.push({cmd:"program",channel:e,instrument:A})}if(U.on)for(var n=w,r=0;r<U.pattern.length;r++){var i=Y(U.pattern[r].len);U.pattern[r].pitch&&C.push({cmd:"note",pitch:U.pattern[r].pitch,volume:U.pattern[r].velocity,start:n,duration:i,gap:0,instrument:A}),n+=i}}}}(),e.exports=r},4484:e=>{var t={clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},cloneArray:function(e){for(var n=[],r=0;r<e.length;r++)n.push(t.clone(e[r]));return n},cloneHashOfHash:function(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t.clone(e[r]));return n},cloneHashOfArrayOfHash:function(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t.cloneArray(e[r]));return n},strip:function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){var n=e.length-t.length;return n>=0&&e.lastIndexOf(t)===n},last:function(e){return 0===e.length?null:e[e.length-1]}};e.exports=t},4502:(e,t,n)=>{var r=n(5645),i=n(2549),s=n(3861),a=function(e){return void 0===e?0:Math.floor(Math.log(e)/Math.log(2))};function o(e,t,n,r){if(!e.children)return r;for(var i=0;i<e.children.length;i++){var s=e.children[i];t&&void 0!==s.top&&"flags.ugrace"===s.c?r=Math.max(r,s.top-n):t||void 0===s.bottom||"flags.ugrace"!==s.c||(r=Math.max(r,n-s.bottom+7))}return r}function c(e,t,n){var r=t.heads[e?0:t.heads.length-1],i=n.heads[e?0:n.heads.length-1],s=r.x;e&&(s+=r.w-.6);var a=i.x;return[s,a+=e?i.w:.6]}e.exports=function(e){if(0!==e.elems.length&&!e.allrests){var t=function(e,t){var n=e?i.STEP:-i.STEP;t&&(n*=.4);return n}(e.stemsUp,e.isgrace),n=e.elems[0],l=e.elems[e.elems.length-1],u=0,h=e.stemsUp?n.abcelem.maxpitch:n.abcelem.minpitch;u=o(n,e.stemsUp,h,u),u=o(l,e.stemsUp,h,u),u=Math.max(e.stemHeight,u+3);var d=function(e,t,n,r,i,s,a,o,c,l){var u=n-2,h=n-2,d=Math.round(r?Math.max(e+u,c+h):Math.min(e-u,o-h)),f=function(e,t,n,r){if(r)return 0;var i=e-t,s=n/2;i>s&&(i=s);i<-s&&(i=-s);return i}(i,s,t,a),p=d+Math.floor(f/2),m=d+Math.floor(-f/2);l||(r&&d<6||!r&&d>6)&&(p=6,m=6);return[p,m]}(e.average,e.elems.length,u,e.stemsUp,n.abcelem.averagepitch,l.abcelem.averagepitch,e.isflat,e.min,e.max,e.isgrace),f=c(e.stemsUp,n,l);e.addBeam({startX:f[0],endX:f[1],startY:d[0],endY:d[1],dy:t});for(var p=function(e,t,n,r,i){for(var o=[],l=[],u=0;u<e.length;u++){var h=e[u];if(!h.abcelem.rest){var d=h.heads[t?0:h.heads.length-1],f=d.x+(t?d.w:0),p=s(n.startX,n.startY,n.endX,n.endY,f),m=t?-1.5:1.5;r&&(m=2*m/3);var g=h.abcelem.duration;0===g&&(g=.25);for(var v=a(g);v<-3;v++){var b=-4-v;if(l[b]?l[b].single=!1:l[b]={x:f+(t?-.6:0),y:p+m*(b+1),durlog:v,single:!0},u>0&&h.abcelem.beambr&&h.abcelem.beambr<=b+1){l[b].split||(l[b].split=[l[b].x]);var y=c(t,e[u-1],h);l[b].split[l[b].split.length-1]>=y[0]&&(y[0]+=h.w),l[b].split.push(y[0]),l[b].split.push(y[1])}}for(var x=l.length-1;x>=0;x--)if(u===e.length-1||a(e[u+1].abcelem.duration)>-x-4){var w=f,_=p+m*(x+1);l[x].single&&(w=0===u?f+5:f-5,_=s(n.startX,n.startY,n.endX,n.endY,w)+m*(x+1));var k={startX:l[x].x,endX:w,startY:l[x].y,endY:_,dy:i};if(void 0!==l[x].split){var C=l[x].split;k.endX<=C[C.length-1]&&(C[C.length-1]-=h.w),C.push(k.endX),k.split=l[x].split}o.push(k),l=l.slice(0,x)}}}return o}(e.elems,e.stemsUp,e.beams[0],e.isgrace,t),m=0;m<p.length;m++)e.addBeam(p[m]);!function(e,t,n,a,o){for(var c=0;c<e.length;c++){var l=e[c];if(!l.abcelem.rest){var u=!l.addExtra,h=u?o:l,d=l.heads[t?0:l.heads.length-1],f=.2,p=d.pitch+(t?f:-f),m=t?d.w:0;u||(m+=d.dx);var g=d.x+m,v=s(n.startX,n.startY,n.endX,n.endY,g),b=t?-.6:.6;t||(v-=a/2/i.STEP),u&&(m+=l.heads[0].dx),"noteheads.slash.quarter"===d.c&&(t?p+=1:p-=1);var y=new r(null,m,0,p,{type:"stem",pitch2:v,linewidth:b});y.setX(h.x),h.addRight(y)}}}(e.elems,e.stemsUp,e.beams[0],t,e.mainNote)}}},4529:e=>{function t(e,t){return"abselem"===e?"abselem":t}function n(e,t){e.el_type="meter",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function r(e,t){e.el_type="key",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function i(e,t){e.el_type="clef",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function s(e,t,n){e.el_type="font",e.type=n,e.startChar=-1,e.endChar=-1;for(var r=0;r<t.length;r++)t[r].unshift(e)}function a(e,n){return!e||JSON.stringify(e,t)===JSON.stringify(n,t)}function o(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++)if("staff"!==n[r])t[n[r]]=e[n[r]];else{t.staff=[];for(var i=0;i<e.staff.length;i++){for(var s={},a=Object.keys(e.staff[i]),o=0;o<a.length;o++)if("voices"!==a[o])s[a[o]]=e.staff[i][a[o]];else{s.voices=[];for(var c=0;c<e.staff[i].voices.length;c++)s.voices.push([].concat(e.staff[i].voices[c]))}t.staff.push(s)}}return t}e.exports=function(e,t){t||(t={});for(var c=!!t.lineBreaks,l=[],u=!1,h=[],d=[],f=[],p=[],m=[],g=[],v=[],b=0;b<e.length;b++){var y=e[b];if(y.staff){if(u&&!y.vskip)for(var x=l[l.length-1],w=0;w<x.staff.length;w++){var _=y.staff[w],k=x.staff[w];if(_&&(a(_.meter,h[w])||(n(_.meter,_.voices),h[w]=_.meter,delete _.meter),a(_.key,d[w])||(r(_.key,_.voices),d[w]=_.key,delete _.key),_.title&&(k.abbrevTitle=_.title),a(_.clef,f[w])||(i(_.clef,_.voices),f[w]=_.clef,delete _.clef),a(_.vocalfont,p[w])||(s(_.vocalfont,_.voices,"vocalfont"),p[w]=_.vocalfont,delete _.vocalfont),a(_.gchordfont,m[w])||(s(_.gchordfont,_.voices,"gchordfont"),m[w]=_.gchordfont,delete _.gchordfont),a(_.tripletfont,g[w])||(s(_.tripletfont,_.voices,"tripletfont"),g[w]=_.tripletfont,delete _.tripletfont),a(_.annotationfont,v[w])||(s(_.annotationfont,_.voices,"annotationfont"),v[w]=_.annotationfont,delete _.annotationfont)),_)for(var C=0;C<k.voices.length;C++){var E=k.voices[C],S=_.voices[C];c&&E.push({el_type:"break"}),S&&(k.voices[C]=E.concat(S))}}else{for(var T=0;T<y.staff.length;T++)d[T]=y.staff[T].key,h[T]=y.staff[T].meter,f[T]=y.staff[T].clef;l.push(o(y))}u=!0}else u=!1,l.push(y)}return l}},4600:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===s){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)r.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},4633:e=>{e.exports=function(e,t,n,r){if(e)for(var i=0;i<e.length;i++){var s=e[i],a=s.getAttribute("highlight");a||(a="fill"),s.setAttribute(a,r);var o=s.getAttribute("class");o||(o=""),o=(o=o.replace(n,"")).replace(t,""),t.length>0&&(o.length>0&&" "!==o[o.length-1]&&(o+=" "),o+=t),s.setAttribute("class",o)}}},4676:e=>{function t(e,t,n){if(t)for(var r=0;r<t.length;r++)if(t[r].header){var i=n.calc(t[r].header,"voicefont","");e=Math.max(e,i.width)}return e}function n(e,t,n){if(e)for(var i=0;i<e.length;i++)r(t,e[i]),n=Math.max(n,e[i].getWidth());return n}function r(e,t){t.x=e}e.exports=function(e,r,i,s,a){var o,c,l=e.padding.left,u=0;for(o=0;o<i.length;o++)i[o].header&&(c=r.calc(i[o].header,"voicefont",""),u=Math.max(u,c.width));u=t(u,s,r),(u=t(u,a,r))&&(u+=r.calc("A","voicefont","").width);var h=0;return h=n(s,l+=u,h),l+(h=n(a,l,h))}},4689:e=>{e.exports=function(e){for(var t=0,n=0;n<e.voices.length;n++){var r=e.voices[n].staff;e.voices[n].duplicate||(t+=r.top,t+=-r.bottom)}return t}},4752:(e,t,n)=>{var r=n(6608);e.exports=function(){if(!window.Promise)return!1;if(!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var e=r();return e?void 0!==e.resume:void 0}},4763:(e,t,n)=>{var r=n(499),i=n(3480),s=n(3271),a=n(7321),o=n(5557),c={};c.signature="abcjs-basic v"+r,Object.keys(i).forEach(function(e){c[e]=i[e]}),Object.keys(s).forEach(function(e){c[e]=s[e]}),c.renderAbc=n(7490),c.TimingCallbacks=n(5481);var l=n(1667);c.setGlyph=l.setSymbol,c.strTranspose=o;var u=n(2748),h=n(3837),d=n(66),f=n(4103),p=n(8272),m=n(9979),g=n(6608),v=n(4752),b=n(40),y=n(7578),x=n(5100);c.synth={CreateSynth:u,instrumentIndexToName:h,pitchToNoteName:d,SynthController:y,SynthSequence:f,CreateSynthControl:p,registerAudioContext:m,activeAudioContext:g,supportsAudio:v,playEvent:b,getMidiFile:x,sequence:a},c.Editor=n(359),c.EditArea=n(7015),e.exports=c},4766:(e,t,n)=>{var r=n(5645),i=n(2549);const s=n(6959);e.exports=function(e,t,n,a,o,c,l,u){for(var h=0;h<n.chord.length;h++)for(var d=n.chord[h].position,f=n.chord[h].rel_position,p=n.chord[h].name.split("\n"),m=p.length-1;m>=0;m--){var g,v,b,y=p[m],x=0;"left"===d||"right"===d||"below"===d||"above"===d||f?(v="annotationfont",b="annotation"):(v="gchordfont",b="chord",y=s(y,l,u));var w=e.attr(v,b),_=e.calc(y,v,b),k=_.width,C=_.height/i.STEP;switch(d){case"left":x=-(a+=k+7),g=n.averagepitch,t.addExtra(new r(y,x,k+4,g,{type:"text",height:C,dim:w,position:"left"}));break;case"right":x=o+=4,g=n.averagepitch,t.addRight(new r(y,x,k+4,g,{type:"text",height:C,dim:w,position:"right"}));break;case"below":t.addRight(new r(y,0,0,void 0,{type:"text",position:"below",height:C,dim:w,realWidth:k}));break;case"above":t.addRight(new r(y,0,0,void 0,{type:"text",position:"above",height:C,dim:w,realWidth:k}));break;default:if(f){var E=f.y+3*i.STEP;t.addRight(new r(y,x+f.x,0,n.minpitch+E/i.STEP,{position:"relative",type:"text",height:C,dim:w}))}else{var S="above";n.positioning&&n.positioning.chordPosition&&(S=n.positioning.chordPosition),"hidden"!==S&&t.addCentered(new r(y,c/2,k,void 0,{type:"chord",position:S,height:C,dim:w,realWidth:k}))}}}return{roomTaken:a,roomTakenRight:o}}},4912:(e,t,n)=>{var r=n(7127),i=n(5389),s=n(1787),a=n(7076);function o(){}o.prototype.init=function(e,t,n){var s=new i(e,t,n);this.abcTune=e,this._super=s,this.linePitch=3,this.nbLines=4,this.isTabBig=!1,this.capo=n.capo,this.transpose=n.visualTranspose,this.tablature=new r(this.nbLines,this.linePitch);var o=new a(this);this.semantics=o},o.prototype.render=function(e,t,n){this._super.inError||(this.tablature.bypass(t)||new s(this,e,t,n).doLayout())};e.exports=function(){return{name:"ViolinTab",tablature:o}}},4952:e=>{e.exports=function(e,t,n,r,i,s){var a,o=e.text;this.rows=[],t&&this.rows.push({move:t});var c=n.calc("textfont","defined-text");if(""===o)this.rows.push({move:2*c.attr["font-size"]});else if("string"===typeof o)this.rows.push({move:c.attr["font-size"]/2}),this.rows.push({left:r,text:o,font:"textfont",klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),a=s.calc(o,"textfont","defined-text"),this.rows.push({move:a.height});else if(o){for(var l=0,u=r,h="textfont",d=0;d<o.length;d++)h=o[d].font?o[d].font:"textfont",this.rows.push({left:u,text:o[d].text,font:h,klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),u+=(a=s.calc(o[d].text,n.calc(h,"defined-text").font,"defined-text")).width+a.height/2,l=Math.max(l,a.height);this.rows.push({move:l})}else if(1===e.length){var f=i/2;this.rows.push({left:f,text:e[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),a=s.calc(e[0].text,"textfont","defined-text"),this.rows.push({move:a.height})}}},5013:(e,t,n)=>{var r=n(2128),i=n(66),s=n(4226);var a=function(e,t,n){for(var r=0;r<2;r++)for(var i=t.getChannelData(r),s=e.getChannelData(r),a=0;a<i.length;a++)s[a+n]+=i[a]};e.exports=function(e,t,n,o,c,l,u,h,d){var f=window.OfflineAudioContext||window.webkitOfflineAudioContext,p=n.len*n.tempoMultiplier;l&&(p+=l/1e3),(p-=h)<0&&(p=.005);var m=new f(2,Math.floor((p+u)*t),t),g=i[n.pitch];if(!r[n.instrument])return d&&d("placeNote skipped (instrument empty): "+n.instrument+":"+g),Promise.resolve();var v=r[n.instrument][g];return v?v.then(function(r){var i=m.createBufferSource();i.buffer=r.audioBuffer;var h,f=n.volume/96*c;return i.gainNode=m.createGain(),n.pan&&m.createStereoPanner&&(i.panNode=m.createStereoPanner(),i.panNode.pan.setValueAtTime(n.pan,0)),i.gainNode.gain.value=f,i.gainNode.gain.linearRampToValueAtTime(i.gainNode.gain.value,p),i.gainNode.gain.linearRampToValueAtTime(0,p+u),n.cents&&(i.playbackRate.value=s(n.cents)),i.panNode?(i.panNode.connect(m.destination),i.gainNode.connect(i.panNode)):i.gainNode.connect(m.destination),i.connect(i.gainNode),i.start(0),i.noteOff?i.noteOff(p+u):i.stop(p+u),m.oncomplete=function(r){if(r.renderedBuffer&&r.renderedBuffer.getChannelData)for(var i=0;i<o.length;i++){var s=o[i]*n.tempoMultiplier;l&&(s-=l/1e3),s<0&&(s=0),s=Math.floor(s*t),a(e,r.renderedBuffer,s)}d&&d("placeNote: "+n.instrument+":"+g),h()},m.startRendering(),new Promise(function(e){h=e})}).catch(function(e){return d&&d("placeNote catch: "+e.message),Promise.resolve()}):(d&&d("placeNote skipped: "+n.instrument+":"+g),Promise.resolve())}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5100:(e,t,n)=>{var r=n(3271),i=n(1423);var s=function(e,t,n,r){var i=["abcjs-download-midi","abcjs-midi-"+r];t.downloadClass&&i.push(t.downloadClass);var s='<div class="'+i.join(" ")+'">';t.preTextDownload&&(s+=t.preTextDownload);var a,o,c=e.metaText&&e.metaText.title?e.metaText.title:"Untitled";return a=t.downloadLabel&&((o=t.downloadLabel)&&"[object Function]"==={}.toString.call(o))?t.downloadLabel(e,r):t.downloadLabel?t.downloadLabel.replace(/%T/,c):'Download MIDI for "'+c+'"',c=c.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_"),s+='<a download="'+(t.fileName?t.fileName:c+".midi")+'" href="'+n+'">'+a+"</a>",t.postTextDownload&&(s+=t.postTextDownload),s+"</div>"};e.exports=function(e,t){var n={};if(t)for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a]);function o(e,t,r){var a=i(t,n);switch(n.midiOutputType){case"encoded":return a;case"binary":var o=a.replace("data:audio/midi,","");o=(o=o.replace(/MThd/g,"%4d%54%68%64")).replace(/MTrk/g,"%4d%54%72%6b");for(var c=new ArrayBuffer(o.length/3),l=new Uint8Array(c),u=0;u<o.length/3;u++){var h=3*u+1,d=parseInt(o.substring(h,h+2),16);l[u]=d}return l;default:return s(t,n,a,r)}}return n.generateInline=!1,"string"===typeof e?r.renderEngine(o,"*",e,n):o(0,e,0)}},5121:(e,t,n)=>{var r=n(363),i=n(8706),s=n(1588),a=n(2119);function o(e,t,n,i){return r("M %f %f L %f %f",a(e),a(t),a(n),a(i))}e.exports=function(e,t,n){e.paper.openGroup({klass:e.controller.classes.generate("triplet "+t.durationClass),"data-name":"triplet"}),t.hasBeam||function(e,t,n,r,i){n=e.calcY(n),i=e.calcY(i);var a=5,c="";c+=o(t,n,t,n+a),c+=o(r,i,r,i+a);var l=t+(r-t)/2,u=8,h=(i-n)/(r-t),d=l-u;c+=o(t,n,d,n+(d-t)*h);var f=l+u;c+=o(f,n+(f-t)*h,r,i),s(e,{path:c,stroke:e.foregroundColor,"data-name":"triplet-bracket"})}(e,t.anchor1.x,t.startNote,t.anchor2.x+t.anchor2.w,t.endNote),i(e,{x:t.xTextPos,y:e.calcY(t.yTextPos-1),text:""+t.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+t.number},!0);var r=e.paper.closeGroup();return n.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},r),r}},5173:(e,t,n)=>{e.exports=n(1497)()},5389:e=>{function t(e,t,n){this.tune=e,this.params=n,this.tuneNumber=t,this.inError=!1}t.prototype.setError=function(e){var t=this.tune;e&&(this.error=e,this.inError=!0,t.warnings?t.warnings.push(e):t.warnings=[e])},e.exports=t},5481:e=>{e.exports=function(e,t){var n=this;if(t||(t={}),n.qpm=t.qpm?parseInt(t.qpm,10):null,!n.qpm){var r=e.metaText?e.metaText.tempo:null;n.qpm=e.getBpm(r)}n.extraMeasuresAtBeginning=t.extraMeasuresAtBeginning?parseInt(t.extraMeasuresAtBeginning,10):0,n.beatCallback=t.beatCallback,n.eventCallback=t.eventCallback,n.lineEndCallback=t.lineEndCallback,n.lineEndAnticipation=t.lineEndAnticipation?parseInt(t.lineEndAnticipation,10):0,n.beatSubdivisions=t.beatSubdivisions?parseInt(t.beatSubdivisions,10):1,n.joggerTimer=null,n.replaceTarget=function(e){n.noteTimings=e.setTiming(n.qpm,n.extraMeasuresAtBeginning),0===e.noteTimings.length&&(n.noteTimings=e.setTiming(0,0)),n.lineEndCallback&&(n.lineEndTimings=function(e,t){for(var n=[],r=null,i=0;i<e.length;i++){var s=e[i];"end"!==s.type&&s.top!==r&&(n.push({measureNumber:s.measureNumber,milliseconds:s.milliseconds-t,top:s.top,bottom:s.top+s.height}),r=s.top)}return n}(e.noteTimings,n.lineEndAnticipation)),n.startTime=null,n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.currentTime=0,n.isPaused=!1,n.isRunning=!1,n.pausedPercent=null,n.justUnpaused=!1,n.newSeekPercent=0,n.lastTimestamp=0,0!==n.noteTimings.length&&(n.millisecondsPerBeat=1e3/(n.qpm/60)/n.beatSubdivisions,n.lastMoment=n.noteTimings[n.noteTimings.length-1].milliseconds,n.totalBeats=Math.round(n.lastMoment/n.millisecondsPerBeat))},n.replaceTarget(e),n.doTiming=function(e){if(n.lastTimestamp!==e&&(n.lastTimestamp=e,n.startTime||(n.startTime=e),!n.isPaused&&n.isRunning)){for(n.currentTime=e-n.startTime,n.currentTime+=16;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<n.currentTime;){if(n.eventCallback&&"event"===n.noteTimings[n.currentEvent].type){var t=n.startTime;n.eventCallback(n.noteTimings[n.currentEvent]),t!==n.startTime&&(n.currentTime=e-n.startTime)}n.currentEvent++}if(n.lineEndCallback&&n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds<n.currentTime&&n.currentEvent<n.noteTimings.length){var r=n.noteTimings[n.currentEvent].milliseconds===n.currentTime?n.noteTimings[n.currentEvent]:n.noteTimings[n.currentEvent-1];n.lineEndCallback(n.lineEndTimings[n.currentLine],r,{line:n.currentLine,endTimings:n.lineEndTimings,currentTime:n.currentTime}),n.currentLine++}if(n.currentTime<n.lastMoment){if(requestAnimationFrame(n.doTiming),n.currentBeat*n.millisecondsPerBeat<n.currentTime){var i=n.doBeatCallback(e);null!==i&&(n.currentTime=i)}}else if(n.currentBeat<=n.totalBeats&&n.beatCallback){var s=n.doBeatCallback(e);null!==s&&(n.currentTime=s),requestAnimationFrame(n.doTiming)}if(n.currentTime>=n.lastMoment)if(n.eventCallback){var a=n.eventCallback(null);n.shouldStop(a).then(function(e){e&&n.stop()})}else n.stop()}},n.shouldStop=function(e){return new Promise(function(t){return e?"continue"===e?t(!1):void(e.then&&e.then(function(e){t("continue"!==e)})):t(!0)})},n.doBeatCallback=function(e){if(n.beatCallback){for(var t,r,i=n.currentEvent;i<n.noteTimings.length&&null===n.noteTimings[i].left;)i++;if(i<n.noteTimings.length){for(t=n.noteTimings[i].milliseconds,i=Math.max(0,n.currentEvent-1);i>=0&&null===n.noteTimings[i].left;)i--;r=n.noteTimings[i]}var s={},a={};if(r){s.top=r.top,s.height=r.height;var o=Math.max(0,e-n.startTime-r.milliseconds),c=t-r.milliseconds,l=r.endX-r.left,u=c?o*l/c:0;s.left=r.left+u,0===n.currentEvent&&r.milliseconds>e-n.startTime&&(s.left=void 0),a={timestamp:e,startTime:n.startTime,ev:r,endMs:t,offMs:o,offPx:u,gapMs:c,gapPx:l}}else a={timestamp:e,startTime:n.startTime};var h=n.startTime;if(n.beatCallback(n.currentBeat/n.beatSubdivisions,n.totalBeats/n.beatSubdivisions,n.lastMoment,s,a),h!==n.startTime)return e-n.startTime;n.currentBeat++}return null};n.animationJogger=function(){n.isRunning&&(n.doTiming(performance.now()),n.joggerTimer=setTimeout(n.animationJogger,60))},n.start=function(e,t){if(n.isRunning=!0,n.isPaused&&(n.isPaused=!1,void 0===e&&(n.justUnpaused=!0)),e)n.setProgress(e,t);else if(0===e)n.reset();else if(null!==n.pausedPercent){var r=performance.now();n.currentTime=n.lastMoment*n.pausedPercent,n.startTime=r-n.currentTime,n.pausedPercent=null,n.reportNext=!0}requestAnimationFrame(n.doTiming),n.joggerTimer=setTimeout(n.animationJogger,60)},n.pause=function(){n.isPaused=!0;var e=performance.now();n.pausedPercent=(e-n.startTime)/n.lastMoment,n.isRunning=!1,n.joggerTimer&&(clearTimeout(n.joggerTimer),n.joggerTimer=null)},n.currentMillisecond=function(){return n.currentTime},n.reset=function(){n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.startTime=null,n.pausedPercent=null},n.stop=function(){n.pause(),n.reset()},n.setProgress=function(e,t){var r;switch(t){case"seconds":n.currentTime=1e3*e,n.currentTime<0&&(n.currentTime=0),n.currentTime>n.lastMoment&&(n.currentTime=n.lastMoment),r=n.currentTime/n.lastMoment;break;case"beats":n.currentTime=e*n.millisecondsPerBeat*n.beatSubdivisions,n.currentTime<0&&(n.currentTime=0),n.currentTime>n.lastMoment&&(n.currentTime=n.lastMoment),r=n.currentTime/n.lastMoment;break;default:(r=e)<0&&(r=0),r>1&&(r=1),n.currentTime=n.lastMoment*r}n.isRunning||(n.pausedPercent=r);var i=performance.now();n.startTime=i-n.currentTime;n.currentEvent;for(n.currentEvent=0;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<n.currentTime;)n.currentEvent++;if(n.lineEndCallback)for(n.currentLine=0;n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds+n.lineEndAnticipation<n.currentTime;)n.currentLine++;var s=n.currentBeat;n.currentBeat=Math.floor(n.currentTime/n.millisecondsPerBeat),n.beatCallback&&s!==n.currentBeat&&n.doBeatCallback(n.startTime+n.currentTime),n.eventCallback&&n.currentEvent>=0&&"event"===n.noteTimings[n.currentEvent].type&&n.eventCallback(n.noteTimings[n.currentEvent]),n.lineEndCallback&&n.lineEndCallback(n.lineEndTimings[n.currentLine],n.noteTimings[n.currentEvent],{line:n.currentLine,endTimings:n.lineEndTimings}),n.joggerTimer=setTimeout(n.animationJogger,60)}}},5516:(e,t,n)=>{var r=n(4484),i=n(2549),s=n(7321),a=n(4469),o=n(4529);e.exports=function(){function e(e,t,n,r){for(var i=0;i<r.length;i++)e[n][r[i]]=t[n][r[i]]}function t(e,t){for(;t<e.length&&null===e[t].left;)t++;return e[t]}this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset(),this.copyTopInfo=function(t){var n=["tempo","title","header","rhythm","origin","composer","author","partOrder"];e(this,t,"metaText",n),e(this,t,"metaTextInfo",n)},this.copyBottomInfo=function(t){var n=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];e(this,t,"metaText",n),e(this,t,"metaTextInfo",n)},this.getBeatLength=function(){var e=this.getMeterFraction(),t=1;return(6===e.num||9===e.num||12===e.num||3===e.num&&8===e.den)&&(t=3),t/e.den},this.getPickupLength=function(){var e=this.getBarLength(),t=function(e,t){for(var n=0,r=0;r<e.length;r++)if(e[r].staff)for(var i=0;i<e[r].staff.length;i++)for(var s=0;s<e[r].staff[i].voices.length;s++)for(var a=e[r].staff[i].voices[s],o=1,c=0;c<a.length;c++){var l=a[c].rest&&"spacer"===a[c].rest.type;if(a[c].startTriplet&&(o=a[c].tripletMultiplier),a[c].duration&&!l&&"tempo"!==a[c].el_type&&(n+=a[c].duration*o),a[c].endTriplet&&(o=1),n>=t&&(n-=t),"bar"===a[c].el_type)return n}return n}(this.lines,e);return t<1e-8||e-t<1e-8?0:t},this.getBarLength=function(){var e=this.getMeterFraction();return e.num/e.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(e){var t;if(e)t=e;else{var n=this.metaText?this.metaText.tempo:null;t=this.getBpm(n)}return t<=0&&(t=1),6e4*(this.getBeatsPerMeasure()/t)},this.getBeatsPerMeasure=function(){var e=this.getBeatLength();return this.getBarLength()/e},this.getMeter=function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e];if(t.staff)for(var n=0;n<t.staff.length;n++){var r=t.staff[n].meter;if(r)return r}}return{type:"common_time"}},this.getMeterFraction=function(){var e=this.getMeter(),t=4,n=4;return e&&("specified"===e.type?(t=parseInt(e.value[0].num,10),n=parseInt(e.value[0].den,10)):"cut_time"===e.type?(t=2,n=2):"common_time"===e.type&&(t=4,n=4)),this.meter={num:t,den:n},this.meter},this.getKeySignature=function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e];if(t.staff)for(var n=0;n<t.staff.length;n++)if(t.staff[n].key)return t.staff[n].key}return{}},this.getElementFromChar=function(e){for(var t=0;t<this.lines.length;t++){var n=this.lines[t];if(n.staff)for(var r=0;r<n.staff.length;r++)for(var i=n.staff[r],s=0;s<i.voices.length;s++)for(var a=i.voices[s],o=0;o<a.length;o++){var c=a[o];if(c.startChar&&c.endChar&&c.startChar<=e&&c.endChar>e)return c}}return null},this.addElementToEvents=function(e,t,n,i,s,a,o,c,l,u){if(t.hint)return{isTiedState:void 0,duration:0};var h=t.durationClass?t.durationClass:t.duration;if(t.abcelem.rest&&"spacer"===t.abcelem.rest.type&&(h=0),h>0){for(var d=[],f=0;f<t.elemset.length;f++)null!==t.elemset[f]&&d.push(t.elemset[f]);var p=t.startTie;if(void 0!==l)e["event"+l].elements.push(d),u&&(e["event"+n]||(e["event"+n]={type:"event",milliseconds:n,line:a,measureNumber:o,top:i,height:s,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),e["event"+n].measureStart=!0,u=!1),p||(l=void 0);else{if(e["event"+n]){if(e["event"+n].left?e["event"+n].left=Math.min(e["event"+n].left,t.x):e["event"+n].left=t.x,e["event"+n].elements.push(d),e["event"+n].startCharArray.push(t.abcelem.startChar),e["event"+n].endCharArray.push(t.abcelem.endChar),null===e["event"+n].startChar&&(e["event"+n].startChar=t.abcelem.startChar),null===e["event"+n].endChar&&(e["event"+n].endChar=t.abcelem.endChar),t.abcelem.midiPitches&&t.abcelem.midiPitches.length){e["event"+n].midiPitches||(e["event"+n].midiPitches=[]);for(f=0;f<t.abcelem.midiPitches.length;f++)e["event"+n].midiPitches.push(t.abcelem.midiPitches[f])}if(t.abcelem.midiGraceNotePitches&&t.abcelem.midiGraceNotePitches.length){e["event"+n].midiGraceNotePitches||(e["event"+n].midiGraceNotePitches=[]);for(var m=0;m<t.abcelem.midiGraceNotePitches.length;m++)e["event"+n].midiGraceNotePitches.push(t.abcelem.midiGraceNotePitches[m])}}else e["event"+n]={type:"event",milliseconds:n,line:a,measureNumber:o,top:i,height:s,left:t.x,width:t.w,elements:[d],startChar:t.abcelem.startChar,endChar:t.abcelem.endChar,startCharArray:[t.abcelem.startChar],endCharArray:[t.abcelem.endChar],midiPitches:t.abcelem.midiPitches?r.cloneArray(t.abcelem.midiPitches):[]},t.abcelem.midiGraceNotePitches&&(e["event"+n].midiGraceNotePitches=r.cloneArray(t.abcelem.midiGraceNotePitches));u&&(e["event"+n].measureStart=!0,u=!1),p&&(l=n)}}return{isTiedState:l,duration:h/c,nextIsBar:u||"bar"===t.type}},this.makeVoicesArray=function(){for(var e=[],t=[],n={},r=0;r<this.engraver.staffgroups.length;r++){var s=this.engraver.staffgroups[r];if(s&&s.staffs&&s.staffs.length>0)for(var a=s.staffs[0],o=a.absoluteY,c=o-a.top*i.STEP,l=s.staffs[s.staffs.length-1],u=(o=l.absoluteY)-l.bottom*i.STEP-c,h=s.voices,d=0;d<h.length;d++)if(!h[d].staff||!h[d].staff.isTabStaff){var f=!1;e[d]||(e[d]=[]),void 0===t[d]&&(t[d]=0);for(var p=h[d].children,m=0;m<p.length;m++)"tempo"===p[m].type&&(n[t[d]]=this.getBpm(p[m].abcelem)),e[d].push({top:c,height:u,line:s.line,measureNumber:t[d],elem:p[m]}),"bar"===p[m].type&&f&&t[d]++,"note"!==p[m].type&&"rest"!==p[m].type||(f=!0)}}return this.tempoLocations=n,e},this.setupEvents=function(e,n,r,i){i||(i=1);for(var s,a=[],o={},c=e,l=!0,u=this.makeVoicesArray(),h=0,d=0;d<u.length;d++){var f=c,p=Math.round(1e3*f),m=0,g=-1,v=u[d],b=r;n=this.getBeatLength()*b/60;for(var y=-1,x=0;x<v.length;x++){var w=v[x].measureNumber;y!==w&&this.tempoLocations[w]&&(b=this.tempoLocations[w],n=i*this.getBeatLength()*b/60,y=w);var _,k=v[x].elem,C=this.addElementToEvents(o,k,p,v[x].top,v[x].height,v[x].line,v[x].measureNumber,n,s,l);if(s=C.isTiedState,l=C.nextIsBar,f+=C.duration,k.duration>0&&o["event"+p]&&(_="event"+p),p=Math.round(1e3*f),"bar"===k.type){var E=k.abcelem.type,S="bar_right_repeat"===E||"bar_dbl_repeat"===E,T="1"===k.abcelem.startEnding,N="bar_left_repeat"===E||"bar_dbl_repeat"===E||"bar_right_repeat"===E;if(S){x>0&&(o[_].endX=k.x),-1===g&&(g=x);var I=0;y=-1;for(var P=m;P<g;P++){y!==(w=v[P].measureNumber)&&this.tempoLocations[w]&&(b=this.tempoLocations[w],n=i*this.getBeatLength()*b/60,y=w);var A=v[P].elem;s=(C=this.addElementToEvents(o,A,p,v[P].top,v[P].height,v[P].line,v[P].measureNumber,n,s,l)).isTiedState,l=C.nextIsBar,f+=C.duration,I=p,p=Math.round(1e3*f)}o["event"+I]&&(o["event"+I].endX=v[g].elem.x),l=!0,g=-1}T&&(g=x),N&&(m=x)}}h=Math.max(h,p)}return function(e){for(var t,n,r,i,s=e.length-1;s>=0;s--){var a=e[s];"bar"===a.type?(a.top=r,a.nextTop=t,t=r,a.bottom=i,a.nextBottom=n,n=i):"event"===a.type&&(r=a.top,i=a.top+a.height)}}(a=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t.sort(function(e,t){var n=e.milliseconds-t.milliseconds;return 0!==n?n:"bar"===e.type?-1:1})}(o)),function(e,n){if(n.length<1)return;for(var r=0;r<n.length-1;r++){var i=n[r],s=t(n,r+1);if(null!==i.left){var a=s&&i.top===s.top?s.left:e[i.line].staffGroup.w;void 0!==i.endX?a>i.left&&(i.endX=Math.min(i.endX,a)):i.endX=a}}var o=n[n.length-1];o.endX=e[o.line].staffGroup.w}(this.lines,a),a.push({type:"end",milliseconds:h}),this.addUsefulCallbackInfo(a,b*i),a},this.addUsefulCallbackInfo=function(e,t){for(var n=this.millisecondsPerMeasure(t),r=0;r<e.length;r++){e[r].millisecondsPerMeasure=n}},this.getBpm=function(e){var t;if(e){t=e.bpm;var n=this.getBeatLength();t=t*(e.duration&&e.duration.length>0?e.duration[0]:n)/n}if(!t){t=180;var r=this.getMeterFraction();r&&3!==r.num&&r.num%3===0&&(t=120)}return t},this.setTiming=function(e,t){if(t=t||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var n=this.metaText?this.metaText.tempo:null,r=this.getBpm(n),i=1;e?n&&(i=e/r):e=r;var s=this.getBeatLength(),a=e/60,o=this.getBarLength()/s*t/a;o&&(o-=this.getPickupLength()/s/a);var c=s*a;return this.noteTimings=this.setupEvents(o,c,e,i),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*a):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(e){e||(e={});var t=s(this,e);return a(t,e,this.formatting.percmap,this.formatting.midi)},this.deline=function(e){return o(this.lines,e)}}},5557:(e,t,n)=>{var r,i=n(3905),{relativeMajor:s,transposeKey:a,relativeMode:o}=n(4444),c=n(6794);!function(){"use strict";function e(e,n,r){var i=[],s=n.getKeySignature();if("Hp"===s.root||"HP"===s.root)return i;i=i.concat(function(e,t){for(var n=[],r=e.split("K:"),i=r[0].length,s=1;s<r.length;s++){var a=r[s],o=a.match(/^( *)([A-G])([#b]?)(\w*)/);if(o){var c=i+2+o[1].length,l=o[2]+o[3]+o[4],u=f({root:o[2],acc:o[3],mode:o[4]},t),h=u.root+u.acc+u.mode;n.push({start:c,end:c+l.length,note:h})}i+=a.length+2}return n}(e,r));for(var a=0;a<n.lines.length;a++){var o=n.lines[a].staff;if(o)for(var c=0;c<o.length;c++){var l=o[c];"perc"!==l.clef.type&&(i=i.concat(t(e,l.voices,l.key,r)))}}return i}function t(e,t,r,i){for(var s=[],a=f(r,i),o=0;o<t.length;o++)s=s.concat(u(e,t[o],r.root,n(r),a,i));return s}function n(e){for(var t={},n=0;n<e.accidentals.length;n++){var r=e.accidentals[n];"flat"===r.acc?t[r.note.toUpperCase()]="_":"sharp"===r.acc&&(t[r.note.toUpperCase()]="^")}return t}function l(e,t,n){var r=h.indexOf(e.root)-h.indexOf(t);return"none"===t&&(r=h.indexOf(e.root)),0===r?n>2?r+=7:-12===n&&(r-=7):n>0&&r<0?r+=7:n<0&&r>0&&(r-=7),n>12?r+=7:n<-12&&(r-=7),r}function u(e,t,r,i,s,a){for(var o=[],u=l(s,r,a),h={},d={},m=0;m<t.length;m++){var g=t[m];if(g.chord)for(var v=0;v<g.chord.length;v++){var b=g.chord[v];if("default"===b.position){var k=s.accidentals.length&&"flat"===s.accidentals[0].acc,C=c(b.name,a,k,!0);(C=C.replace(/\u266d/g,"b").replace(/\u266f/g,"#"))!==b.name&&o.push(_(e,g.startChar,g.endChar,C))}}if("note"===g.el_type&&g.pitches){for(var E=0;E<g.pitches.length;E++){var S=y(g.pitches[E].name,r,i,h);S.acc&&(h[S.name.toUpperCase()]=S.acc);var T=p(S,s,u,d);T.acc&&(d[T.upper]=T.acc),o.push(x(e,g.startChar,g.endChar,T.acc+T.name,E))}if(g.gracenotes)for(var N=0;N<g.gracenotes.length;N++){var I=y(g.gracenotes[N].name,r,i,h);I.acc&&(h[I.name.toUpperCase()]=I.acc);var P=p(I,s,u,h);P.acc&&(d[P.upper]=P.acc),o.push(w(e,g.startChar,g.endChar,P.acc+P.name,N))}}else"bar"===g.el_type?(h={},d={}):"keySignature"===g.el_type&&(r=g.root,i=n(g),u=l(s=f(g,a),r,a))}return o}r=function(t,n,r){if("TEST"===n)return{keyAccidentals:i,relativeMajor:s,transposeKey:a,relativeMode:o,transposeChordName:c};r=parseInt(r,10);var l,u=[];for(l=0;l<n.length;l++)u=u.concat(e(t,n[l],r));u=u.sort(function(e,t){return t.start-e.start});var h=t.split("");for(l=0;l<u.length;l++){var d=u[l];h.splice(d.start,d.end-d.start,d.note)}return h.join("")};var h="CDEFGAB",d=[",,,,",",,,",",,",",","","'","''","'''","''''"];function f(e,t){if("none"===e.root)return{root:a("C",t),mode:"",acc:"",accidentals:[]};var n=s(e.root+e.acc+e.mode),r=a(n,t),c=o(r,e.mode),l=i(r);return{root:c[0],mode:e.mode,acc:c.length>1?c[1]:"",accidentals:l}}function p(e,t,n,r){for(var i=e.pitch,s=h.indexOf(e.name),a=(h.indexOf(t.root)+i)%7,o=s+n,c=e.oct;o>6;)c++,o-=7;for(;o<0;)c--,o+=7;for(var l=h[a],u="",d=e.adj,f="=",m=0;m<t.accidentals.length;m++)if(t.accidentals[m].note.toLowerCase()===l.toLowerCase()){d+="flat"===t.accidentals[m].acc?-1:1,f="flat"===t.accidentals[m].acc?"_":"^";break}switch(d){case-2:u="__";break;case-1:u="_";break;case 0:u="=";break;case 1:u="^";break;case 2:u="^^";break;case-3:return(g={}).pitch=e.pitch-1,g.oct=e.oct,g.name=h[h.indexOf(e.name)-1],g.name||(g.name="B",g.oct--),"B"===g.name||"E"===g.name?g.adj=e.adj+1:g.adj=e.adj+2,p(g,t,n+1,r);case 3:var g;return(g={}).pitch=e.pitch+1,g.oct=e.oct,g.name=h[h.indexOf(e.name)+1],g.name||(g.name="C",g.oct++),"C"===g.name||"F"===g.name?g.adj=e.adj-1:g.adj=e.adj-2,p(g,t,n+1,r)}switch(r[l]!==u&&(r[l]||u!==f)||e.courtesy||(u=""),c){case 0:l+=",,,";break;case 1:l+=",,";break;case 2:l+=",";break;case 4:l=l.toLowerCase();break;case 5:l=l.toLowerCase()+"'";break;case 6:l=l.toLowerCase()+"''";break;case 7:l=l.toLowerCase()+"'''";break;case 8:l=l.toLowerCase()+"''''"}return c>4&&(l=l.toLowerCase()),{acc:u,name:l,upper:l.toUpperCase()}}var m=/([_^=]*)([A-Ga-g])([,']*)/,g=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,v=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/,b=/(\s*)$/;function y(e,t,n,r){var i="none"===t?0:h.indexOf(t),s=e.match(m),a=s[2].toUpperCase(),o=h.indexOf(a)-i;o<0&&(o+=7);var c=d.indexOf(s[3]);a===s[2]&&c--;var l=r[a]||n[a]||"=";return{acc:s[1],name:a,pitch:o,oct:c,adj:k(s[1],n[a],r[a]),courtesy:s[1]===l}}function x(e,t,n,r,i){var s=e.substring(t,n),a=s.match(new RegExp(g.source+b.source),"");if(a){var o=a[1].length,c=a[2].length+a[3].length+a[4].length;t+=n-t-o-c,n-=c}else{if(a=s.match(new RegExp(/([^\[]*)/.source+/\[/.source+v.source+v.source+v.source+v.source+v.source+v.source+v.source+v.source+/\-?](\d*\/*\d*)?([\>\<\-\)]*)/.source+b.source))){for(var l=1+a[1].length,u=0;u<i;u++)a[3*u+2]&&(l+=a[3*u+2].length),a[3*u+3]&&(l+=a[3*u+3].length),a[3*u+4]&&(l+=a[3*u+4].length);n=(t+=l)+(a[3*i+2]?a[3*i+2].length:0)}}return{start:t,end:n,note:r}}function w(e,t,n,r,i){var s=/(\/*)/,a=e.substring(t,n).match(new RegExp(/([^\{]*)/.source+/\{/.source+s.source+v.source+s.source+v.source+s.source+v.source+s.source+v.source+s.source+v.source+s.source+v.source+s.source+v.source+s.source+v.source+/\}/.source));if(a){for(var o=1+a[1].length,c=0;c<i;c++)a[3*c+2]&&(o+=a[3*c+2].length),a[3*c+3]&&(o+=a[3*c+3].length),a[3*c+4]&&(o+=a[3*c+4].length),a[3*c+5]&&(o+=a[3*c+5].length);a[3*i+2]&&(o+=a[3*c+2].length),t+=o;var l=a[3*i+3]?a[3*i+3].length:0;l+=a[3*i+4]?a[3*i+4].length:0,n=t+(l+=a[3*i+5]?a[3*i+5].length:0)}return{start:t,end:n,note:r}}function _(e,t,n,r){var i=e.substring(t,n).match(/([^"]+)?(".+")+/);return i[1]&&(t+=i[1].length),{start:t+1,end:(n=t+i[2].length)-1,note:r}}function k(e,t,n){if(!e&&n&&(e=n),!e)return 0;switch(t){case void 0:switch(e){case"__":return-2;case"_":return-1;case"=":default:return 0;case"^":return 1;case"^^":return 2}case"_":switch(e){case"__":return-1;case"_":default:return 0;case"=":return 1;case"^":return 2;case"^^":return 3}case"^":switch(e){case"__":return-3;case"_":return-2;case"=":return-1;case"^":default:return 0;case"^^":return 1}}return 0}}(),e.exports=r},5605:(e,t,n)=>{var r=n(1920),i=n(1667),s=n(5645);e.exports=function(e,t){if(e.el_type="keySignature",!e.accidentals||0===e.accidentals.length)return null;var n=new r(e,0,10,"staff-extra key-signature",t);n.isKeySig=!0;var a=0;return e.accidentals.forEach(function(e){var t,r=0;switch(e.acc){case"sharp":t="accidentals.sharp",r=-3;break;case"natural":t="accidentals.nat";break;case"flat":t="accidentals.flat",r=-1.2;break;case"quartersharp":t="accidentals.halfsharp",r=-2.5;break;case"quarterflat":t="accidentals.halfflat",r=-1.2;break;default:t="accidentals.flat"}n.addRight(new s(t,a,i.getSymbolWidth(t),e.verticalPos,{thickness:i.symbolHeightInPitches(t),top:e.verticalPos+i.symbolHeightInPitches(t)+r,bottom:e.verticalPos+r})),a+=i.getSymbolWidth(t)+2},this),n}},5627:e=>{var t={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},n=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];e.exports={noteToMidi:function(e){var r=e.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(r&&5===r.length){var i=t[r[1]];return 48+n.indexOf(r[2])+i+12*(r[4].length-r[3].length)}return 0},midiToNote:function(e){e=parseInt(e,10);var t=Math.floor(e/12),r=e%12,i=n[r];if("-"===i&&(i="^"+n[r-1]),t>4)for(i=i.toLowerCase(),t-=5;t>0;)i+="'",t--;else for(;t<4;)i+=",",t++;return i}}},5645:e=>{var t=function(e,t,n,r,i){switch(i=i||{},this.x=0,this.c=e,this.dx=t,this.w=n,this.pitch=r,this.scalex=i.scalex||1,this.scaley=i.scaley||1,this.type=i.type||"symbol",this.pitch2=i.pitch2,this.linewidth=i.linewidth,this.klass=i.klass,this.anchor=i.anchor?i.anchor:"middle",this.top=r,void 0!==this.pitch2&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=r,void 0!==this.pitch2&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),i.thickness&&(this.top+=i.thickness/2,this.bottom-=i.thickness/2),i.stemHeight&&(i.stemHeight>0?this.top+=i.stemHeight:this.bottom+=i.stemHeight),i.dim&&(this.dim=i.dim),i.position&&(this.position=i.position),this.height=i.height?i.height:4,i.top&&(this.top=i.top),i.bottom&&(this.bottom=i.bottom),i.name?this.name=i.name:this.c?this.name=this.c:this.name=this.type,i.realWidth?this.realWidth=i.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":i.position&&"below"===i.position?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":i.position&&"below"===i.position?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":void 0===this.pitch?i.position&&"below"===i.position?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height}};t.prototype.getChordDim=function(){if("debug"===this.type)return null;if(!this.chordHeightAbove&&!this.chordHeightBelow)return null;var e="chord"===this.type?this.realWidth/2:0,t=this.x-e-0;return{left:t,right:t+this.realWidth+0}},t.prototype.invertLane=function(e){void 0===this.lane&&(this.lane=0),this.lane=e-this.lane-1},t.prototype.putChordInLane=function(e){this.lane=e,this.chordHeightAbove?this.chordHeightAbove=1.25*this.height*this.lane:this.chordHeightBelow=1.25*this.height*this.lane},t.prototype.getLane=function(){return void 0===this.lane?0:this.lane},t.prototype.setX=function(e){this.x=e+this.dx},e.exports=t},5683:(e,t,n)=>{var r=n(6719),i=n(4401),s=n(1579),a=n(5121),o=n(9202),c=n(8579),l=n(558),u=n(8706),h=n(992);function d(e){return"rest"===e.type&&!(!e.abcelem||!e.abcelem.rest||"spacer"===e.abcelem.rest.type)}e.exports=function(e,t,n,f,p){var m=t.w-1;e.staffbottom=t.staff.bottom;var g,v,b=e.foregroundColor;if(t.color&&(e.foregroundColor=t.color),t.header){var y=u(e,{x:e.padding.left,y:e.calcY(t.headerPosition),text:t.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);f.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:t.header},y)}var x=!1;for(g=0;g<t.children.length;g++){"note"!==(v=t.children[g]).type&&"rest"!==v.type||(x=!0);var w=!1;"staff-extra"===v.type||e.controller.classes.isInMeasure()||(e.controller.classes.startMeasure(),w=!0),t.staff.isTabStaff&&(v.invisible=!1,"bar"==v.type&&v.abcelem.lastBar&&(n=t.topLine)),h(e,v,t.barto||g===t.children.length-1?n:0,f,p),("note"===v.type||d(v))&&e.controller.classes.incrNote(),"bar"===v.type&&!w&&x&&e.controller.classes.incrMeasure()}for(e.controller.classes.startMeasure(),g=0;g<t.beams.length;g++){var _=t.beams[g];"bar"===_?e.controller.classes.incrMeasure():l(e,_,f)}for(e.controller.classes.startMeasure(),g=0;g<t.otherchildren.length;g++)if("bar"===(v=t.otherchildren[g]))e.controller.classes.incrMeasure();else switch(v.type){case"GlissandoElem":v.elemset=r(e,v,f);break;case"CrescendoElem":v.elemset=i(e,v,f);break;case"DynamicDecoration":v.elemset=s(e,v,f);break;case"TripletElem":a(e,v,f);break;case"EndingElem":v.elemset=o(e,v,t.startx+10,m,f);break;case"TieElem":v.elemset=c(e,v,t.startx+10,m,f);break;default:console.log(v),h(e,v,t.startx+10,m,f,p)}e.foregroundColor=b}},5765:e=>{e.exports=function(e,t,n){if(t.text){t.marginLeft||(t.marginLeft=0),t.klass||(t.klass=""),t.anchor||(t.anchor="start"),t.info||(t.info={startChar:-2,endChar:-2}),t.marginTop&&e.push({move:t.marginTop});var r={left:t.marginLeft,text:t.text,font:t.font,anchor:t.anchor,startChar:t.info.startChar,endChar:t.info.endChar};t.absElemType&&(r.absElemType=t.absElemType),t.inGroup||(r.klass=t.klass),t.name&&(r.name=t.name),e.push(r);var i=n.calc("A",t.font,t.klass),s=t.text.split("\n").length;if("\n"===t.text[t.text.length-1]&&s--,!t.noMove){var a=1.1*i.height*s;e.push({move:Math.round(a)}),t.marginBottom&&e.push({move:t.marginBottom})}}}},5797:(e,t,n)=>{var r=n(8706),i=n(9754),s=n(7182),a=n(1051);e.exports=function(e,t,n){void 0===t.pitch&&window.console.error(t.type+" Relative Element y-coordinate not set.");var o=e.calcY(t.pitch);switch(t.type){case"symbol":if(null===t.c)return null;var c="symbol";t.klass&&(c+=" "+t.klass),t.graphelem=a(e,t.x,t.pitch,t.c,{scalex:t.scalex,scaley:t.scaley,klass:e.controller.classes.generate(c),name:t.name});break;case"debug":t.graphelem=r(e,{x:t.x,y:e.calcY(15),text:""+t.c,type:"debugfont",klass:e.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:t.dim},!1);break;case"tabNumber":var l="tabnumberfont",u="tab-number";t.isGrace&&(l="tabgracefont",o+=2.5,u="tab-grace"),t.graphelem=r(e,{x:t.x,y:o,text:""+t.c,type:l,klass:e.controller.classes.generate(u),anchor:"middle",centerVertically:!1,dim:t.dim,cursor:"default"},!1);break;case"barNumber":t.graphelem=r(e,{x:t.x,y:o,text:""+t.c,type:"measurefont",klass:e.controller.classes.generate("bar-number"),anchor:"middle",dim:t.dim,name:"bar-number"},!0);break;case"lyric":t.graphelem=r(e,{x:t.x,y:o,text:t.c,type:"vocalfont",klass:e.controller.classes.generate("lyric"),anchor:"middle",dim:t.dim,name:"lyric"},!1);break;case"chord":t.graphelem=r(e,{x:t.x,y:o,text:t.c,type:"gchordfont",klass:e.controller.classes.generate("chord"),anchor:"middle",dim:t.dim,lane:t.getLane(),name:"chord"},!1);break;case"decoration":t.graphelem=r(e,{x:t.x,y:o+6,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:t.anchor,centerVertically:!0,dim:t.dim},!1);break;case"text":t.graphelem=r(e,{x:t.x,y:o,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:"start",centerVertically:t.centerVertically,dim:t.dim,lane:t.getLane(),name:"annotation"},!1);break;case"multimeasure-text":t.graphelem=r(e,{x:t.x+t.w/2,y:o,text:t.c,type:"tempofont",klass:e.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:t.dim},!1);break;case"part":t.graphelem=r(e,{x:t.x,y:o,text:t.c,type:"partsfont",klass:e.controller.classes.generate("part"),anchor:"start",dim:t.dim,name:t.c},!0);break;case"bar":t.graphelem=i(e,t.x,t.linewidth+e.lineThickness,o,n||e.calcY(t.pitch2),null,"bar");break;case"stem":var h=t.linewidth>0?t.linewidth+e.lineThickness:t.linewidth-e.lineThickness;t.graphelem=i(e,t.x,h,o,e.calcY(t.pitch2),"abcjs-stem","stem");break;case"ledger":t.graphelem=s(e,t.x,t.x+t.w,t.pitch,"abcjs-ledger","ledger",.35+e.lineThickness)}return 1!==t.scalex&&t.graphelem&&function(e,t,n,r,i,s){e.setAttributeOnElement(t,{style:"transform:scale("+n+","+r+");transform-origin:"+i+"px "+s+"px;"})}(e.paper,t.graphelem,t.scalex,t.scaley,t.x,o),t.graphelem}},5879:(e,t,n)=>{var r=n(3837);e.exports=function(e){for(var t=[],n=0;n<e.tracks.length;n++)t.push([]);var i=r[0];return e.tracks.forEach(function(e,n){e.forEach(function(e){switch(e.cmd){case"note":if(e.duration>0){var s=e.gap?e.gap:0,a=e.duration;s=Math.min(s,2*a/3);var o={pitch:e.pitch,instrument:i,start:Math.round(1e6*e.start)/1e6,end:Math.round(1e6*(e.start+a-s))/1e6,volume:e.volume};e.startChar&&(o.startChar=e.startChar),e.endChar&&(o.endChar=e.endChar),e.style&&(o.style=e.style),e.cents&&(o.cents=e.cents),t[n].push(o)}break;case"program":i=r[e.instrument];break;case"text":break;default:console.log("Unhandled midi event",e)}})}),t}},5898:(e,t,n)=>{var r=n(4484),i=n(5980),s=n(1600),a=n(1642),o=n(8696),c=n(3428),l=n(5516),u=n(6652);e.exports=function(){"use strict";var e,t=new l,n=new u(t),h="",d="";function f(e,t,n){e.positioning||(e.positioning={}),e.positioning[t]=n}function p(e,t,n){e.fonts||(e.fonts={}),e.fonts[t]=n}this.getTune=function(){var e={formatting:t.formatting,lines:t.lines,media:t.media,metaText:t.metaText,metaTextInfo:t.metaTextInfo,version:t.version,addElementToEvents:t.addElementToEvents,addUsefulCallbackInfo:t.addUsefulCallbackInfo,getTotalTime:t.getTotalTime,getTotalBeats:t.getTotalBeats,getBarLength:t.getBarLength,getBeatLength:t.getBeatLength,getBeatsPerMeasure:t.getBeatsPerMeasure,getBpm:t.getBpm,getMeter:t.getMeter,getMeterFraction:t.getMeterFraction,getPickupLength:t.getPickupLength,getKeySignature:t.getKeySignature,getElementFromChar:t.getElementFromChar,makeVoicesArray:t.makeVoicesArray,millisecondsPerMeasure:t.millisecondsPerMeasure,setupEvents:t.setupEvents,setTiming:t.setTiming,setUpAudio:t.setUpAudio,deline:t.deline};return t.lineBreaks&&(e.lineBreaks=t.lineBreaks),t.visualTranspose&&(e.visualTranspose=t.visualTranspose),e};var m,g,v={reset:function(){for(var e in this)this.hasOwnProperty(e)&&"function"!==typeof this[e]&&delete this[e];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(e,t){return this[e].decoration!==t[e].decoration||(this[e].face!==t[e].face||(this[e].size!==t[e].size||(this[e].style!==t[e].style||this[e].weight!==t[e].weight)))},addFormattingOptions:function(e,t,n){"note"===n?("auto"!==this.vocalPosition&&f(e,"vocalPosition",this.vocalPosition),"auto"!==this.dynamicPosition&&f(e,"dynamicPosition",this.dynamicPosition),"auto"!==this.chordPosition&&f(e,"chordPosition",this.chordPosition),"auto"!==this.ornamentPosition&&f(e,"ornamentPosition",this.ornamentPosition),"auto"!==this.volumePosition&&f(e,"volumePosition",this.volumePosition),this.differentFont("annotationfont",t)&&p(e,"annotationfont",this.annotationfont),this.differentFont("gchordfont",t)&&p(e,"gchordfont",this.gchordfont),this.differentFont("vocalfont",t)&&p(e,"vocalfont",this.vocalfont),this.differentFont("tripletfont",t)&&p(e,"tripletfont",this.tripletfont)):"bar"===n&&("auto"!==this.dynamicPosition&&f(e,"dynamicPosition",this.dynamicPosition),"auto"!==this.chordPosition&&f(e,"chordPosition",this.chordPosition),"auto"!==this.ornamentPosition&&f(e,"ornamentPosition",this.ornamentPosition),"auto"!==this.volumePosition&&f(e,"volumePosition",this.volumePosition),this.differentFont("measurefont",t)&&p(e,"measurefont",this.measurefont),this.differentFont("repeatfont",t)&&p(e,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var e=0;e<this.inTie.length;e++)if(this.endingHoldOver.inTie.push([]),this.inTie[e])for(var t=0;t<this.inTie[e].length;t++)this.endingHoldOver.inTie[e].push(this.inTie[e][t]);for(var n in this.inTieChord)this.inTieChord.hasOwnProperty(n)&&(this.endingHoldOver.inTieChord[n]=this.inTieChord[n])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var e=0;e<this.endingHoldOver.inTie.length;e++){this.inTie.push([]);for(var t=0;t<this.endingHoldOver.inTie[e].length;t++)this.inTie[e].push(this.endingHoldOver.inTie[e][t])}for(var n in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(n)&&(this.inTieChord[n]=this.endingHoldOver.inTieChord[n])}}},b=function(e){var t=e.replace(/\x12/g," ");return(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")},y=function(t,n,r){n||(n=" ");var i=n[r];" "!==i&&i||(i="SPACE");var s,a=b(n.substring(r-64,r))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+i+"</span>"+b(n.substring(r+1).substring(0,64));!function(e){v.warnings||(v.warnings=[]),v.warnings.push(e)}("Music Line:"+e.lineIndex+":"+(r+1)+": "+t+":  "+a),s={message:t,line:n,startChar:v.iChar+r,column:r},v.warningObjects||(v.warningObjects=[]),v.warningObjects.push(s)};this.getWarnings=function(){return v.warnings},this.getWarningObjects=function(){return v.warningObjects};var x=function(t,n){if(n.indexOf("\x12")>=0)h+=n;else if(n=h+n,h="",t){"-"!==(n=r.strip(n))[n.length-1]&&(n+=" ");for(var i=[],s=0,a=!1,o=function(t){var o=r.strip(n.substring(s,t));if(o=o.replace(/\\([-_*|~])/g,"$1"),s=t+1,o.length>0){a&&(o=o.replace(/~/g," "));var c=n[t];return"_"!==c&&"-"!==c&&(c=" "),i.push({syllable:e.translateString(o),divider:c}),a=!1,!0}return!1},c=!1,l=0;l<n.length;l++){switch(n[l]){case" ":case"\x12":o(l);break;case"-":!c&&!o(l)&&i.length>0&&(r.last(i).divider="-",i.push({skip:!0,to:"next"}));break;case"_":c||(o(l),i.push({skip:!0,to:"slur"}));break;case"*":c||(o(l),i.push({skip:!0,to:"next"}));break;case"|":c||(o(l),i.push({skip:!0,to:"bar"}));break;case"~":c||(a=!0)}c="\\"===n[l]}t.forEach(function(e){if(0!==i.length)if(i[0].skip){switch(i[0].to){case"next":case"slur":"note"===e.el_type&&null!==e.pitches&&i.shift();break;case"bar":"bar"===e.el_type&&i.shift()}"bar"!==e.el_type&&(void 0===e.lyric?e.lyric=[{syllable:"",divider:" "}]:e.lyric.push({syllable:"",divider:" "}))}else if("note"===e.el_type&&void 0===e.rest){var t=i.shift();t.syllable&&(t.syllable=t.syllable.replace(/ +/g,"\xa0")),void 0===e.lyric?e.lyric=[t]:e.lyric.push(t)}})}else y("Can't add words before the first line of music",t,0)},w=function(t,n){if(n.indexOf("\x12")>=0)d+=n;else if(n=d+n,d="",t){"-"!==(n=r.strip(n))[n.length-1]&&(n+=" ");for(var i=[],s=0,a=!1,o=function(t){var o=r.strip(n.substring(s,t));if(s=t+1,o.length>0){a&&(o=o.replace(/~/g," "));var c=n[t];return"_"!==c&&"-"!==c&&(c=" "),i.push({syllable:e.translateString(o),divider:c}),a=!1,!0}return!1},c=0;c<n.length;c++)switch(n[c]){case" ":case"\x12":o(c);break;case"-":!o(c)&&i.length>0&&(r.last(i).divider="-",i.push({skip:!0,to:"next"}));break;case"_":o(c),i.push({skip:!0,to:"slur"});break;case"*":o(c),i.push({skip:!0,to:"next"});break;case"|":o(c),i.push({skip:!0,to:"bar"});break;case"~":a=!0}t.forEach(function(e){if(0!==i.length)if(i[0].skip)switch(i[0].to){case"next":case"slur":"note"===e.el_type&&null!==e.pitches&&i.shift();break;case"bar":"bar"===e.el_type&&i.shift()}else if("note"===e.el_type&&void 0===e.rest){var t=i.shift();void 0===e.lyric?e.lyric=[t]:e.lyric.push(t)}})}else y("Can't add symbols before the first line of music",t,0)},_=function(e){if(r.startsWith(e,"%%")){var t=i.addDirective(e.substring(2));t&&y(t,e,2)}else{var s=e.indexOf("%");if(s>=0&&(e=e.substring(0,s)),0!==(e=e.replace(/\s+$/,"")).length)if(h)x(n.getCurrentVoice(),e.substring(2));else if(d)w(n.getCurrentVoice(),e.substring(2));else if(e.length<2||":"!==e[1]||g.lineContinuation)g.parseMusic(e);else{var a=m.parseHeader(e);a.regular&&g.parseMusic(e),a.newline&&g.startNewLine(),a.words&&x(n.getCurrentVoice(),e.substring(2)),a.symbols&&w(n.getCurrentVoice(),e.substring(2))}}};function k(e,t){e.push({el_type:"hint"});for(var n=0;n<t.length;n++){var i=t[n],s=r.clone(i);if(e.push(s),"bar"===i.el_type)return}}function C(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(i)for(var s=0;s<i.voices.length;s++){var a=i.voices[s],o=r.voices[s];o&&k(o,a)}}}this.parse=function(l,u,f){u||(u={}),f||(f=0),t.reset();var p=(l=l.replace(/\r\n?/g,"\n")+"\n").split("\n\\");if(p.length>1){for(var b=1;b<p.length;b++)for(;p[b].length>0&&"\n"!==p[b][0];)p[b]=p[b].substr(1),p[b-1]+=" ";l=p.join("  ")}var k=(l=l.replace(/\\([ \t]*)(%.*)*\n/g,function(e,t,n){return t+"\x12"+(n?Array(n.length+1).join(" "):"")+"\n"})).split("\n");0===r.last(k).length&&k.pop(),e=new o(k,v),m=new s(e,y,v,t,n),g=new a(e,y,v,t,n,m),u.print&&(t.media="print"),v.reset(),v.iChar=f,u.visualTranspose?(v.globalTranspose=parseInt(u.visualTranspose),0===v.globalTranspose?v.globalTranspose=void 0:n.setVisualTranspose(u.visualTranspose)):v.globalTranspose=void 0,u.lineBreaks&&(v.lineBreaks=u.lineBreaks),m.reset(e,y,v,t);try{u.format&&i.globalFormatting(u.format);for(var E=e.nextLine();E;){if(u.header_only&&!1===v.is_in_header)throw"normal_abort";if(u.stop_on_warning&&v.warnings)throw"normal_abort";var S=v.is_in_header;_(E),S&&!v.is_in_header&&(n.setRunningFont("annotationfont",v.annotationfont),n.setRunningFont("gchordfont",v.gchordfont),n.setRunningFont("tripletfont",v.tripletfont),n.setRunningFont("vocalfont",v.vocalfont)),E=e.nextLine()}h&&x(n.getCurrentVoice(),""),d&&w(n.getCurrentVoice(),""),v.openSlurs=n.cleanUp(v.barsperstaff,v.staffnonote,v.openSlurs)}catch(P){if("normal_abort"!==P)throw P}var T=792,N=612;switch(v.papersize){case"legal":T=1008,N=612;break;case"A4":T=842.4,N=597.6}if(v.landscape){var I=T;T=N,N=I}t.formatting.pagewidth||(t.formatting.pagewidth=N),t.formatting.pageheight||(t.formatting.pageheight=T),u.hint_measures&&function(){for(var e=0;e<t.lines.length;e++){var n=t.lines[e].staff;if(n){for(var r=e+1;r<t.lines.length&&void 0===t.lines[r].staff;)r++;r<t.lines.length&&C(n,t.lines[r].staff)}}}(),c.wrapLines(t,v.lineBreaks,v.barNumbers)}}},5971:e=>{var t=function(e,t,n){this.type="TripletElem",this.anchor1=t,this.number=e,this.durationClass=("d"+Math.round(1e3*t.parent.durationClass)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=n.flatBeams};t.prototype.isClosed=function(){return!!this.anchor2},t.prototype.middleNote=function(e){this.middleElems.push(e)},t.prototype.setCloseAnchor=function(e){this.anchor2=e,this.anchor1.parent.beam&&"up"!==this.anchor1.stemDir||(this.endingHeightAbove=4)},e.exports=t},5980:(e,t,n)=>{var r=n(4484),i={};!function(){"use strict";var e,t,n,s,a;i.initialize=function(r,i,o,c,l){e=r,t=i,s=c,a=l,(n=o).annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},n.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},n.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},n.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},n.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},s.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},s.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},s.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},s.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},s.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},s.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},s.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},s.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},s.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},s.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},s.formatting.annotationfont=n.annotationfont,s.formatting.gchordfont=n.gchordfont,s.formatting.historyfont=n.historyfont,s.formatting.infofont=n.infofont,s.formatting.measurefont=n.measurefont,s.formatting.partsfont=n.partsfont,s.formatting.repeatfont=n.repeatfont,s.formatting.textfont=n.textfont,s.formatting.tripletfont=n.tripletfont,s.formatting.vocalfont=n.vocalfont,s.formatting.wordsfont=n.wordsfont};var o={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},c=function(e,n,r,i,s){function a(){var a=parseInt(e[0].token);return e.shift(),n?0===e.length?{face:n.face,weight:n.weight,style:n.style,decoration:n.decoration,size:a}:1===e.length&&"box"===e[0].token&&o[s]?{face:n.face,weight:n.weight,style:n.style,decoration:n.decoration,size:a,box:!0}:(t("Extra parameters in font definition.",r,i),{face:n.face,weight:n.weight,style:n.style,decoration:n.decoration,size:a}):(t("Can't set just the size of the font since there is no default value.",r,i),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:a})}if("*"===e[0].token){if(e.shift(),"number"===e[0].type)return a();t("Expected font size number after *.",r,i)}if("number"===e[0].type)return a();for(var c,l=[],u="normal",h="normal",d="none",f=!1,p="face",m=!1;e.length;){var g=e.shift(),v=g.token.toLowerCase();switch(p){case"face":m||"utf"!==v&&"number"!==g.type&&"bold"!==v&&"italic"!==v&&"underline"!==v&&"box"!==v?l.length>0&&"-"===g.token?(m=!0,l[l.length-1]=l[l.length-1]+g.token):m?(m=!1,l[l.length-1]=l[l.length-1]+g.token):l.push(g.token):"number"===g.type?(c?t("Font size specified twice in font definition.",r,i):c=g.token,p="modifier"):"bold"===v?u="bold":"italic"===v?h="italic":"underline"===v?d="underline":"box"===v?(o[s]?f=!0:t('This font style doesn\'t support "box"',r,i),p="finished"):"utf"===v?(g=e.shift(),p="size"):t("Unknown parameter "+g.token+" in font definition.",r,i);break;case"size":"number"===g.type?c?t("Font size specified twice in font definition.",r,i):c=g.token:t("Expected font size in font definition.",r,i),p="modifier";break;case"modifier":"bold"===v?u="bold":"italic"===v?h="italic":"underline"===v?d="underline":"box"===v?(o[s]?f=!0:t('This font style doesn\'t support "box"',r,i),p="finished"):t("Unknown parameter "+g.token+" in font definition.",r,i);break;case"finished":t('Extra characters found after "box" in font definition.',r,i)}}void 0===c?n?c=n.size:(t("Must specify the size of the font since there is no default value.",r,i),c=12):c=parseFloat(c),""===(l=l.join(" "))&&(n?l=n.face:(t("Must specify the name of the font since there is no default value.",r,i),l="sans-serif"));var b=function(e){switch(e){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}}(l),y={};return b?(y.face=b.face,y.weight=b.weight,y.style=b.style,y.decoration=b.decoration,y.size=c,f&&(y.box=!0),y):(y.face=l,y.weight=u,y.style=h,y.decoration=d,y.size=c,f&&(y.box=!0),y)},l=function(e,t,r){return 0===t.length?'Directive "'+e+'" requires a font as a parameter.':(n[e]=c(t,n[e],r,0,e),n.is_in_header&&(s.formatting[e]=n[e]),null)},u=function(e,t){var n="";t.forEach(function(e){n+=e.token});var r=parseFloat(n);if(isNaN(r)||0===r)return'Directive "'+e+'" requires a number as a parameter.';s.formatting.scale=r},h=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],d=function(e,t,r,i,s){if(1!==r.length||"number"!==r[0].type)return'Directive "'+t+'" requires a number as a parameter.';var a=r[0].intt;return void 0!==i&&a<i?'Directive "'+t+'" requires a number greater than or equal to '+i+" as a parameter.":void 0!==s&&a>s?'Directive "'+t+'" requires a number less than or equal to '+s+" as a parameter.":(n[e]=a,null)},f=function(e,t,r){if(1===r.length&&("true"===r[0].token||"false"===r[0].token))return n[e]="true"===r[0].token,null;var i=d(e,t,r,0,1);return null!==i?i:(n[e]=1===n[e],null)},p=function(e,t,r,i){if(1!==r.length)return'Directive "'+t+'" requires one of [ '+i.join(", ")+" ] as a parameter.";for(var s=r[0].token,a=!1,o=0;!a&&o<i.length;o++)i[o]===s&&(a=!0);return a?(n[e]=s,null):'Directive "'+t+'" requires one of [ '+i.join(", ")+" ] as a parameter."},m=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],g=["gchord","ptstress","beatstring"],v=["bassvol","chordvol","bassprog","chordprog","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc"],b=["program"],y=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],x=["beat"],w=["drone"],_=["portamento"],k=["expand","grace","trim"],C=["drum","chordname"];i.parseFontChangeLine=function(e){var t=e.split("$");if(t.length>1&&n.setfont){for(var r=[{text:t[0]}],i=1;i<t.length;i++)"0"===t[i][0]?r.push({text:t[i].substring(1)}):"1"===t[i][0]&&n.setfont[1]?r.push({font:n.setfont[1],text:t[i].substring(1)}):"2"===t[i][0]&&n.setfont[2]?r.push({font:n.setfont[2],text:t[i].substring(1)}):"3"===t[i][0]&&n.setfont[3]?r.push({font:n.setfont[3],text:t[i].substring(1)}):"4"===t[i][0]&&n.setfont[4]?r.push({font:n.setfont[4],text:t[i].substring(1)}):r[r.length-1].text+="$"+t[i];if(r.length>1)return r}return e};var E=["auto","above","below","hidden"];function S(e){if(0===e.length)return{value:1};if(1===e.length)if("number"===e[0].type){if(e[0].floatt>=0||e[0].floatt<=1)return{value:e[0].floatt}}else{if("false"===e[0].token)return{value:0};if("true"===e[0].token)return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+e[0].token+")"}}i.addDirective=function(o){var T=e.tokenize(o,0,o.length);if(0===T.length||"alpha"!==T[0].type)return null;var N=o.substring(o.indexOf(T[0].token)+T[0].token.length);N=e.stripComment(N);var I,P=T.shift().token.toLowerCase(),A="";switch(P){case"bagpipes":s.formatting.bagpipes=!0;break;case"flatbeams":s.formatting.flatbeams=!0;break;case"jazzchords":s.formatting.jazzchords=!0;break;case"germanAlphabet":s.formatting.germanAlphabet=!0;break;case"landscape":n.landscape=!0;break;case"papersize":n.papersize=N;break;case"graceslurs":if(1!==T.length)return"Directive graceslurs requires one parameter: 0 or 1";if("0"===T[0].token||"false"===T[0].token)s.formatting.graceSlurs=!1;else{if("1"!==T[0].token&&"true"!==T[0].token)return"Directive graceslurs requires one parameter: 0 or 1 (received "+T[0].token+")";s.formatting.graceSlurs=!0}break;case"lineThickness":var O=S(T);if(void 0!==O.value&&(s.formatting.lineThickness=O.value),O.error)return O.error;break;case"stretchlast":var M=S(T);if(void 0!==M.value&&(s.formatting.stretchlast=M.value),M.error)return M.error;break;case"titlecaps":n.titlecaps=!0;break;case"titleleft":s.formatting.titleleft=!0;break;case"measurebox":s.formatting.measurebox=!0;break;case"vocal":return p("vocalPosition",P,T,E);case"dynamic":return p("dynamicPosition",P,T,E);case"gchord":return p("chordPosition",P,T,E);case"ornament":return p("ornamentPosition",P,T,E);case"volume":return p("volumePosition",P,T,E);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return function(t,n){var r=e.getMeasurement(n);return 0===r.used||0!==n.length?'Directive "'+t+'" requires a measurement as a parameter.':(s.formatting[t]=r.value,null)}(P,T);case"voicescale":if(1!==T.length||"number"!==T[0].type)return"voicescale requires one float as a parameter";var R=T.shift();return n.currentVoice&&(n.currentVoice.scale=R.floatt,a.changeVoiceScale(n.currentVoice.scale)),null;case"voicecolor":if(1!==T.length)return"voicecolor requires one string as a parameter";var L=T.shift();return n.currentVoice&&(n.currentVoice.color=L.token,a.changeVoiceColor(n.currentVoice.color)),null;case"vskip":var j=Math.round(function(t,n){var r=e.getMeasurement(n);return 0===r.used||0!==n.length?{error:'Directive "'+t+'" requires a measurement as a parameter.'}:r.value}(P,T));return j.error?j.error:(a.addSpacing(j),null);case"scale":u(P,T);break;case"sep":if(0===T.length)a.addSeparator(14,14,85,{startChar:n.iChar,endChar:n.iChar+5});else{var D=e.getMeasurement(T);if(0===D.used)return'Directive "'+P+'" requires 3 numbers: space above, space below, length of line';var B=D.value;if(0===(D=e.getMeasurement(T)).used)return'Directive "'+P+'" requires 3 numbers: space above, space below, length of line';var F=D.value;if(0===(D=e.getMeasurement(T)).used||0!==T.length)return'Directive "'+P+'" requires 3 numbers: space above, space below, length of line';var z=D.value;a.addSeparator(B,F,z,{startChar:n.iChar,endChar:n.iChar+N.length})}break;case"barsperstaff":if(null!==(A=d("barsperstaff",P,T)))return A;break;case"staffnonote":if(1!==T.length)return"Directive staffnonote requires one parameter: 0 or 1";if("0"===T[0].token)n.staffnonote=!0;else{if("1"!==T[0].token)return"Directive staffnonote requires one parameter: 0 or 1 (received "+T[0].token+")";n.staffnonote=!1}break;case"printtempo":if(null!==(A=f("printTempo",P,T)))return A;break;case"partsbox":if(null!==(A=f("partsBox",P,T)))return A;n.partsfont.box=n.partsBox;break;case"freegchord":if(null!==(A=f("freegchord",P,T)))return A;break;case"measurenb":case"barnumbers":if(null!==(A=d("barNumbers",P,T)))return A;break;case"setbarnb":if(1!==T.length||"number"!==T[0].type)return"Directive setbarnb requires a number as a parameter.";n.currBarNumber=a.setBarNumberImmediate(T[0].intt);break;case"begintext":var H="";for(I=e.nextLine();I&&0!==I.indexOf("%%endtext");)r.startsWith(I,"%%")?H+=I.substring(2)+"\n":H+=I+"\n",I=e.nextLine();a.addText(H,{startChar:n.iChar,endChar:n.iChar+H.length+7});break;case"continueall":n.continueall=!0;break;case"beginps":for(I=e.nextLine();I&&0!==I.indexOf("%%endps");)e.nextLine();t("Postscript ignored",o,0);break;case"deco":N.length>0&&n.ignoredDecorations.push(N.substring(0,N.indexOf(" "))),t("Decoration redefinition ignored",o,0);break;case"text":var U=e.translateString(N);a.addText(i.parseFontChangeLine(U),{startChar:n.iChar,endChar:n.iChar+N.length+7});break;case"center":var q=e.translateString(N);a.addCentered(i.parseFontChangeLine(q));break;case"font":break;case"setfont":var W=e.tokenize(N,0,N.length);if(W.length>=4&&"-"===W[0].token&&"number"===W[1].type){var V=parseInt(W[1].token);V>=1&&V<=4&&(n.setfont||(n.setfont=[]),W.shift(),W.shift(),n.setfont[V]=c(W,n.setfont[V],o,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return l(P,T,o);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return function(e,t,n){return 0===t.length?'Directive "'+e+'" requires a font as a parameter.':(s.formatting[e]=c(t,s.formatting[e],n,0,e),null)}(P,T,o);case"barlabelfont":case"barnumberfont":case"barnumfont":return l("measurefont",T,o);case"staves":case"score":n.score_is_present=!0;for(var G,Y=function(e,t,i,s,a){(t||0===n.staves.length)&&n.staves.push({index:n.staves.length,numVoices:0});var o=r.last(n.staves);void 0!==i&&void 0===o.bracket&&(o.bracket=i),void 0!==s&&void 0===o.brace&&(o.brace=s),a&&(o.connectBarLines="end"),void 0===n.voices[e]&&(n.voices[e]={staffNum:o.index,index:o.numVoices},o.numVoices++)},K=!1,X=!1,Q=!1,$=!1,J=!1,Z=!1,ee=!1,te=function(){if(ee=!0,G){var e="start";G.staffNum>0&&("start"!==n.staves[G.staffNum-1].connectBarLines&&"continue"!==n.staves[G.staffNum-1].connectBarLines||(e="continue")),n.staves[G.staffNum].connectBarLines=e}};T.length;){var ne=T.shift();switch(ne.token){case"(":K?t("Can't nest parenthesis in %%score",o,ne.start):(K=!0,$=!0);break;case")":!K||$?t("Unexpected close parenthesis in %%score",o,ne.start):K=!1;break;case"[":X?t("Can't nest brackets in %%score",o,ne.start):(X=!0,J=!0);break;case"]":!X||J?t("Unexpected close bracket in %%score",o,ne.start):(X=!1,n.staves[G.staffNum].bracket="end");break;case"{":Q?t("Can't nest braces in %%score",o,ne.start):(Q=!0,Z=!0);break;case"}":!Q||Z?t("Unexpected close brace in %%score",o,ne.start):(Q=!1,n.staves[G.staffNum].brace="end");break;case"|":te();break;default:for(var re="";("alpha"===ne.type||"number"===ne.type)&&(re+=ne.token,ne.continueId);)ne=T.shift();Y(re,!K||$,J?"start":X?"continue":void 0,Z?"start":Q?"continue":void 0,ee),$=!1,J=!1,Z=!1,ee=!1,G=n.voices[re],"staves"===P&&te()}}break;case"newpage":var ie=e.getInt(N);a.addNewPage(0===ie.digits?-1:ie.value);break;case"abc":var se=N.split(" ");switch(se[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var ae=se.shift();a.addMetaText(P+ae,se.join(" "),{startChar:n.iChar,endChar:n.iChar+N.length+5});break;default:return"Unknown directive: "+P+se[0]}break;case"header":case"footer":var oe=e.getMeat(N,0,N.length);'"'===(oe=N.substring(oe.start,oe.end))[0]&&'"'===oe[oe.length-1]&&(oe=oe.substring(1,oe.length-1));var ce=oe.split("\t"),le={};le=1===ce.length?{left:"",center:ce[0],right:""}:2===ce.length?{left:ce[0],center:ce[1],right:""}:{left:ce[0],center:ce[1],right:ce[2]},ce.length>3&&t("Too many tabs in "+P+": "+ce.length+" found.",N,0),a.addMetaTextObj(P,le,{startChar:n.iChar,endChar:n.iChar+o.length});break;case"midi":var ue=e.tokenize(N,0,N.length,!0);ue.length>0&&"="===ue[0].token&&ue.shift(),0===ue.length?t("Expected midi command",N,0):function(e,n,r){var i=e.shift().token,s=[];if(m.indexOf(i)>=0)0!==e.length&&t("Unexpected parameter in MIDI "+i,r,0);else if(g.indexOf(i)>=0)1!==e.length?t("Expected one parameter in MIDI "+i,r,0):s.push(e[0].token);else if(v.indexOf(i)>=0)1!==e.length?t("Expected one parameter in MIDI "+i,r,0):"number"!==e[0].type?t("Expected one integer parameter in MIDI "+i,r,0):s.push(e[0].intt);else if(b.indexOf(i)>=0)1!==e.length&&2!==e.length?t("Expected one or two parameters in MIDI "+i,r,0):"number"!==e[0].type||2===e.length&&"number"!==e[1].type?t("Expected integer parameter in MIDI "+i,r,0):(s.push(e[0].intt),2===e.length&&s.push(e[1].intt));else if(y.indexOf(i)>=0)2!==e.length?t("Expected two parameters in MIDI "+i,r,0):"number"!==e[0].type||"number"!==e[1].type?t("Expected two integer parameters in MIDI "+i,r,0):(s.push(e[0].intt),s.push(e[1].intt));else if(_.indexOf(i)>=0)2!==e.length?t("Expected two parameters in MIDI "+i,r,0):"alpha"!==e[0].type||"number"!==e[1].type?t("Expected one string and one integer parameters in MIDI "+i,r,0):(s.push(e[0].token),s.push(e[1].intt));else if("drummap"===i)2===e.length&&"alpha"===e[0].type&&"number"===e[1].type?(n.formatting||(n.formatting={}),n.formatting.midi||(n.formatting.midi={}),n.formatting.midi.drummap||(n.formatting.midi.drummap={}),n.formatting.midi.drummap[e[0].token]=e[1].intt,s=n.formatting.midi.drummap):3===e.length&&"punct"===e[0].type&&"alpha"===e[1].type&&"number"===e[2].type?(n.formatting||(n.formatting={}),n.formatting.midi||(n.formatting.midi={}),n.formatting.midi.drummap||(n.formatting.midi.drummap={}),n.formatting.midi.drummap[e[0].token+e[1].token]=e[2].intt,s=n.formatting.midi.drummap):t("Expected one note name and one integer parameter in MIDI "+i,r,0);else if(k.indexOf(i)>=0)3!==e.length||"number"!==e[0].type||"/"!==e[1].token||"number"!==e[2].type?t("Expected fraction parameter in MIDI "+i,r,0):(s.push(e[0].intt),s.push(e[2].intt));else if(x.indexOf(i)>=0)4!==e.length?t("Expected four parameters in MIDI "+i,r,0):"number"!==e[0].type||"number"!==e[1].type||"number"!==e[2].type||"number"!==e[3].type?t("Expected four integer parameters in MIDI "+i,r,0):(s.push(e[0].intt),s.push(e[1].intt),s.push(e[2].intt),s.push(e[3].intt));else if(w.indexOf(i)>=0)5!==e.length?t("Expected five parameters in MIDI "+i,r,0):"number"!==e[0].type||"number"!==e[1].type||"number"!==e[2].type||"number"!==e[3].type||"number"!==e[4].type?t("Expected five integer parameters in MIDI "+i,r,0):(s.push(e[0].intt),s.push(e[1].intt),s.push(e[2].intt),s.push(e[3].intt),s.push(e[4].intt));else if(b.indexOf(i)>=0)1!==e.length||4!==e.length?t("Expected one or two parameters in MIDI "+i,r,0):"number"!==e[0].type?t("Expected integer parameter in MIDI "+i,r,0):4===e.length?("octave"!==e[1].token&&t("Expected octave parameter in MIDI "+i,r,0),"="!==e[2].token&&t("Expected octave parameter in MIDI "+i,r,0),"number"!==e[3].type&&t("Expected integer parameter for octave in MIDI "+i,r,0)):(s.push(e[0].intt),4===e.length&&s.push(e[3].intt));else if(C.indexOf(i)>=0)if(e.length<2)t("Expected string parameter and at least one integer parameter in MIDI "+i,r,0);else if("alpha"!==e[0].type)t("Expected string parameter and at least one integer parameter in MIDI "+i,r,0);else{var o=e.shift();for(s.push(o.token);e.length>0;)"number"!==(o=e.shift()).type&&t("Expected integer parameter in MIDI "+i,r,0),s.push(o.intt)}a.hasBeginMusic()?a.appendElement("midi",-1,-1,{cmd:i,params:s}):(void 0===n.formatting.midi&&(n.formatting.midi={}),n.formatting.midi[i]=s)}(ue,s,N);break;case"percmap":var he=function(e){var t=e.split(/\s+/);if(2!==t.length&&3!==t.length)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var n=t[0],r=parseInt(t[1],10);if((isNaN(r)||r<35||r>81)&&t[1]&&(r=h.indexOf(t[1].toLowerCase())+35),isNaN(r)||r<35||r>81)return{error:'Expected drum name, received "'+t[1]+'"'};var i={sound:r};return 3===t.length&&(i.noteHead=t[2]),{key:n,value:i}}(N);he.error?t(he.error,o,8):(s.formatting.percmap||(s.formatting.percmap={}),s.formatting.percmap[he.key]=he.value);break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":s.formatting[P]=N;break;default:return"Unknown directive: "+P}return null},i.globalFormatting=function(r){for(var i in r)if(r.hasOwnProperty(i)){var a,o=""+r[i],c=e.tokenize(o,0,o.length);switch(i){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":l(i,c,o);break;case"scale":u(i,c);break;case"partsbox":null!==(a=f("partsBox",i,c))&&t(a),n.partsfont.box=n.partsBox;break;case"freegchord":null!==(a=f("freegchord",i,c))&&t(a);break;case"fontboxpadding":1===c.length&&"number"===c[0].type||t('Directive "'+i+'" requires a number as a parameter.'),s.formatting.fontboxpadding=c[0].floatt;break;case"stretchlast":var h=S(c);if(void 0!==h.value&&(s.formatting.stretchlast=h.value),h.error)return h.error;break;default:t("Formatting directive unrecognized: ",i,0)}}}}(),e.exports=i},6266:e=>{e.exports=function(e,t,n){var r=e.paper.rectBeneath(t);return n&&e.paper.text(n,{x:0,y:t.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),r}},6292:(e,t,n)=>{var r=n(9909),i=n(7340);function s(e,t,n){this.elements=[],this.paper=e,this.tuneNumber=n,this.selectTypes=t}s.prototype.getElements=function(){return this.elements},s.prototype.add=function(e,t,n,r){if(this.canSelect(e)){var i;i=void 0===this.selectTypes?{selectable:!1,"data-index":this.elements.length}:{selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(t,i);var s={absEl:e,svgEl:t,isDraggable:n};void 0!==r&&(s.staffPos=r),this.elements.push(s)}},s.prototype.canSelect=function(e){return!1!==this.selectTypes&&(!(!e||!e.abcelem)&&(!0===this.selectTypes||(void 0===this.selectTypes?"note"===e.abcelem.el_type||"tabNumber"===e.abcelem.el_type:this.selectTypes.indexOf(e.abcelem.el_type)>=0)))},s.prototype.wrapSvgEl=function(e,t){var n={tuneNumber:this.tuneNumber,abcelem:e,elemset:[t],highlight:r,unhighlight:i};this.add(n,t,!1)},e.exports=s},6314:e=>{e.exports='\n<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">\n\t<g transform="translate(0,700) scale(0.1,-0.1)" >\n\t<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55\n\t-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128\n\t-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79\n\t-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60\n\t-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507\n\t-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21\n\t-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12\n\t-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33\n\t-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0\n\t-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51\n\t153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48\n\t107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57\n\t74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52\n\t100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45\n\t143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29\n\t165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34\n\t115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33\n\t-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90\n\t-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138\n\t115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191\n\t50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21\n\t7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17\n\t-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10\n\t-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66\n\t50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73\n\t39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53\n\t-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43\n\t-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339\n\t-19z"></path>\n\t<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0\n\t-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72\n\tl69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279\n\t268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74\n\t-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19\n\t-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31\n\t93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59\n\t62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89\n\t89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146\n\t67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56\n\t31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64\n\t48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22\n\t25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14\n\t18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50\n\t47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138\n\t-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10\n\t-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20\n\t-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19\n\t-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25\n\t-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18\n\t-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11\n\t-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168\n\t16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71\n\t37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108\n\t63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65\n\t61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86\n\t12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030\n\t0 -1086 -11z"></path>\n\t</g>\n</svg>\n'},6355:(e,t,n)=>{var r=n(9899),i=n(9064),s=n(929),a=n(4676),o=function(e,t,n,r,i,o,l){for(var u=a(e,r.getTextSize,r.voices,r.brace,r.bracket),h=n,d=0;d<8;d++){var f=s(h,e,l,r,u);if(h=c(o,i.stretchlast,t+e.padding.left,r.w,h,f.spacingUnits,f.minSpace,e.padding.left+e.padding.right),l&&console.log("setXSpace",d,r.w,h,r.minspace),null===h)break}return function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=1;r<n.children.length-1;r++){var i=n.children[r];if(i.abcelem.rest&&("whole"===i.abcelem.rest.type||"multimeasure"===i.abcelem.rest.type)){var s=n.children[r-1],a=n.children[r+1];i.center(s,a)}}}(r.voices),r.w-u};function c(e,t,n,r,i,s,a,o){if(e)if(void 0===t){if(r/n<.66)return null}else if(!(1-(r+o)/n<t))return null;return Math.abs(n-r)<2?null:s>0?((i=(n-(r-s*i))/s)*a>50&&(i=50/a),i):null}e.exports=function(e,t,n,s,a){var c,l,u=n;for(c=0;c<t.lines.length;c++)if((l=t.lines[c]).staff){var h=o(e,u,s,l.staffGroup,t.formatting,c===t.lines.length-1,!1);Math.round(h)>Math.round(u)&&(u=h,a&&(c=-1))}for(c=0;c<t.lines.length;c++)if((l=t.lines[c]).staffGroup&&l.staffGroup.voices){for(var d=0;d<l.staffGroup.voices.length;d++)r(l.staffGroup.voices[d]);i(e,l.staffGroup)}for(c=0;c<t.lines.length;c++)(l=t.lines[c]).staffGroup&&l.staffGroup.setHeight();return u}},6608:(e,t,n)=>{var r=n(9979);e.exports=function(){return window.abcjsAudioContext||r(),window.abcjsAudioContext}},6644:e=>{var t="http://www.w3.org/2000/svg";function n(e){this.svg=a(),this.currentGroup=[],e.appendChild(this.svg)}function r(e,t,n){var r=n-e;return"M "+e+" "+t+" l "+r+" 0 l 0 1  l "+-r+" 0  z "}function i(e,t,n){var r=n-t;return"M "+e+" "+t+" l 0 "+r+" l 1 0  l 0 "+-r+"  z "}n.prototype.clear=function(){if(this.svg){var e=this.svg.parentNode;this.svg=a(),this.currentGroup=[],e&&(e.innerHTML="",e.appendChild(this.svg))}},n.prototype.setTitle=function(e){var t=document.createElement("title"),n=document.createTextNode(e);t.appendChild(n),this.svg.insertBefore(t,this.svg.firstChild)},n.prototype.setResponsiveWidth=function(e,t){if(this.svg.setAttribute("viewBox","0 0 "+e+" "+t),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var n=this.svg.parentNode.getAttribute("class");n?n.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",n+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var r=t/e*100;this.svg.parentNode.style["padding-bottom"]=r+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}},n.prototype.setSize=function(e,t){this.svg.setAttribute("width",e),this.svg.setAttribute("height",t)},n.prototype.setAttribute=function(e,t){this.svg.setAttribute(e,t)},n.prototype.setScale=function(e){1!==e?(this.svg.style.transform="scale("+e+","+e+")",this.svg.style["-ms-transform"]="scale("+e+","+e+")",this.svg.style["-webkit-transform"]="scale("+e+","+e+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")},n.prototype.insertStyles=function(e){var n=document.createElementNS(t,"style");n.textContent=e,this.svg.insertBefore(n,this.svg.firstChild)},n.prototype.setParentStyles=function(e){for(var t in e)e.hasOwnProperty(t)&&this.svg.parentNode&&(this.svg.parentNode.style[t]=e[t]);this.dummySvg&&(document.querySelector("body").removeChild(this.dummySvg),this.dummySvg=null)},n.prototype.rect=function(e){var t=[],n=e.x,s=e.y,a=e.x+e.width,o=e.y+e.height;return t.push(r(n,s,a)),t.push(r(n,o,a)),t.push(i(a,s,o)),t.push(i(n,o,s)),this.path({path:t.join(" "),stroke:"none","data-name":e["data-name"]})},n.prototype.dottedLine=function(e){var n=document.createElementNS(t,"line");n.setAttribute("x1",e.x1),n.setAttribute("x2",e.x2),n.setAttribute("y1",e.y1),n.setAttribute("y2",e.y2),n.setAttribute("stroke",e.stroke),n.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(n,this.svg.firstChild)},n.prototype.rectBeneath=function(e){var n=document.createElementNS(t,"rect");n.setAttribute("x",e.x),n.setAttribute("width",e.width),n.setAttribute("y",e.y),n.setAttribute("height",e.height),e.stroke&&n.setAttribute("stroke",e.stroke),e["stroke-opacity"]&&n.setAttribute("stroke-opacity",e["stroke-opacity"]),e.fill&&n.setAttribute("fill",e.fill),e["fill-opacity"]&&n.setAttribute("fill-opacity",e["fill-opacity"]),this.svg.insertBefore(n,this.svg.firstChild)},n.prototype.text=function(e,n,r){var i=document.createElementNS(t,"text");for(var s in i.setAttribute("stroke","none"),n)n.hasOwnProperty(s)&&i.setAttribute(s,n[s]);for(var a=(""+e).split("\n"),o=0;o<a.length;o++){var c=document.createElementNS(t,"tspan");if(c.setAttribute("x",n.x?n.x:0),0!==o&&c.setAttribute("dy","1.2em"),-1!==a[o].indexOf("\x03")){var l=a[o].split("\x03");if(c.textContent=l[0],l[1]){var u=document.createElementNS(t,"tspan");u.setAttribute("dy","-0.3em"),u.setAttribute("style","font-size:0.7em"),u.textContent=l[1],c.appendChild(u)}if(l[2]){var h=l[1]?"0.4em":"0.1em",d=document.createElementNS(t,"tspan");d.setAttribute("dy",h),d.setAttribute("style","font-size:0.7em"),d.textContent=l[2],c.appendChild(d)}}else c.textContent=a[o];i.appendChild(c)}return r?r.appendChild(i):this.append(i),i},n.prototype.guessWidth=function(e,t){var n,r=this.createDummySvg(),i=this.text(e,t,r);try{n=i.getBBox(),n=isNaN(n.height)||!n.height?{width:t["font-size"]/2,height:t["font-size"]+2}:{width:n.width,height:n.height}}catch(s){n={width:t["font-size"]/2,height:t["font-size"]+2}}return r.removeChild(i),n},n.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=a();this.dummySvg.setAttribute("style",["display: block !important;","height: 1px;","width: 1px;","position: absolute;"].join("")),document.querySelector("body").appendChild(this.dummySvg)}return this.dummySvg};var s={};function a(){var e=document.createElementNS(t,"svg");return e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("role","img"),e.setAttribute("fill","currentColor"),e.setAttribute("stroke","currentColor"),e}n.prototype.getTextSize=function(e,t,n){if("number"===typeof e&&(e=""+e),!e||e.match(/^\s+$/))return{width:0,height:0};var r;if(e.length<20&&(r=e+JSON.stringify(t),s[r]))return s[r];var i,a=!n;n||(n=this.text(e,t));try{i=n.getBBox(),i=isNaN(i.height)||!i.height?this.guessWidth(e,t):{width:i.width,height:i.height}}catch(o){i=this.guessWidth(e,t)}return a&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(n):this.svg.removeChild(n)),r&&(s[r]=i),i},n.prototype.openGroup=function(e){e=e||{};var n=document.createElementNS(t,"g");return e.klass&&n.setAttribute("class",e.klass),e.fill&&n.setAttribute("fill",e.fill),e.stroke&&n.setAttribute("stroke",e.stroke),e["data-name"]&&n.setAttribute("data-name",e["data-name"]),e.prepend?this.prepend(n):this.append(n),this.currentGroup.unshift(n),n},n.prototype.closeGroup=function(){var e=this.currentGroup.shift();return e&&0===e.children.length?(e.parentElement.removeChild(e),null):e},n.prototype.path=function(e){var n=document.createElementNS(t,"path");for(var r in e)e.hasOwnProperty(r)&&("path"===r?n.setAttributeNS(null,"d",e.path):"klass"===r?n.setAttributeNS(null,"class",e[r]):void 0!==e[r]&&n.setAttributeNS(null,r,e[r]));return this.append(n),n},n.prototype.pathToBack=function(e){var n=document.createElementNS(t,"path");for(var r in e)e.hasOwnProperty(r)&&("path"===r?n.setAttributeNS(null,"d",e.path):"klass"===r?n.setAttributeNS(null,"class",e[r]):n.setAttributeNS(null,r,e[r]));return this.prepend(n),n},n.prototype.lineToBack=function(e){for(var n=document.createElementNS(t,"line"),r=Object.keys(e),i=0;i<r.length;i++)n.setAttribute(r[i],e[r[i]]);return this.prepend(n),n},n.prototype.append=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.appendChild(e)},n.prototype.prepend=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.insertBefore(e,this.svg.firstChild)},n.prototype.setAttributeOnElement=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttributeNS(null,n,t[n])},n.prototype.moveElementToChild=function(e,t){e.appendChild(t)},e.exports=n},6652:(e,t,n)=>{var r=n(9427),i=n(4484);e.exports=function(e){var t=this;function n(e,t){for(var n=t-1;n>0&&"bar"!==e[n].el_type;n--);return n}this.setVisualTranspose=function(t){t&&(e.visualTranspose=t)},this.resolveOverlays=function(){for(var t=!1,r=[],s=0;s<e.lines.length;s++){var a=e.lines[s];if(a.staff)for(var o=0;o<a.staff.length;o++){for(var c=a.staff[o],l=[],u=0;u<c.voices.length;u++){var h=c.voices[u];l.push({hasOverlay:!1,voice:[],snip:[]}),r[s]=0;for(var d=0,f=!1,p=0,m=-1,g=0;g<h.length;g++){var v=h[g];if("overlay"!==v.el_type||f)"bar"===v.el_type?(f?(f=!1,l[u].snip.push({start:m,len:g-m}),l[u].voice.push(v)):(d>0&&l[u].voice.push({el_type:"note",duration:d,rest:{type:"invisible"},startChar:v.startChar,endChar:v.endChar}),l[u].voice.push(v)),d=0):"note"===v.el_type?f?l[u].voice.push(v):(d+=v.duration,r[s]+=v.duration):"scale"!==v.el_type&&"stem"!==v.el_type&&"overlay"!==v.el_type&&"style"!==v.el_type&&"transpose"!==v.el_type&&"color"!==v.el_type||l[u].voice.push(v);else{t=!0,f=!0,m=g,l[u].hasOverlay=!0,0===p&&(p=r[s]);for(var b=0;b<s;b++)r[b]&&e.lines[b].staff&&c.voices.length>=e.lines[b].staff[0].voices.length&&e.lines[b].staff[0].voices.push([{el_type:"note",duration:r[b],rest:{type:"invisible"},startChar:v.startChar,endChar:v.endChar}])}}l[u].hasOverlay&&0===l[u].snip.length&&l[u].snip.push({start:m,len:h.length-m})}for(u=0;u<l.length;u++){var y=l[u];if(y.hasOverlay){y.voice.splice(0,0,{el_type:"stem",direction:"down"}),c.voices.push(y.voice);for(var x=y.snip.length-1;x>=0;x--){var w=y.snip[x];c.voices[u].splice(w.start,w.len),c.voices[u].splice(w.start+1,0,{el_type:"stem",direction:"auto"});var _=n(c.voices[u],w.start);c.voices[u].splice(_,0,{el_type:"stem",direction:"up"})}for(x=0;x<c.voices[c.voices.length-1].length;x++){c.voices[c.voices.length-1][x]=i.clone(c.voices[c.voices.length-1][x]);var k=c.voices[c.voices.length-1][x];"bar"===k.el_type&&k.startEnding&&delete k.startEnding,"bar"===k.el_type&&k.endEnding&&delete k.endEnding}}}}}return t},this.cleanUp=function(t,n,s){this.closeLine(),delete e.runningFonts,e.metaText.tempo&&e.metaText.tempo.bpm&&!e.metaText.tempo.duration&&(e.metaText.tempo.duration=[e.getBeatLength()]);var a,o,c,l=!1;for(a=0;a<e.lines.length;a++)if(void 0!==e.lines[a].staff){var u=!1;for(o=0;o<e.lines[a].staff.length;o++)if(void 0===e.lines[a].staff[o])l=!0,e.lines[a].staff[o]=null;else for(c=0;c<e.lines[a].staff[o].voices.length;c++)void 0===e.lines[a].staff[o].voices[c]?e.lines[a].staff[o].voices[c]=[]:this.containsNotes(e.lines[a].staff[o].voices[c])&&(u=!0);u||(e.lines[a]=null,l=!0)}if(l&&(e.lines=e.lines.filter(function(e){return!!e}),e.lines.forEach(function(e){e.staff&&(e.staff=e.staff.filter(function(e){return!!e}))})),t)for(;p(e.lines,t););if(n){for(l=!1,a=0;a<e.lines.length;a++)if(void 0!==e.lines[a].staff)for(o=0;o<e.lines[a].staff.length;o++){var h=!1;for(c=0;c<e.lines[a].staff[o].voices.length;c++)this.containsNotesStrict(e.lines[a].staff[o].voices[c])&&(h=!0);h||(l=!0,e.lines[a].staff[o]=null)}l&&e.lines.forEach(function(e){e.staff&&(e.staff=e.staff.filter(function(e){return!!e}))})}for(function(e){for(var t=!0,n=0;n<e.length;n++){var r=e[n];if(r.staff){for(var i=0;i<r.staff.length;i++){var s=r.staff[i];if(s.title){for(var a=!1,o=0;o<s.title.length;o++)s.title[o]?(s.title[o]=t?s.title[o].name:s.title[o].subname,s.title[o]?a=!0:s.title[o]=""):s.title[o]="";a||delete s.title}}t=!1}}}(e.lines),a=0;a<e.lines.length;a++)if(e.lines[a].staff)for(o=0;o<e.lines[a].staff.length;o++)delete e.lines[a].staff[o].workingClef;for(;this.resolveOverlays(););function d(e,t,n){var r;s[t]||(s[t]=[]),s[t][n]||(s[t][n]=[]);for(var i=function(e,i,a){if(void 0===s[t][n][a]){for(r=0;r<s[t][n].length;r++)if(void 0!==s[t][n][r]){a=r;break}if(void 0===s[t][n][a]){var o=100*a+1;e.endSlur.forEach(function(e){o===e&&--o}),s[t][n][a]=[o]}}for(var c,l=0;l<i;l++)c=s[t][n][a].pop(),e.endSlur.push(c);return 0===s[t][n][a].length&&delete s[t][n][a],c},a=function(e,r,i,a){e.startSlur=[],void 0===s[t][n][i]&&(s[t][n][i]=[]);for(var o=100*i+1,c=0;c<r;c++)a&&(a.forEach(function(e){o===e&&++o}),a.forEach(function(e){o===e&&++o}),a.forEach(function(e){o===e&&++o})),s[t][n][i].forEach(function(e){o===e&&++o}),s[t][n][i].forEach(function(e){o===e&&++o}),s[t][n][i].push(o),e.startSlur.push({label:o}),e.dottedSlur&&(e.startSlur[e.startSlur.length-1].style="dotted",delete e.dottedSlur),o++},o=0;o<e.length;o++){var c=e[o];if("note"===c.el_type){if(c.gracenotes)for(var l=0;l<c.gracenotes.length;l++){if(c.gracenotes[l].endSlur){var u=c.gracenotes[l].endSlur;c.gracenotes[l].endSlur=[];for(var h=0;h<u;h++)i(c.gracenotes[l],1,20)}c.gracenotes[l].startSlur&&(r=c.gracenotes[l].startSlur,a(c.gracenotes[l],r,20))}if(c.endSlur&&(r=c.endSlur,c.endSlur=[],i(c,r,0)),c.startSlur&&a(c,r=c.startSlur,0),c.pitches){for(var d=[],f=0;f<c.pitches.length;f++)if(c.pitches[f].endSlur){var p=c.pitches[f].endSlur;c.pitches[f].endSlur=[];for(var m=0;m<p;m++){var g=i(c.pitches[f],1,f+1);d.push(g)}}for(f=0;f<c.pitches.length;f++)c.pitches[f].startSlur&&(r=c.pitches[f].startSlur,a(c.pitches[f],r,f+1,d));c.gracenotes&&c.pitches[0].endSlur&&100===c.pitches[0].endSlur[0]&&c.pitches[0].startSlur&&(c.gracenotes[0].endSlur?c.gracenotes[0].endSlur.push(c.pitches[0].startSlur[0].label):c.gracenotes[0].endSlur=[c.pitches[0].startSlur[0].label],1===c.pitches[0].endSlur.length?delete c.pitches[0].endSlur:100===c.pitches[0].endSlur[0]?c.pitches[0].endSlur.shift():100===c.pitches[0].endSlur[c.pitches[0].endSlur.length-1]&&c.pitches[0].endSlur.pop(),1===s[t][n][1].length?delete s[t][n][1]:s[t][n][1].pop())}}}}function f(e){r.fixClef(e)}function p(e,t){for(a=0;a<e.length;a++)if(void 0!==e[a].staff)for(o=0;o<e[a].staff.length;o++){var n=[];for(c=0;c<e[a].staff[o].voices.length;c++)for(var r=e[a].staff[o].voices[c],s=0,l=0;l<r.length;l++)if("bar"===r[l].el_type){if(++s>=t&&l<r.length-1){var u=m(e,a);if(!u){var h=JSON.parse(JSON.stringify(e[a]));e.push(i.clone(h)),u=e[e.length-1];for(var d=0;d<u.staff.length;d++)for(var f=0;f<u.staff[d].voices.length;f++)u.staff[d].voices[f]=[]}var p=l+1,g=e[a].staff[o].voices[c].slice(p);return e[a].staff[o].voices[c]=e[a].staff[o].voices[c].slice(0,p),u.staff[o].voices[c]=n.concat(g.concat(u.staff[o].voices[c])),!0}}else r[l].duration||n.push(r[l])}return!1}function m(e,t){for(t++;e.length>t;){if(e[t].staff)return e[t];t++}return null}for(e.lineNum=0;e.lineNum<e.lines.length;e.lineNum++){var g=e.lines[e.lineNum].staff;if(g)for(e.staffNum=0;e.staffNum<g.length;e.staffNum++)for(g[e.staffNum].clef&&f(g[e.staffNum].clef),e.voiceNum=0;e.voiceNum<g[e.staffNum].voices.length;e.voiceNum++){var v=g[e.staffNum].voices[e.voiceNum];d(v,e.staffNum,e.voiceNum);for(var b=0;b<v.length;b++)"clef"===v[b].el_type&&f(v[b]);if(v.length>0&&v[v.length-1].barNumber){var y=m(e.lines,e.lineNum);y&&(y.staff[0].barNumber=v[v.length-1].barNumber),delete v[v.length-1].barNumber}}}return delete e.staffNum,delete e.voiceNum,delete e.lineNum,delete e.potentialStartBeam,delete e.potentialEndBeam,delete e.vskipPending,s},e.reset(),this.getLastNote=function(){if(e.lines[e.lineNum]&&e.lines[e.lineNum].staff&&e.lines[e.lineNum].staff[e.staffNum]&&e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum])for(var t=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum].length-1;t>=0;t--){var n=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum][t];if("note"===n.el_type)return n}return null},this.addTieToLastNote=function(e){var t=this.getLastNote();return!!(t&&t.pitches&&t.pitches.length>0)&&(t.pitches[0].startTie={},e&&(t.pitches[0].startTie.style="dotted"),!0)},this.getDuration=function(e){return e.duration?e.duration:0},this.closeLine=function(){e.potentialStartBeam&&e.potentialEndBeam&&(e.potentialStartBeam.startBeam=!0,e.potentialEndBeam.endBeam=!0),delete e.potentialStartBeam,delete e.potentialEndBeam},this.appendElement=function(n,r,i,s){var a=e;s.el_type=n,null!==r&&(s.startChar=r),null!==i&&(s.endChar=i);var o=function(){void 0!==a.potentialStartBeam&&void 0!==a.potentialEndBeam&&(a.potentialStartBeam.startBeam=!0,a.potentialEndBeam.endBeam=!0),delete a.potentialStartBeam,delete a.potentialEndBeam};"note"===n?t.getDuration(s)>=.25||s.force_end_beam_last&&void 0!==a.potentialStartBeam?o():s.end_beam&&void 0!==a.potentialStartBeam?void 0===s.rest?(a.potentialStartBeam.startBeam=!0,s.endBeam=!0,delete a.potentialStartBeam,delete a.potentialEndBeam):o():void 0===s.rest&&(void 0===a.potentialStartBeam?s.end_beam||(a.potentialStartBeam=s,delete a.potentialEndBeam):a.potentialEndBeam=s):o();delete s.end_beam,delete s.force_end_beam_last,function(e){var t=a.lines[a.lineNum].staff[a.staffNum];if(t){if(void 0!==e.pitches){var n=t.workingClef.verticalPos;e.pitches.forEach(function(e){e.verticalPos=e.pitch-n})}if(void 0!==e.gracenotes){var r=t.workingClef.verticalPos;e.gracenotes.forEach(function(e){e.verticalPos=e.pitch-r})}t.voices[a.voiceNum].push(e)}}(s)},this.appendStartingElement=function(t,n,r,s){var a;this.closeLine(),"key"===t&&(a=s.impliedNaturals,delete s.impliedNaturals,delete s.explicitAccidentals);var o=i.clone(s);if(e.lines[e.lineNum]&&e.lines[e.lineNum].staff){e.lines[e.lineNum].staff.length<=e.staffNum&&(e.lines[e.lineNum].staff[e.staffNum]={},e.lines[e.lineNum].staff[e.staffNum].clef=i.clone(e.lines[e.lineNum].staff[0].clef),e.lines[e.lineNum].staff[e.staffNum].key=i.clone(e.lines[e.lineNum].staff[0].key),e.lines[e.lineNum].staff[0].meter&&(e.lines[e.lineNum].staff[e.staffNum].meter=i.clone(e.lines[e.lineNum].staff[0].meter)),e.lines[e.lineNum].staff[e.staffNum].workingClef=i.clone(e.lines[e.lineNum].staff[0].workingClef),e.lines[e.lineNum].staff[e.staffNum].voices=[[]]),"clef"===t&&(e.lines[e.lineNum].staff[e.staffNum].workingClef=o);for(var c=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum],l=0;l<c.length;l++){if("note"===c[l].el_type||"bar"===c[l].el_type)return o.el_type=t,o.startChar=n,o.endChar=r,a&&(o.accidentals=a.concat(o.accidentals)),void c.push(o);if(c[l].el_type===t)return o.el_type=t,o.startChar=n,o.endChar=r,a&&(o.accidentals=a.concat(o.accidentals)),void(c[l]=o)}e.lines[e.lineNum].staff[e.staffNum][t]=s}},this.pushLine=function(t){e.vskipPending&&(t.vskip=e.vskipPending,delete e.vskipPending),e.lines.push(t)},this.addSubtitle=function(e,t){this.pushLine({subtitle:{text:e,startChar:t.startChar,endChar:t.endChar}})},this.addSpacing=function(t){e.vskipPending=t},this.addNewPage=function(e){this.pushLine({newpage:e})},this.addSeparator=function(e,t,n,r){this.pushLine({separator:{spaceAbove:Math.round(e),spaceBelow:Math.round(t),lineLength:Math.round(n),startChar:r.startChar,endChar:r.endChar}})},this.addText=function(e,t){this.pushLine({text:{text:e,startChar:t.startChar,endChar:t.endChar}})},this.addCentered=function(e){this.pushLine({text:[{text:e,center:!0}]})},this.containsNotes=function(e){for(var t=0;t<e.length;t++)if("note"===e[t].el_type||"bar"===e[t].el_type)return!0;return!1},this.containsNotesStrict=function(e){for(var t=0;t<e.length;t++)if("note"===e[t].el_type&&(void 0===e[t].rest||void 0!==e[t].chord))return!0;return!1},this.changeVoiceScale=function(e){t.appendElement("scale",null,null,{size:e})},this.changeVoiceColor=function(e){t.appendElement("color",null,null,{color:e})},this.startNewLine=function(n){var r=e;this.closeLine();var i=function(e){var n=r.lines[r.lineNum].staff[r.staffNum];if(n.voices[r.voiceNum]=[],n.title||(n.title=[]),n.title[r.voiceNum]={name:e.name,subname:e.subname},e.style&&t.appendElement("style",null,null,{head:e.style}),e.stem)t.appendElement("stem",null,null,{direction:e.stem});else if(r.voiceNum>0){if(void 0!==n.voices[0]){for(var i=!1,s=0;s<n.voices[0].length;s++)"stem"===n.voices[0].el_type&&(i=!0);if(!i){n.voices[0].splice(0,0,{el_type:"stem",direction:"up"})}}t.appendElement("stem",null,null,{direction:"down"})}e.scale&&t.appendElement("scale",null,null,{size:e.scale}),e.color&&t.appendElement("color",null,null,{color:e.color})},s=function(e){e.key&&e.key.impliedNaturals&&(e.key.accidentals=e.key.accidentals.concat(e.key.impliedNaturals),delete e.key.impliedNaturals),r.lines[r.lineNum].staff[r.staffNum]={voices:[],clef:e.clef,key:e.key,workingClef:e.clef},void 0!==e.stafflines&&(r.lines[r.lineNum].staff[r.staffNum].clef.stafflines=e.stafflines,r.lines[r.lineNum].staff[r.staffNum].workingClef.stafflines=e.stafflines),e.staffscale&&(r.lines[r.lineNum].staff[r.staffNum].staffscale=e.staffscale),e.annotationfont&&t.setLineFont("annotationfont",e.annotationfont),e.gchordfont&&t.setLineFont("gchordfont",e.gchordfont),e.tripletfont&&t.setLineFont("tripletfont",e.tripletfont),e.vocalfont&&t.setLineFont("vocalfont",e.vocalfont),e.bracket&&(r.lines[r.lineNum].staff[r.staffNum].bracket=e.bracket),e.brace&&(r.lines[r.lineNum].staff[r.staffNum].brace=e.brace),e.connectBarLines&&(r.lines[r.lineNum].staff[r.staffNum].connectBarLines=e.connectBarLines),e.barNumber&&(r.lines[r.lineNum].staff[r.staffNum].barNumber=e.barNumber),i(e),e.part&&t.appendElement("part",e.part.startChar,e.part.endChar,{title:e.part.title}),void 0!==e.meter&&(r.lines[r.lineNum].staff[r.staffNum].meter=e.meter),r.vskipPending&&(r.lines[r.lineNum].vskip=r.vskipPending,delete r.vskipPending)};void 0===e.lines[e.lineNum]?function(e){r.lines[r.lineNum]={staff:[]},s(e)}(n):void 0===e.lines[e.lineNum].staff?(e.lineNum++,this.startNewLine(n)):void 0===e.lines[e.lineNum].staff[e.staffNum]?s(n):void 0===e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum]?i(n):this.containsNotes(e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum])?(e.lineNum++,this.startNewLine(n)):n.part&&t.appendElement("part",n.part.startChar,n.part.endChar,{title:n.part.title})},this.setRunningFont=function(t,n){e.runningFonts[t]=n},this.setLineFont=function(t,n){if(e.runningFonts[t]){for(var r=!1,i=Object.keys(n),s=0;s<i.length;s++)e.runningFonts[t][i[s]]!==n[i[s]]&&(r=!0);r&&(e.lines[e.lineNum].staff[e.staffNum][t]=n)}e.runningFonts[t]=n},this.setBarNumberImmediate=function(e){var t=this.getCurrentVoice();if(t&&t.length>0){var n=t[t.length-1];if("bar"!==n.el_type)return e-1;void 0!==n.barNumber&&(n.barNumber=e)}return e},this.hasBeginMusic=function(){for(var t=0;t<e.lines.length;t++)if(e.lines[t].staff)return!0;return!1},this.isFirstLine=function(t){for(var n=t-1;n>=0;n--)if(void 0!==e.lines[n].staff)return!1;return!0},this.getCurrentVoice=function(){var t=e.lines[e.lineNum];if(!t)return null;var n=t.staff[e.staffNum];return n&&void 0!==n.voices[e.voiceNum]?n.voices[e.voiceNum]:null},this.setCurrentVoice=function(t,n){e.staffNum=t,e.voiceNum=n;for(var r=0;r<e.lines.length;r++)if(e.lines[r].staff&&(void 0===e.lines[r].staff[t]||void 0===e.lines[r].staff[t].voices[n]||!this.containsNotes(e.lines[r].staff[t].voices[n])))return void(e.lineNum=r);e.lineNum=r},this.addMetaText=function(t,n,r){void 0===e.metaText[t]?(e.metaText[t]=n,e.metaTextInfo[t]=r):(e.metaText[t]+="\n"+n,e.metaTextInfo[t].endChar=r.endChar)},this.addMetaTextArray=function(t,n,r){void 0===e.metaText[t]?(e.metaText[t]=[n],e.metaTextInfo[t]=r):(e.metaText[t].push(n),e.metaTextInfo[t].endChar=r.endChar)},this.addMetaTextObj=function(t,n,r){e.metaText[t]=n,e.metaTextInfo[t]=r}}},6700:e=>{e.exports=function(e,t,n,r,i,s){this.rows=[],e&&this.rows.push({move:e});var a=t.titleleft?"start":"middle",o=t.titleleft?i:r;this.rows.push({left:o,text:n.text,font:"subtitlefont",klass:"text subtitle",anchor:a,startChar:n.startChar,endChar:n.endChar,absElemType:"subtitle",name:"subtitle"});var c=s.calc(n.text,"subtitlefont","text subtitle");this.rows.push({move:c.height})}},6719:(e,t,n)=>{var r=n(363),i=n(1588),s=n(2119);function a(e,t,n){return s(e+n*t)}var o=[[3.5,-4.8]],c=[[1.5,-1],[.3,-.3],[-3.5,3.8]],l=[[-1.5,2]],u=[[3,4],[3,-4]],h=[[-3,4],[-3,-4]];function d(e,t){for(var n="",r=0;r<e.length;r++)n+="l"+e[r][0]+" "+a(e[r][1],t,e[r][0]);return n}var f=function(e,t,n,s,a){var f,p=r("M %f %f",t,n);for(p+=d(o,a),f=0;f<s;f++)p+=d(u,a);for(p+=d(c,a),f=0;f<s;f++)p+=d(h,a);return p+=d(l,a)+"z",i(e,{path:p,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("decoration"),"data-name":"glissando"})};e.exports=function(e,t,n){t.anchor1&&t.anchor2&&t.anchor1.heads&&t.anchor2.heads&&0!==t.anchor1.heads.length&&0!==t.anchor2.heads.length||window.console.error("Glissando Element not set.");var r=e.calcY(t.anchor1.heads[0].pitch),i=e.calcY(t.anchor2.heads[0].pitch),s=t.anchor1.x+t.anchor1.w/2,o=t.anchor2.x+t.anchor2.w/2,c=function(e,t,n,r){var i=n-e,s=r-t;return Math.sqrt(i*i+s*s)}(s,r,o,i),l=t.anchor1.w/2+4,u=t.anchor2.w/2+4,h=function(e,t,n,r){return(r-t)/(n-e)}(s,r,o,i),d=a(r,h,l),p=(a(i,h,-u),function(e){var t=5;return Math.max(2,Math.floor((e-2*t)/6))}(c-l-u)),m=f(e,s+l,d,p,h);return n.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},m),[m]}},6794:e=>{var t=["C","C\u266f","D","D\u266f","E","F","F\u266f","G","G\u266f","A","A\u266f","B"],n=["C","D\u266d","D","E\u266d","E","F","G\u266d","G","A\u266d","A","B\u266d","B"],r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],i=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];e.exports=function(e,s,a,o){if(!s||s%12===0)return e;for(;s<0;)s+=12;s>11&&(s%=12);var c=e.match(/^([A-G][b#\u266d\u266f]?)([^\/]+)?\/?([A-G][b#\u266d\u266f]?)?(.+)?/);if(!c)return e;var l,u=c[1],h=c[2],d=c[3],f=c[4];return(l=t.indexOf(u))<0&&(l=n.indexOf(u)),l<0&&(l=r.indexOf(u)),l<0&&(l=i.indexOf(u)),l<0||(l+=s,l%=12,e=a?o?i[l]:n[l]:o?r[l]:t[l],h&&(e+=h),d&&((l=t.indexOf(d))<0&&(l=n.indexOf(d)),l<0&&(l=r.indexOf(d)),l<0&&(l=i.indexOf(d)),e+="/",l>=0?(l+=s,l%=12,e+=a?o?i[l]:n[l]:o?r[l]:t[l]):e+=d),f&&(e+=f)),e}},6959:e=>{function t(e){switch(e){case"B#":return"H#";case"B\u266f":return"H\u266f";case"B":return"H";case"Bb":case"B\u266d":return"B"}return e}e.exports=function(e,n,r){var i=e.split("\n");for(let s=0;s<i.length;s++){let e=i[s].match(/^([ABCDEFG][\u266f\u266d]?)?([^\/]+)?(\/([ABCDEFG][#b\u266f\u266d]?))?/);if(!e)continue;let a=e[1]||"",o=e[2]||"",c=e[4]||"";r&&(a=t(a),c=t(c));const l=n?"\x03":"",u=c?"/"+c:"";i[s]=[a,o,u].join(l)}return i.join("\n")}},7015:e=>{try{if("function"!==typeof window.CustomEvent){var t=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};t.prototype=window.Event.prototype,window.CustomEvent=t}}catch(r){}var n=function(e){this.textarea=document.getElementById(e),this.initialText=this.textarea.value,this.isDragging=!1};n.prototype.addSelectionListener=function(e){this.textarea.onmousemove=function(t){this.isDragging&&e.fireSelectionChanged()}},n.prototype.addChangeListener=function(e){this.changelistener=e,this.textarea.onkeyup=function(){e.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,e.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,e.fireChanged()},this.textarea.onchange=function(){e.fireChanged()}},n.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}},n.prototype.setSelection=function(e,t){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(e,t);else if(this.textarea.createTextRange){var n=this.textarea.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}this.textarea.focus()},n.prototype.getString=function(){return this.textarea.value},n.prototype.setString=function(e){this.textarea.value=e,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()},n.prototype.getElem=function(){return this.textarea},e.exports=n},7076:(e,t,n)=>{var r=n(4178);function i(e){this.tuning=e._super.params.tuning,this.tuning||(this.tuning=["G,","D","A","e"]),e.tuning=this.tuning,this.strings=new r(e)}i.prototype.notesToNumber=function(e,t){return this.strings.notesToNumber(e,t)},i.prototype.stringToPitch=function(e){return this.strings.stringToPitch(e)},e.exports=i},7127:e=>{function t(e,t){this.numLines=e,this.lineSpace=t,this.verticalSize=this.numLines*this.lineSpace;this.bar={pitch:3,pitch2:t*e,height:5}}t.prototype.bypass=function(e){var t=e.staffGroup.voices;return!!(t.length>0&&t[0].isPercussion)},t.prototype.setRelative=function(e,t,n){switch(e.type){case"bar":t.pitch=this.bar.pitch,t.pitch2=this.bar.pitch2,t.height=this.height;break;case"symbol":var r=this.bar.pitch2/2;if("dots.dot"==e.name)return n?(t.pitch=r,!1):(t.pitch=r+this.lineSpace,!0)}return n},e.exports=t},7182:(e,t,n)=>{var r=n(9757);e.exports=function(e,t,n,i,s,a,o){var c=e.calcY(i);return r(e,t,n,c,s,a,o)}},7199:(e,t,n)=>{var{noteToMidi:r,midiToNote:i}=n(5627);function s(e,t){var n=r(e);t&&(n+=t);var s,a=i(n),o=!1,c=!1,l=null,u=null,h=!1,d=0;e.startsWith("_")?(o=!0,d=-1,"/"==e[1]?(o=!1,u="v",d=0):"_"==e[1]&&(h=!0,d-=1)):e.startsWith("^")?(c=!0,d=1,"/"==e[1]?(c=!1,u="^",d=0):"^"==e[1]&&(h=!0,d+=1)):e.startsWith("=")&&(l=!0,d=0),((s=o||c||null!=u)||l)&&(a=null!=u||h?e.slice(2):e.slice(1));var f=(a.match(/,/g)||[]).length,p=(a.match(/'/g)||[]).length;this.pitch=n,this.pitchAltered=0,this.name=a,this.acc=d,this.isSharp=c,this.isKeySharp=!1,this.isDouble=h,this.isAltered=s,this.isFlat=o,this.isKeyFlat=!1,this.natural=l,this.quarter=u,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=f,this.isQuoted=p}s.prototype.sameNoteAs=function(e){return e.pitch===this.pitch},s.prototype.isLowerThan=function(e){return e.pitch>this.pitch},s.prototype.checkKeyAccidentals=function(e,t){if(!this.isAltered&&!this.natural)if(t[this.name.toUpperCase()])switch(t[this.name.toUpperCase()]){case"__":return this.acc=-2,void(this.pitchAltered=-2);case"_":return this.acc=-1,void(this.pitchAltered=-1);case"=":return this.acc=0,void(this.pitchAltered=0);case"^":return this.acc=1,void(this.pitchAltered=1);case"^^":return this.acc=2,void(this.pitchAltered=2)}else if(e)for(var n=this.name,r=0;r<e.length;r++){var i=e[r];n==i.note.toUpperCase()&&("flat"==i.acc&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),"sharp"==i.acc&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}},s.prototype.getAccidentalEquiv=function(){var e=function(e){var t=new s(e.name);return t.pitch=e.pitch,t.hasComma=e.hasComma,t.isLower=e.isLower,t.isQuoted=e.isQuoted,t.isSharp=e.isSharp,t.isKeySharp=e.isKeySharp,t.isFlat=e.isFlat,t.isKeyFlat=e.isKeyFlat,t}(this);return e.isSharp||e.isKeySharp?((e=e.nextNote()).isFlat=!0,e.isSharp=!1,e.isKeySharp=!1):(e.isFlat||e.isKeyFlat)&&((e=e.prevNote()).isSharp=!0,e.isFlat=!1,e.isKeyFlat=!1),e},s.prototype.nextNote=function(){return new s(i(this.pitch+1+this.pitchAltered))},s.prototype.prevNote=function(){return new s(i(this.pitch-1+this.pitchAltered))},s.prototype.emitNoAccidentals=function(){var e=this.name;this.isLower&&(e=e.toLowerCase());for(var t=0;t<this.isQuoted;t++)e+="'";for(var n=0;n<this.hasComma;n++)e+=",";return e},s.prototype.emit=function(){var e=this.name;(this.isSharp||this.isKeySharp)&&(e="^"+e,this.isDouble&&(e="^"+e)),(this.isFlat||this.isKeyFlat)&&(e="_"+e,this.isDouble&&(e="_"+e)),this.quarter&&(e="^"==this.quarter?"^/"+e:"_/"+e),this.natural&&(e="="+e);for(var t=1;t<=this.hasComma;t++)e+=",";if(this.isLower){e=e.toLowerCase();for(var n=1;n<=this.isQuoted;n++)e+="'"}return e},e.exports={TabNote:s,notes:["A","B","C","D","E","F","G"]}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,c=e[o],l=o+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[o]=n,r=o);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(l))m=!0,M(_);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,b(S),S=-1),p=!0;var s=f;try{for(x(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!I());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(l)&&i(l),x(n)}else i(l);d=r(l)}if(null!==d)var c=!0;else{var h=r(u);null!==h&&R(w,h.startTime-n),c=!1}return c}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,E=null,S=-1,T=5,N=-1;function I(){return!(t.unstable_now()-N<T)}function P(){if(null!==E){var e=t.unstable_now();N=e;var n=!0;try{n=E(!0,e)}finally{n?k():(C=!1,E=null)}}else C=!1}if("function"===typeof y)k=function(){y(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=P,k=function(){O.postMessage(null)}}else k=function(){v(P,0)};function M(e){E=e,C||(C=!0,k())}function R(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,M(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(g?(b(S),S=-1):g=!0,R(w,s-a))):(e.sortIndex=o,n(l,e),m||p||(m=!0,M(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7321:(e,t,n)=>{var r,i=n(4484);!function(){"use strict";var e=1,t=128;function n(e,t,n){for(var r=0,i=t+1;i<e.length;i++)if("note"===e[i].el_type&&r++,e[i].decoration&&e[i].decoration.indexOf(n)>=0)return r;return r}function s(e,t,n){for(var r=Math.min(e.length,t+3),i=t;i<r;i++)if("note"===e[i].el_type&&e[i].decoration)for(var s=0;s<e[i].decoration.length;s++)if(n.indexOf(e[i].decoration[s])>=0)return e[i].decoration[s];return null}function a(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=n.length-1;r>=0&&"bar"!==n[r].el_type;)n[r].noChordVoice=!0,r--}function o(e,t){if(e&&!(e.length<=t)&&e[t].title)return e[t].title.join(" ")}function c(e,t){var n=1/4;e.duration&&(n=e.duration[0]);var r=60;return e.bpm&&(r=e.bpm),n*r/t}function l(t){var n;switch(t.type){case"common_time":n={el_type:"meter",num:4,den:4};break;case"cut_time":n={el_type:"meter",num:2,den:2};break;case"specified":n={el_type:"meter",num:t.value[0].num,den:t.value[0].den};break;default:n={el_type:"meter"}}return e=n.num/n.den,n}function u(e){for(var t=[],n=0;n<e.length;n++)"natural"!==e[n].acc&&t.push(e[n]);return t}function h(e,t){f(e,"HP"===t.root?{el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:{el_type:"key",accidentals:u(t.accidentals)})}function d(e,t){f(e,l(t))}function f(e,t){for(var n=e.length-1;n>=0;n--)if(e[n].el_type===t.el_type)return void(JSON.stringify(e[n])!==JSON.stringify(t)&&e.push(t));e.push(t)}r=function(r,u){var p,m=(u=u||{}).program||0,g=u.midiTranspose||0;r.visualTranspose&&(g-=r.visualTranspose);var v=u.channel||0,b=!1,y=u.drum||"",x=u.drumBars||1,w=u.drumIntro||0,_=""!==y,k=[];m=parseInt(m,10),g=parseInt(g,10),10===(v=parseInt(v,10))&&(m=t),y=y.split(" "),x=parseInt(x,10),w=parseInt(w,10);var C=r.formatting.bagpipes;C&&(m=71);var E=[];if(r.formatting.midi){var S=r.formatting.midi;S.program&&S.program.length>0&&(m=S.program[0],S.program.length>1&&(m=S.program[1],v=S.program[0]),b=!0),S.transpose&&(g=S.transpose[0]),S.channel&&(v=S.channel[0],b=!0),S.drum&&(y=S.drum),S.drumbars&&(x=S.drumbars[0]),S.drumon&&(_=!0),10===v&&(m=t),S.beat&&E.push({el_type:"beat",beats:S.beat}),S.nobeataccents&&E.push({el_type:"beataccents",value:!1})}p=u.qpm?parseInt(u.qpm,10):r.metaText.tempo?c(r.metaText.tempo,r.getBeatLength()):u.defaultQpm?u.defaultQpm:180;var T=[];C&&T.push({el_type:"bagpipes"}),T.push({el_type:"instrument",program:m}),v&&T.push({el_type:"channel",channel:v}),g&&T.push({el_type:"transpose",transpose:g}),T.push({el_type:"tempo",qpm:p});for(var N=0;N<E.length;N++)T.push(E[N]);var I,P=[],A=[],O=[],M=[0],R={};R[0]={el_type:"tempo",qpm:p,timing:0};for(var L=[],j=[],D=!1,B=r.lines,F=0;F<B.length;F++){var z=B[F];if(z.staff){for(var H=z.staff,U=0,q=0;q<H.length;q++){var W=H[q];if(!W.clef||"TAB"!==W.clef.type)for(var V=0;V<W.voices.length;V++){var G=W.voices[V];if(!P[U]){P[U]=[].concat(JSON.parse(JSON.stringify(T)));var Y=o(z.staff,U);Y&&P[U].unshift({el_type:"name",trackName:Y})}if(g&&"perc"===W.clef.type&&P[U].push({el_type:"transpose",transpose:0}),W.clef&&"perc"===W.clef.type&&!b)for(var K=0;K<P[U].length;K++)"instrument"===P[U][K].el_type&&(P[U][K].program=t);else W.key&&h(P[U],W.key);W.meter&&d(P[U],W.meter),!D&&_&&(P[U].push({el_type:"drum",params:{pattern:y,bars:x,on:_,intro:w}}),D=!0),W.clef&&"perc"!==W.clef.type&&W.clef.transpose&&(W.clef.el_type="clef",P[U].push({el_type:"transpose",transpose:W.clef.transpose})),W.clef&&W.clef.type&&(W.clef.type.indexOf("-8")>=0?P[U].push({el_type:"transpose",transpose:-12}):W.clef.type.indexOf("+8")>=0&&P[U].push({el_type:"transpose",transpose:12})),r.formatting.midi&&r.formatting.midi.drumoff&&(P[U].push({el_type:"bar"}),P[U].push({el_type:"drum",params:{pattern:"",on:!1}}));var X=0,Q=0,$=0,J=0;I=[105,95,85,1];for(var Z=0;Z<G.length;Z++){var ee=G[Z];switch(ee.el_type){case"note":if(A[V]&&(I[0]+=A[V],I[1]+=A[V],I[2]+=A[V],P[U].push({el_type:"beat",beats:I.slice(0)})),O[V]&&(I[0]+=O[V],I[1]+=O[V],I[2]+=O[V],P[U].push({el_type:"beat",beats:I.slice(0)})),me(ee),!ee.rest||"spacer"!==ee.rest.type){var te={elem:ee,el_type:"note",timing:M[U]};if(ee.style?te.style=ee.style:k[U]&&(te.style=k[U]),te.duration=0===ee.duration?.25:ee.duration,ee.startTriplet){if(Q=ee.tripletMultiplier,$=ee.startTriplet*Q*ee.duration,ee.startTriplet!==ee.tripletR&&Z+ee.tripletR<=G.length){for(var ne=0,re=Z;re<Z+ee.tripletR;re++)ne+=G[re].duration;$=Q*ne}te.duration=te.duration*Q,te.duration=Math.round(1e6*te.duration)/1e6,J=te.duration}else Q&&(ee.endTriplet?(Q=0,te.duration=Math.round(1e6*($-J))/1e6):(te.duration=te.duration*Q,te.duration=Math.round(1e6*te.duration)/1e6,J+=te.duration));ee.rest&&(te.rest=ee.rest),ee.decoration&&(te.decoration=ee.decoration.slice(0)),ee.pitches&&(te.pitches=i.cloneArray(ee.pitches)),ee.gracenotes&&(te.gracenotes=i.cloneArray(ee.gracenotes)),ee.chord&&(te.chord=i.cloneArray(ee.chord)),P[U].push(te),"rhythm"===ee.style&&a(P),X++,M[U]+=te.duration}break;case"key":case"keySignature":h(P[U],ee);break;case"meter":d(P[U],ee);break;case"clef":ee.transpose&&P[U].push({el_type:"transpose",transpose:ee.transpose}),ee.type&&(ee.type.indexOf("-8")>=0?P[U].push({el_type:"transpose",transpose:-12}):ee.type.indexOf("+8")>=0&&P[U].push({el_type:"transpose",transpose:12}));break;case"tempo":p=c(ee,r.getBeatLength()),P[U].push({el_type:"tempo",qpm:p,timing:M[U]}),R[""+M[U]]={el_type:"tempo",qpm:p,timing:M[U]};break;case"bar":X>0&&P[U].push({el_type:"bar"}),me(ee),X=0;var ie="bar_right_repeat"===ee.type||"bar_dbl_repeat"===ee.type,se="1"===ee.startEnding,ae="bar_left_repeat"===ee.type||"bar_dbl_repeat"===ee.type||"bar_right_repeat"===ee.type;if(ie){var oe=L[U];oe||(oe=0);var ce=j[U];ce||(ce=P[U].length);for(var le=oe;le<ce;le++){var ue=i.clone(P[U][le]);ue.pitches&&(ue.pitches=i.cloneArray(ue.pitches)),P[U].push(ue)}j[U]=void 0,L[U]=void 0}se&&(j[U]=P[U].length),ae&&(L[U]=P[U].length);break;case"style":k[U]=ee.head;break;case"timeSignature":P[U].push(l(ee));break;case"part":case"stem":case"scale":case"break":case"font":break;case"midi":var he=!1;switch(ee.cmd){case"drumon":_=!0,he=!0;break;case"drumoff":_=!1,he=!0;break;case"drum":y=ee.params,he=!0;break;case"drumbars":x=ee.params[0],he=!0;break;case"drummap":break;case"channel":10===ee.params[0]&&P[U].push({el_type:"instrument",program:t});break;case"program":f(P[U],{el_type:"instrument",program:ee.params[0]}),b=!0;break;case"transpose":P[U].push({el_type:"transpose",transpose:ee.params[0]});break;case"gchordoff":P[U].push({el_type:"gchord",tacet:!0});break;case"gchordon":P[U].push({el_type:"gchord",tacet:!1});break;case"beat":P[U].push({el_type:"beat",beats:ee.params});break;case"nobeataccents":P[U].push({el_type:"beataccents",value:!1});break;case"beataccents":P[U].push({el_type:"beataccents",value:!0});break;case"vol":P[U].push({el_type:"vol",volume:ee.params[0]});break;case"volinc":P[U].push({el_type:"volinc",volume:ee.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",ee.cmd,ee)}he&&(P[0].push({el_type:"drum",params:{pattern:y,bars:x,intro:w,on:_}}),D=!0);break;default:console.log("MIDI: element type "+ee.el_type+" not handled.")}}M[++U]||(M[U]=0)}}function me(e){var t,r={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]};if(e.decoration)if(e.decoration.indexOf("pppp")>=0?t="pppp":e.decoration.indexOf("ppp")>=0?t="ppp":e.decoration.indexOf("pp")>=0?t="pp":e.decoration.indexOf("p")>=0?t="p":e.decoration.indexOf("mp")>=0?t="mp":e.decoration.indexOf("mf")>=0?t="mf":e.decoration.indexOf("f")>=0?t="f":e.decoration.indexOf("ff")>=0?t="ff":e.decoration.indexOf("fff")>=0?t="fff":e.decoration.indexOf("ffff")>=0&&(t="ffff"),t&&(I=r[t].slice(0),P[U].push({el_type:"beat",beats:I.slice(0)}),A[V]=!1,O[V]=!1),e.decoration.indexOf("crescendo(")>=0){var i=n(G,Z,"crescendo)"),a=Math.min(127,I[0]+50),o=s(G,Z+i+1,Object.keys(r));o&&(a=r[o][0]),A[V]=i>0&&Math.floor((a-I[0])/i),O[V]=!1}else if(e.decoration.indexOf("crescendo)")>=0)A[V]=!1;else if(e.decoration.indexOf("diminuendo(")>=0){var c=n(G,Z,"diminuendo)"),l=Math.max(15,I[0]-50),u=s(G,Z+c+1,Object.keys(r));u&&(l=r[u][0]),A[V]=!1,O[V]=c>0&&Math.floor((l-I[0])/c)}else e.decoration.indexOf("diminuendo)")>=0&&(O[V]=!1)}}}if(function(e,t){if(!t||0===t.length)return;for(var n=Object.keys(t),r=0;r<e.length;r++)for(var i=e[r],s=t[0]?t[0].qpm:0,a=0;a<i.length;a++){var o=i[a];"tempo"===o.el_type&&(s=o.qpm),n.indexOf(""+o.timing)>=0&&s!==t[""+o.timing].qpm&&(s=t[""+o.timing].qpm,"tempo"===o.el_type?(o.qpm=t[""+o.timing].qpm,a++):(e[r].splice(a,0,{el_type:"tempo",qpm:t[""+o.timing].qpm,timing:o.timing}),a+=2))}}(P,R),w)for(var de=r.getPickupLength(),fe=0;fe<P.length;fe++){for(var pe=0;"note"!==P[fe][pe].el_type&&P[fe].length>pe;)pe++;if(P[fe].length>pe)for(re=0;re<w;re++)0===de||re<w-1?P[fe].splice(pe,0,{el_type:"note",rest:{type:"rest"},duration:e},{el_type:"bar"}):P[fe].splice(pe,0,{el_type:"note",rest:{type:"rest"},duration:e-de})}return P.length>0&&P[0].length>0&&(P[0][0].pickupLength=r.getPickupLength()),P}}(),e.exports=r},7340:(e,t,n)=>{var r=n(4633);e.exports=function(e,t){void 0===e&&(e="abcjs-note_selected"),void 0===t&&(t="#000000"),r(this.elemset,"",e,t)}},7486:(e,t,n)=>{var r=n(363),i=n(2549),s=n(8706);function a(e,t,n,i){return r("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",e+n[0],t+i[0],e+n[1],t+i[1],e+n[2],t+i[2],e+n[3],t+i[3],e+n[4],t+i[4],e+n[5],t+i[5],e+n[6],t+i[6])}var o=function(e,t,n,o,c,l,u){var h;if(l){e.paper.openGroup({klass:e.controller.classes.generate("staff-extra voice-name"),"data-name":c});var d=n+(o-n)/2;d-=e.controller.getTextSize.baselineToCenter(l,"voicefont","staff-extra voice-name",0,1),s(e,{x:e.padding.left,y:d,text:l,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return"brace"===c?h=function(e,t,n,r,i){var s=r-n,o=a(t,n,[7.5,-8,21,0,18.5,-10.5,7.5],[0,s/5.5,s/3.14,s/2,s/2.93,s/4.88,0]);return o+=a(t,n,[0,17.5,-7.5,6.6,-5,20,0],[s/2,s/1.46,s/1.22,s,s/1.19,s/1.42,s/2]),e.paper.path({path:o,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(i),"data-name":i})}(e,t,n,o,c):"bracket"===c&&(h=function(e,t,n,s,a){t+=i.STEP;var o=.75*i.STEP,c=.75*i.STEP,l=s-n,u=r("M %f %f l %f %f l %f %f l %f %f z",t,n-c,0,l+2*c,o,0,0,-(l+2*c)),h=2*i.STEP,d=i.STEP;return u+=r("M %f %f q %f %f %f %f q %f %f %f %f z",t+o,n-c,.6*h,.2*d,h,-d,.1*-h,.3*d,-h,d+i.STEP),u+=r("M %f %f q %f %f %f %f q %f %f %f %f z",t+o,n+c+l,.6*h,.2*-d,h,d,.1*-h,.3*-d,-h,-d-i.STEP),e.paper.path({path:u,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(a),"data-name":a})}(e,t,n,o,c)),l&&(h=e.paper.closeGroup()),u.wrapSvgEl({el_type:c,startChar:-1,endChar:-1},h),h};e.exports=function(e,t,n){var r=t.startVoice.staff.absoluteY-10*i.STEP;return t.endVoice&&t.endVoice.staff?t.endY=t.endVoice.staff.absoluteY-2*i.STEP:t.lastContinuedVoice&&t.lastContinuedVoice.staff?t.endY=t.lastContinuedVoice.staff.absoluteY-2*i.STEP:t.endY=t.startVoice.staff.absoluteY-2*i.STEP,o(e,t.x,r,t.endY,t.type,t.header,n)}},7490:(e,t,n)=>{var r=n(3271),i=(n(5516),n(3039)),s=n(5898),a=n(3428),o={};function c(){var e=window.innerWidth;for(var t in o)if(o.hasOwnProperty(t)){var n=o[t];e-=2*n.offsetLeft,n.style.width=e+"px"}}try{window.addEventListener("resize",c),window.addEventListener("orientationChange",c)}catch(u){}function l(e,t,n,r,s){n.viewportHorizontal?(e.innerHTML='<div class="abcjs-inner"></div>',n.scrollHorizontal?(e.style.overflowX="auto",e.style.overflowY="hidden"):e.style.overflow="hidden",o[e.id]=e,e=e.children[0]):n.viewportVertical?(e.innerHTML='<div class="abcjs-inner scroll-amount"></div>',e.style.overflowX="hidden",e.style.overflowY="auto",e=e.children[0]):e.innerHTML="";var a=new i(e,n);(a.engraveABC(t,r,s),t.engraver=a,n.viewportVertical||n.viewportHorizontal)&&(e.parentNode.style.width=e.style.width)}e.exports=function(e,t,n,o,c){var u,h={};if(n){for(u in n)n.hasOwnProperty(u)&&(h[u]=n[u]);h.warnings_id&&h.tablature&&(h.tablature.warning_id=h.warnings_id)}if(o)for(u in o)o.hasOwnProperty(u)&&("listener"===u?o[u].highlight&&(h.clickListener=o[u].highlight):h[u]=o[u]);if(c)for(u in c)c.hasOwnProperty(u)&&(h[u]=c[u]);return r.renderEngine(function(e,t,n,r){var o=!1;return"*"===e&&(o=!0,(e=document.createElement("div")).setAttribute("style","visibility: hidden;"),document.body.appendChild(e)),!o&&h.wrap&&h.staffwidth?(t=function(e,t,n,r,o){var c=new i(e,o),u=c.getMeasureWidths(t),h=a.calcLineWraps(t,u,o);if(h.reParse){var d=new s;d.parse(r,h.revisedParams),t=d.getTune();var f=d.getWarnings();f&&(t.warnings=f)}o.afterParsing&&o.afterParsing(t,n,r);return l(e,t,h.revisedParams,n,0),t.explanation=h.explanation,t}(e,t,n,r,h),t):(h.afterParsing&&h.afterParsing(t,n,r),l(e,t,h,n,0),o&&e.parentNode.removeChild(e),null)},e,t,h)}},7578:(e,t,n)=>{var r=n(8272),i=n(2748),s=n(5481),a=n(6608);e.exports=function(){var e=this;e.warp=100,e.cursorControl=null,e.visualObj=null,e.timer=null,e.midiBuffer=null,e.options=null,e.currentTempo=null,e.control=null,e.isLooping=!1,e.isStarted=!1,e.isLoaded=!1,e.isLoading=!1,e.load=function(t,n,i){i||(i={}),e.control=new r(t,{loopHandler:i.displayLoop?e.toggleLoop:void 0,restartHandler:i.displayRestart?e.restart:void 0,playPromiseHandler:i.displayPlay?e.play:void 0,progressHandler:i.displayProgress?e.randomAccess:void 0,warpHandler:i.displayWarp?e.onWarp:void 0,afterResume:e.init}),e.cursorControl=n,e.disable(!0)},e.disable=function(t){e.control&&e.control.disable(t)},e.setTune=function(t,n,r){return e.visualObj=t,e.disable(!1),e.options=r,e.control&&(e.pause(),e.setProgress(0,1),e.control.resetAll(),e.restart(),e.isStarted=!1),e.isLooping=!1,n?e.go():Promise.resolve({status:"no-audio-context"})},e.go=function(){e.isLoading=!0;var t,n=100*e.visualObj.millisecondsPerMeasure()/e.warp;return e.currentTempo=Math.round(e.visualObj.getBeatsPerMeasure()/n*6e4),e.control&&e.control.setTempo(e.currentTempo),e.percent=0,e.midiBuffer||(e.midiBuffer=new i),a().resume().then(function(t){return e.midiBuffer.init({visualObj:e.visualObj,options:e.options,millisecondsPerMeasure:n})}).then(function(n){return t=n,e.midiBuffer.prime()}).then(function(){var n=16;return e.cursorControl&&void 0!==e.cursorControl.beatSubdivisions&&parseInt(e.cursorControl.beatSubdivisions,10)>=1&&parseInt(e.cursorControl.beatSubdivisions,10)<=64&&(n=parseInt(e.cursorControl.beatSubdivisions,10)),e.timer=new s(e.visualObj,{beatCallback:e.beatCallback,eventCallback:e.eventCallback,lineEndCallback:e.lineEndCallback,qpm:e.currentTempo,extraMeasuresAtBeginning:e.cursorControl?e.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:e.cursorControl?e.cursorControl.lineEndAnticipation:0,beatSubdivisions:n}),e.cursorControl&&e.cursorControl.onReady&&"function"===typeof e.cursorControl.onReady&&e.cursorControl.onReady(e),e.isLoaded=!0,e.isLoading=!1,Promise.resolve({status:"created",notesStatus:t})})},e.destroy=function(){e.timer&&(e.timer.reset(),e.timer.stop(),e.timer=null),e.midiBuffer&&(e.midiBuffer.stop(),e.midiBuffer=null),e.setProgress(0,1),e.control&&e.control.resetAll()},e.play=function(){return e.runWhenReady(e._play,void 0)},e.runWhenReady=function(t,n){return e.visualObj?e.isLoading?(r=500,new Promise(function(e){setTimeout(e,r)})).then(function(){return e.isLoading?e.runWhenReady(t,n):t(n)}):e.isLoaded?t(n):e.go().then(function(){return t(n)}):Promise.resolve({status:"loading"});var r},e._play=function(){return a().resume().then(function(){return e.isStarted=!e.isStarted,e.isStarted?(e.cursorControl&&e.cursorControl.onStart&&"function"===typeof e.cursorControl.onStart&&e.cursorControl.onStart(),e.midiBuffer.start(),e.timer.start(e.percent),e.control&&e.control.pushPlay(!0)):e.pause(),Promise.resolve({status:"ok"})})},e.pause=function(){e.timer&&(e.timer.pause(),e.midiBuffer.pause(),e.control&&e.control.pushPlay(!1))},e.toggleLoop=function(){e.isLooping=!e.isLooping,e.control&&e.control.pushLoop(e.isLooping)},e.restart=function(){e.timer&&(e.timer.setProgress(0),e.midiBuffer.seek(0))},e.randomAccess=function(t){return e.runWhenReady(e._randomAccess,t)},e._randomAccess=function(t){var n=t.target.classList.contains("abcjs-midi-progress-indicator")?t.target.parentNode:t.target,r=(t.x-n.offsetLeft)/n.offsetWidth;return r<0&&(r=0),r>1&&(r=1),e.seek(r),Promise.resolve({status:"ok"})},e.seek=function(t,n){e.timer&&e.midiBuffer&&(e.timer.setProgress(t,n),e.midiBuffer.seek(t,n))},e.setWarp=function(t){if(parseInt(t,10)>0){e.warp=parseInt(t,10);var n=e.isStarted,r=e.percent;return e.destroy(),e.isStarted=!1,e.go().then(function(){return e.setProgress(r,1e3*e.midiBuffer.duration),e.control&&e.control.setWarp(e.currentTempo,e.warp),n?e.play().then(function(){return e.seek(r),Promise.resolve()}):(e.seek(r),Promise.resolve())})}return Promise.resolve()},e.onWarp=function(t){var n=t.target.value;return e.setWarp(n)},e.setProgress=function(t,n){e.percent=t,e.control&&e.control.setProgress(t,n)},e.finished=function(){if(e.timer.reset(),e.isLooping)return e.timer.start(0),e.midiBuffer.finished(),e.midiBuffer.start(),"continue";e.timer.stop(),e.isStarted&&(e.control&&e.control.pushPlay(!1),e.isStarted=!1,e.midiBuffer.finished(),e.cursorControl&&e.cursorControl.onFinished&&"function"===typeof e.cursorControl.onFinished&&e.cursorControl.onFinished(),e.setProgress(0,1))},e.beatCallback=function(t,n,r,i){var s=t/n;e.setProgress(s,r),e.cursorControl&&e.cursorControl.onBeat&&"function"===typeof e.cursorControl.onBeat&&e.cursorControl.onBeat(t,n,r,i)},e.eventCallback=function(t){if(!t)return e.finished();e.cursorControl&&e.cursorControl.onEvent&&"function"===typeof e.cursorControl.onEvent&&e.cursorControl.onEvent(t)},e.lineEndCallback=function(t,n){e.cursorControl&&e.cursorControl.onLineEnd&&"function"===typeof e.cursorControl.onLineEnd&&e.cursorControl.onLineEnd(t,n)},e.getUrl=function(){return e.midiBuffer.download()},e.download=function(t){var n=e.getUrl(),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display: none;"),r.href=n,r.download=t||"output.wav",r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)}}},7641:(e,t,n)=>{var r=n(2549),i=n(7486),s=n(5683),a=n(9487),o=n(6266),c=n(9754),l=n(9480);function u(e,t,n,s,a){if(n)for(var o=0;o<n.length;o++)n[o].isStartVoice(s)&&(n[o].startY=t-10*r.STEP,n[o].elemset=i(e,n[o],a))}function h(e,t,n){for(var i=0;i<n.length;i++)for(var s=t[n[i]].children,a=0;a<s.length;a++){var c=s[a],l=c.getFixedCoords();if(!c.invisible&&void 0!==l.t&&void 0!==l.b){var u=(l.t-l.b)*r.STEP;o(e,{x:l.x,y:e.calcY(l.t),width:l.w,height:u,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var h=0;h<c.children.length;h++){var d=c.children[h],f=d.getChordDim();if(f){var p=e.calcY(d.pitch);p+=d.dim.font.size*d.getLane(),o(e,{x:f.left,y:p,width:f.right-f.left,height:d.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}e.exports=function(e,t,n,i){for(var d,f,p,m=e.y,g=0;g<t.staffs.length;g++){var v=t.staffs[g];e.moveY(r.STEP,v.top),v.absoluteY=e.y,e.showDebug&&(e.showDebug.indexOf("box")>=0&&v.voices&&h(e,t.voices,v.voices),e.showDebug.indexOf("grid")>=0&&(e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:m,y2:m,stroke:"#0000ff"}),o(e,{x:e.padding.left,y:e.calcY(v.originalTop),width:e.controller.width,height:e.calcY(v.originalBottom)-e.calcY(v.originalTop),fill:e.foregroundColor,stroke:e.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),d=0,T(v,"chordHeightAbove"),T(v,"chordHeightBelow"),T(v,"dynamicHeightAbove"),T(v,"dynamicHeightBelow"),T(v,"endingHeightAbove"),T(v,"lyricHeightAbove"),T(v,"lyricHeightBelow"),T(v,"partHeightAbove"),T(v,"tempoHeightAbove"),T(v,"volumeHeightAbove"),T(v,"volumeHeightBelow"))),e.moveY(r.STEP,-v.bottom),e.showDebug&&e.showDebug.indexOf("grid")>=0&&e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:e.y,y2:e.y,stroke:"#0000aa"})}for(var b=2,y=0,x=0;x<t.voices.length;x++){var w=t.voices[x].staff,_=t.voices[x].tabNameInfos;if(e.y=w.absoluteY,e.controller.classes.incrVoice(),!t.voices[x].duplicate){if(f||(f=e.calcY(10)),p=e.calcY(b),0!==w.lines){w.linePitch&&(b=w.linePitch),e.controller.classes.newMeasure();var k=a(e,t.startx,t.w,w.lines,w.linePitch,.35);p=k[1],w.bottomLine=p,w.topLine=k[0],w.hasTab&&(y=w.topLine),w.hasStaff&&(y=w.hasStaff.topLine,t.voices[x].barto=!0,t.voices[x].topLine=f)}u(e,w.absoluteY,t.brace,x,n),u(e,w.absoluteY,t.bracket,x,n)}s(e,t.voices[x],y,n,{top:m,zero:e.y,height:t.height*r.STEP});var C=0;if(_){var E={rows:[]};E.rows.push({absmove:p+2});E.rows.push({left:t.startx+8,text:_.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),E.rows.push({move:_.textSize.height}),l(e,E),C=_.textSize.height}e.controller.classes.newMeasure(),t.voices[x].duplicate||(y=e.calcY(2+C))}e.controller.classes.newMeasure();var S=t.staffs.length;function T(t,n){var i=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(t.positionY&&t.positionY[n]){var s=t.specialY[n]*r.STEP;"chordHeightAbove"===n&&t.specialY.chordLines&&t.specialY.chordLines.above&&(s*=t.specialY.chordLines.above),"chordHeightBelow"===n&&t.specialY.chordLines&&t.specialY.chordLines.below&&(s*=t.specialY.chordLines.below),o(e,{x:e.padding.left,y:e.calcY(t.positionY[n]),width:e.controller.width,height:s,fill:i[d],stroke:i[d],"fill-opacity":.4,"stroke-opacity":.4},n.substr(0,4)),(d+=1)>6&&(d=0)}}S>1&&(f=t.staffs[0].topLine,p=t.staffs[S-1].bottomLine,c(e,t.startx,.6,f,p,null)),e.y=m}},7708:(e,t,n)=>{var r=n(2128);e.exports=function(e,t,n,i){r[t]||(r[t]={});var s=r[t];return s[n]||(s[n]=new Promise(function(r,s){var a=new XMLHttpRequest;let o=e+t+"-mp3/"+n+".mp3";a.open("GET",o,!0),a.responseType="arraybuffer",a.onload=function(){if(200===a.status){var e=i.decodeAudioData(a.response,function(e){r({instrument:t,name:n,status:"loaded",audioBuffer:e})},function(){s(Error("Can't decode sound at "+o))});e&&"function"===typeof e.catch&&e.catch(s)}else s(Error("Can't load sound at "+o+" status="+a.status))},a.onerror=function(){s(Error("Can't load sound at "+o))},a.send()}).catch(e=>{throw console.error("Didn't load note",t,n,":",e.message),e})),s[n]}},7949:e=>{e.exports='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">\n  <g>\n    <polygon points="5 12.5 24 0 24 25"/>\n    <rect width="3" height="25" x="0" y="0"/>\n  </g>\n</svg>\n'},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8144:e=>{var t=function(e){this.shouldAddClasses=e.shouldAddClasses,this.reset()};t.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null},t.prototype.incrLine=function(){null===this.lineNumber?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null},t.prototype.incrVoice=function(){null===this.voiceNumber?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null},t.prototype.isInMeasure=function(){return null!==this.measureNumber},t.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null},t.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0},t.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0},t.prototype.incrNote=function(){this.noteNumber++},t.prototype.measureTotal=function(){for(var e=0,t=0;t<this.lineNumber;t++)e+=this.measureTotalPerLine[t]?this.measureTotalPerLine[t]:0;return this.measureNumber&&(e+=this.measureNumber),e},t.prototype.getCurrent=function(e){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}},t.prototype.generate=function(e){if(!this.shouldAddClasses)return"";var t=[];if(e&&e.length>0&&t.push(e),"tab-number"===e)return t.join(" ");if("text instrument-name"===e)return"abcjs-text abcjs-instrument-name";if(null!==this.lineNumber&&t.push("l"+this.lineNumber),null!==this.measureNumber&&t.push("m"+this.measureNumber),null!==this.measureNumber&&t.push("mm"+this.measureTotal()),null!==this.voiceNumber&&t.push("v"+this.voiceNumber),e&&(e.indexOf("note")>=0||e.indexOf("rest")>=0||e.indexOf("lyric")>=0)&&null!==this.noteNumber&&t.push("n"+this.noteNumber),t.length>0){t=(t=t.join(" ")).split(" ");for(var n=0;n<t.length;n++)0!==t[n].indexOf("abcjs-")&&t[n].length>0&&(t[n]="abcjs-"+t[n])}return t.join(" ")},e.exports=t},8146:e=>{var t=function(){};t.beginLayout=function(e,t){t.i=0,t.durationindex=0,t.startx=e,t.minx=e,t.nextx=e,t.spacingduration=0},t.layoutEnded=function(e){return e.i>=e.children.length},t.getNextX=function(e){return Math.max(e.minx,e.nextx)},t.getSpacingUnits=function(e){return Math.sqrt(8*e.spacingduration)},t.layoutOneItem=function(e,t,n,r,i){var s=n.children[n.i];if(!s)return 0;var a=e-n.minx,o=n.durationindex+s.duration>0?r:0;if("note"===s.abcelem.el_type&&!s.abcelem.rest&&0!==n.voicenumber&&i){var c=i.children[i.i],l=c&&(s.abcelem.maxpitch<=c.abcelem.maxpitch+1&&s.abcelem.maxpitch>=c.abcelem.minpitch-1||s.abcelem.minpitch<=c.abcelem.maxpitch+1&&s.abcelem.minpitch>=c.abcelem.minpitch-1);if(l&&s.abcelem.minpitch===c.abcelem.minpitch&&s.abcelem.maxpitch===c.abcelem.maxpitch&&c.heads&&c.heads.length>0&&s.heads&&s.heads.length>0&&c.heads[0].c===s.heads[0].c&&(l=!1),l){var u=c.heads&&c.heads.length>0?c.heads[0].realWidth:c.fixed.w;s.adjustedWidth||(s.adjustedWidth=u+s.w),s.w=s.adjustedWidth;for(var h=0;h<s.children.length;h++){var d=s.children[h];d.name.indexOf("accidental")<0&&(d.adjustedWidth||(d.adjustedWidth=d.dx+u),d.dx=d.adjustedWidth)}}}var f=function(e,t){var n=0;"note"!==e.type&&"bar"!==e.type||(n=t);return-e.extraw+n}(s,o);return a<f&&(0===n.i||"bar"!==s.type||"part"!==n.children[n.i-1].type&&"tempo"!==n.children[n.i-1].type)&&(e+=f-a),s.setX(e),n.spacingduration=s.duration,n.minx=e+function(e){return e.w}(s),n.i!==n.children.length-1&&(n.minx+=s.minspacing),this.updateNextX(e,t,n),e},t.shiftRight=function(e,t){var n=t.children[t.i];n&&(n.setX(n.x+e),t.minx+=e,t.nextx+=e)},t.updateNextX=function(e,t,n){n.nextx=e+t*Math.sqrt(8*n.spacingduration)},t.updateIndices=function(e){this.layoutEnded(e)||(e.durationindex+=e.children[e.i].duration,"bar"===e.children[e.i].type&&(e.durationindex=Math.round(64*e.durationindex)/64),e.i++)},e.exports=t},8272:(e,t,n)=>{var r=n(4752),i=n(9979),s=n(6608),a=n(4484),o=n(6314),c=n(9986),l=n(9136),u=n(3926),h=n(7949);function d(e,t,n,a,o){var c=!0;if(s()?c="suspended"===s().state:i(),!r())throw{status:"NotSupported",message:"This browser does not support audio."};(c||o)&&n&&n.classList.add("abcjs-loading"),c?s().resume().then(function(){a?a().then(function(r){f(e,t,n,o)}):f(e,t,n,o)}):f(e,t,n,o)}function f(e,t,n,r){r?e(t).then(function(){n&&n.classList.remove("abcjs-loading")}):(e(t),n&&n.classList.remove("abcjs-loading"))}e.exports=function(e,t){var n=this;if("string"===typeof e){var r=e;if(!(e=document.querySelector(r)))throw new Error('Cannot find element "'+r+'" in the DOM.')}else if(!(e instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(n.parent=e,n.options={},t&&(n.options=a.clone(t)),n.options.ac&&i(n.options.ac),function(e,t){var n=!!t.loopHandler,r=!!t.restartHandler,i=!!t.playHandler||!!t.playPromiseHandler,s=!!t.progressHandler,a=!!t.warpHandler,d=!1!==t.hasClock,f='<div class="abcjs-inline-audio">\n';if(n){var p=t.repeatTitle?t.repeatTitle:"Click to toggle play once/repeat.";f+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+p+'" aria-label="'+(t.repeatAria?t.repeatAria:p)+'">'+o+"</button>\n"}if(r){var m=t.restartTitle?t.restartTitle:"Click to go to beginning.";f+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+m+'" aria-label="'+(t.restartAria?t.restartAria:m)+'">'+h+"</button>\n"}if(i){var g=t.playTitle?t.playTitle:"Click to play/pause.";f+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+g+'" aria-label="'+(t.playAria?t.playAria:g)+'">'+c+l+u+"</button>\n"}if(s){var v=t.randomTitle?t.randomTitle:"Click to change the playback position.";f+='<button type="button" class="abcjs-midi-progress-background" title="'+v+'" aria-label="'+(t.randomAria?t.randomAria:v)+'"><span class="abcjs-midi-progress-indicator"></span></button>\n'}d&&(f+='<span class="abcjs-midi-clock"></span>\n');if(a){var b=t.warpTitle?t.warpTitle:"Change the playback speed.";f+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+b+'" aria-label="'+(t.warpAria?t.warpAria:b)+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+(t.bpm?t.bpm:"BPM")+")</span></span>\n"}f+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',f+="</div>\n",e.innerHTML=f}(n.parent,n.options),function(e){var t=!!e.options.loopHandler,n=!!e.options.restartHandler,r=!!e.options.playHandler||!!e.options.playPromiseHandler,i=!!e.options.progressHandler,s=!!e.options.warpHandler,a=e.parent.querySelector(".abcjs-midi-start");t&&e.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(t){d(e.options.loopHandler,t,a,e.options.afterResume)});n&&e.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(t){d(e.options.restartHandler,t,a,e.options.afterResume)});r&&a.addEventListener("click",function(t){d(e.options.playPromiseHandler||e.options.playHandler,t,a,e.options.afterResume,!!e.options.playPromiseHandler)});i&&e.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(t){d(e.options.progressHandler,t,a,e.options.afterResume)});s&&e.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(t){d(e.options.warpHandler,t,a,e.options.afterResume)})}(n),n.disable=function(e){var t=n.parent.querySelector(".abcjs-inline-audio");e?t.classList.add("abcjs-disabled"):t.classList.remove("abcjs-disabled")},n.setWarp=function(e,t){n.parent.querySelector(".abcjs-midi-tempo").value=Math.round(t),n.setTempo(e)},n.setTempo=function(e){var t=n.parent.querySelector(".abcjs-midi-current-tempo");t&&(t.innerHTML=Math.round(e))},n.resetAll=function(){for(var e=n.parent.querySelectorAll(".abcjs-pushed"),t=0;t<e.length;t++){e[t].classList.remove("abcjs-pushed")}},n.pushPlay=function(e){var t=n.parent.querySelector(".abcjs-midi-start");t&&(e?t.classList.add("abcjs-pushed"):t.classList.remove("abcjs-pushed"))},n.pushLoop=function(e){var t=n.parent.querySelector(".abcjs-midi-loop");t&&(e?t.classList.add("abcjs-pushed"):t.classList.remove("abcjs-pushed"))},n.setProgress=function(e,t){var r=n.parent.querySelector(".abcjs-midi-progress-background"),i=n.parent.querySelector(".abcjs-midi-progress-indicator");if(r&&i){var s=r.clientWidth*e;i.style.left=s+"px";var a=n.parent.querySelector(".abcjs-midi-clock");if(a){var o=t*e/1e3,c=Math.floor(o/60),l=Math.floor(o%60),u=l<10?"0"+l:l;a.innerHTML=c+":"+u}}},n.options.afterResume){var f=!1;n.options.ac?f="suspended"!==n.options.ac.state:s()&&(f="suspended"!==s().state),f&&n.options.afterResume()}}},8366:e=>{var t=function(e,t,n,r){this.type="BeamElem",this.isflat=!!n,this.isgrace=!(!t||"grace"!==t),this.forceup=!!(this.isgrace||t&&"up"===t),this.forcedown=!(!t||"down"!==t),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=e,this.beams=[],r&&r.duration?(this.duration=r.duration,r.startTriplet&&(this.duration*=r.tripletMultiplier),this.duration=Math.round(1e3*this.duration)/1e3):this.duration=0};function n(e,t){return t?e/t:0}t.prototype.setHint=function(){this.hint=!0},t.prototype.runningDirection=function(e){var t=e.averagepitch;void 0!==t&&(this.total=Math.round(this.total+t),this.count||(this.count=0),this.count++)},t.prototype.add=function(e){var t=e.abcelem.averagepitch;void 0!==t&&(e.abcelem.rest||(this.allrests=!1),e.beam=this,this.elems.push(e),this.total=Math.round(this.total+t),(void 0===this.min||e.abcelem.minpitch<this.min)&&(this.min=e.abcelem.minpitch),(void 0===this.max||e.abcelem.maxpitch>this.max)&&(this.max=e.abcelem.maxpitch))},t.prototype.addBeam=function(e){this.beams.push(e)},t.prototype.setStemDirection=function(){if(this.average=n(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{this.stemsUp=this.average<6}delete this.count,this.total=0},t.prototype.calcDir=function(){if(this.average=n(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{this.stemsUp=this.average<6}for(var e=this.stemsUp?"up":"down",t=0;t<this.elems.length;t++)for(var r=0;r<this.elems[t].heads.length;r++)this.elems[t].heads[r].stemDir=e},e.exports=t},8579:(e,t,n)=>{var r=n(363),i=n(2119);var s=function(e,t,n){e.anchor1&&e.anchor2?e.anchor1.pitch===e.anchor2.pitch&&0===e.internalNotes.length?e.isTie=!0:e.isTie=!1:e.isTie=!0,e.isTie?(e.calcTieDirection(),e.calcX(t,n),e.calcTieY()):(e.calcSlurDirection(),e.calcX(t,n),e.calcSlurY()),e.avoidCollisionAbove()},a=function(e,t,n,s,a,o,c,l,u){var h=l?1.2:1.5;t=i(t+6),n=i(n+4),s+=o?h:-h,a+=o?h:-h;var d,f=i(e.calcY(s)),p=i(e.calcY(a)),m=n-t,g=p-f,v=Math.sqrt(m*m+g*g),b=m/v,y=g/v,x=v/3.5,w=l?10:25,_=(o?-1:1)*Math.min(w,Math.max(4,x)),k=i(t+x*b-_*y),C=i(f+x*y+_*b),E=i(n-x*b-_*y),S=i(p-x*y+_*b);if(c?c+=" slur":c="slur",c+=l?" tie":" legato",u){c+=" dotted";var T=r("M %f %f C %f %f %f %f %f %f",t,f,k,C,E,S,n,p);d=e.paper.path({path:T,stroke:e.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:e.controller.classes.generate(c),"data-name":l?"tie":"slur"})}else{var N=r("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t,f,k,C,E,S,n,p,i(E-2*y),i(S+2*b),i(k-2*y),i(C+2*b),t,f);d=e.paper.path({path:N,stroke:"none",fill:e.foregroundColor,class:e.controller.classes.generate(c),"data-name":l?"tie":"slur"})}return d};e.exports=function(e,t,n,r,i){s(t,n,r);var o="";t.anchor1?o+="abcjs-start-m"+t.anchor1.parent.counters.measure+"-n"+t.anchor1.parent.counters.note:o+="abcjs-start-edge",t.anchor2?o+=" abcjs-end-m"+t.anchor2.parent.counters.measure+"-n"+t.anchor2.parent.counters.note:o+=" abcjs-end-edge",t.hint&&(o="abcjs-hint");var c=t.fixedY?1.5:0,l=a(e,t.startX,t.endX,t.startY+c,t.endY+c,t.above,o,t.isTie,t.dotted),u=-1;t.anchor1&&!t.isTie&&(u=t.anchor1.parent.abcelem.startChar-1);var h=-1;return t.anchor2&&!t.isTie&&(h=t.anchor2.parent.abcelem.endChar+1),i.wrapSvgEl({el_type:"slur",startChar:u,endChar:h},l),[l]}},8613:function(e,t){var n;!function(t,n){"use strict";"object"===typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!==typeof window?window:this,function(r,i){"use strict";var s=[],a=Object.getPrototypeOf,o=s.slice,c=s.flat?function(e){return s.flat.call(e)}:function(e){return s.concat.apply([],e)},l=s.push,u=s.indexOf,h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,m=p.call(Object),g={},v=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType&&"function"!==typeof e.item},b=function(e){return null!=e&&e===e.window},y=r.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,s=(n=n||y).createElement("script");if(s.text=e,t)for(r in x)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&s.setAttribute(r,i);n.head.appendChild(s).parentNode.removeChild(s)}function _(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?h[d.call(e)]||"object":typeof e}var k="3.7.1",C=/HTML$/i,E=function(e,t){return new E.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!v(e)&&!b(e)&&("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e)}function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}E.fn=E.prototype={jquery:k,constructor:E,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:s.sort,splice:s.splice},E.extend=E.fn.extend=function(){var e,t,n,r,i,s,a=arguments[0]||{},o=1,c=arguments.length,l=!1;for("boolean"===typeof a&&(l=a,a=arguments[o]||{},o++),"object"===typeof a||v(a)||(a={}),o===c&&(a=this,o--);o<c;o++)if(null!=(e=arguments[o]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(E.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],s=i&&!Array.isArray(n)?[]:i||E.isPlainObject(n)?n:{},i=!1,a[t]=E.extend(l,s,r)):void 0!==r&&(a[t]=r));return a},E.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=a(e))||"function"===typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(S(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r++];)n+=E.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?E.merge(n,"string"===typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!C.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,s=e.length,a=!n;i<s;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,s=0,a=[];if(S(e))for(r=e.length;s<r;s++)null!=(i=t(e[s],s,n))&&a.push(i);else for(s in e)null!=(i=t(e[s],s,n))&&a.push(i);return c(a)},guid:1,support:g}),"function"===typeof Symbol&&(E.fn[Symbol.iterator]=s[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var N=s.pop,I=s.sort,P=s.splice,A="[\\x20\\t\\r\\n\\f]",O=new RegExp("^"+A+"+|((?:^|[^\\\\])(?:\\\\.)*)"+A+"+$","g");E.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var M=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function R(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}E.escapeSelector=function(e){return(e+"").replace(M,R)};var L=y,j=l;!function(){var e,t,n,i,a,c,l,h,d,p,m=j,v=E.expando,b=0,y=0,x=ee(),w=ee(),_=ee(),k=ee(),C=function(e,t){return e===t&&(a=!0),0},S="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="(?:\\\\[\\da-fA-F]{1,6}"+A+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\["+A+"*("+M+")(?:"+A+"*([*^$|!~]?=)"+A+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+A+"*\\]",D=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",B=new RegExp(A+"+","g"),F=new RegExp("^"+A+"*,"+A+"*"),z=new RegExp("^"+A+"*([>+~]|"+A+")"+A+"*"),H=new RegExp(A+"|>"),U=new RegExp(D),q=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+D),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+A+"*(even|odd|(([+-]|)(\\d*)n|)"+A+"*(?:([+-]|)"+A+"*(\\d+)|))"+A+"*\\)|)","i"),bool:new RegExp("^(?:"+S+")$","i"),needsContext:new RegExp("^"+A+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+A+"*((?:-\\d)?\\d*)"+A+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,X=new RegExp("\\\\[\\da-fA-F]{1,6}"+A+"?|\\\\([^\\r\\n\\f])","g"),Q=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},$=function(){ce()},J=de(function(e){return!0===e.disabled&&T(e,"fieldset")},{dir:"parentNode",next:"legend"});try{m.apply(s=o.call(L.childNodes),L.childNodes),s[L.childNodes.length].nodeType}catch(ye){m={apply:function(e,t){j.apply(e,o.call(t))},call:function(e){j.apply(e,o.call(arguments,1))}}}function Z(e,t,n,r){var i,s,a,o,l,u,f,p=t&&t.ownerDocument,b=t?t.nodeType:9;if(n=n||[],"string"!==typeof e||!e||1!==b&&9!==b&&11!==b)return n;if(!r&&(ce(t),t=t||c,h)){if(11!==b&&(l=Y.exec(e)))if(i=l[1]){if(9===b){if(!(a=t.getElementById(i)))return n;if(a.id===i)return m.call(n,a),n}else if(p&&(a=p.getElementById(i))&&Z.contains(t,a)&&a.id===i)return m.call(n,a),n}else{if(l[2])return m.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&t.getElementsByClassName)return m.apply(n,t.getElementsByClassName(i)),n}if(!k[e+" "]&&(!d||!d.test(e))){if(f=e,p=t,1===b&&(H.test(e)||z.test(e))){for((p=K.test(e)&&oe(t.parentNode)||t)==t&&g.scope||((o=t.getAttribute("id"))?o=E.escapeSelector(o):t.setAttribute("id",o=v)),s=(u=ue(e)).length;s--;)u[s]=(o?"#"+o:":scope")+" "+he(u[s]);f=u.join(",")}try{return m.apply(n,p.querySelectorAll(f)),n}catch(y){k(e,!0)}finally{o===v&&t.removeAttribute("id")}}}return be(e.replace(O,"$1"),t,n,r)}function ee(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function te(e){return e[v]=!0,e}function ne(e){var t=c.createElement("fieldset");try{return!!e(t)}catch(ye){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e){return function(t){return T(t,"input")&&t.type===e}}function ie(e){return function(t){return(T(t,"input")||T(t,"button"))&&t.type===e}}function se(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&J(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ae(e){return te(function(t){return t=+t,te(function(n,r){for(var i,s=e([],n.length,t),a=s.length;a--;)n[i=s[a]]&&(n[i]=!(r[i]=n[i]))})})}function oe(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}function ce(e){var n,r=e?e.ownerDocument||e:L;return r!=c&&9===r.nodeType&&r.documentElement?(l=(c=r).documentElement,h=!E.isXMLDoc(c),p=l.matches||l.webkitMatchesSelector||l.msMatchesSelector,l.msMatchesSelector&&L!=c&&(n=c.defaultView)&&n.top!==n&&n.addEventListener("unload",$),g.getById=ne(function(e){return l.appendChild(e).id=E.expando,!c.getElementsByName||!c.getElementsByName(E.expando).length}),g.disconnectedMatch=ne(function(e){return p.call(e,"*")}),g.scope=ne(function(){return c.querySelectorAll(":scope")}),g.cssHas=ne(function(){try{return c.querySelector(":has(*,:jqfake)"),!1}catch(ye){return!0}}),g.getById?(t.filter.ID=function(e){var t=e.replace(X,Q);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(X,Q);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&h){var n,r,i,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(i=t.getElementsByName(e),r=0;s=i[r++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),t.find.TAG=function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if("undefined"!==typeof t.getElementsByClassName&&h)return t.getElementsByClassName(e)},d=[],ne(function(e){var t;l.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+A+"*(?:value|"+S+")"),e.querySelectorAll("[id~="+v+"-]").length||d.push("~="),e.querySelectorAll("a#"+v+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=c.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),l.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=c.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+A+"*name"+A+"*="+A+"*(?:''|\"\")")}),g.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),C=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===c||e.ownerDocument==L&&Z.contains(L,e)?-1:t===c||t.ownerDocument==L&&Z.contains(L,t)?1:i?u.call(i,e)-u.call(i,t):0:4&n?-1:1)},c):c}for(e in Z.matches=function(e,t){return Z(e,null,null,t)},Z.matchesSelector=function(e,t){if(ce(e),h&&!k[t+" "]&&(!d||!d.test(t)))try{var n=p.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(ye){k(t,!0)}return Z(t,c,null,[e]).length>0},Z.contains=function(e,t){return(e.ownerDocument||e)!=c&&ce(e),E.contains(e,t)},Z.attr=function(e,n){(e.ownerDocument||e)!=c&&ce(e);var r=t.attrHandle[n.toLowerCase()],i=r&&f.call(t.attrHandle,n.toLowerCase())?r(e,n,!h):void 0;return void 0!==i?i:e.getAttribute(n)},Z.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},E.uniqueSort=function(e){var t,n=[],r=0,s=0;if(a=!g.sortStable,i=!g.sortStable&&o.call(e,0),I.call(e,C),a){for(;t=e[s++];)t===e[s]&&(r=n.push(s));for(;r--;)P.call(e,n[r],1)}return i=null,e},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(o.apply(this)))},t=E.expr={cacheLength:50,createPseudo:te,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(X,Q),e[3]=(e[3]||e[4]||e[5]||"").replace(X,Q),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Z.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Z.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(X,Q).toLowerCase();return"*"===e?function(){return!0}:function(e){return T(e,t)}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+A+")"+e+"("+A+"|$)"))&&x(e,function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=Z.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,u,h,d,f,p=s!==a?"nextSibling":"previousSibling",m=t.parentNode,g=o&&t.nodeName.toLowerCase(),y=!c&&!o,x=!1;if(m){if(s){for(;p;){for(h=t;h=h[p];)if(o?T(h,g):1===h.nodeType)return!1;f=p="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(x=(d=(l=(u=m[v]||(m[v]={}))[e]||[])[0]===b&&l[1])&&l[2],h=d&&m.childNodes[d];h=++d&&h&&h[p]||(x=d=0)||f.pop();)if(1===h.nodeType&&++x&&h===t){u[e]=[b,d,x];break}}else if(y&&(x=d=(l=(u=t[v]||(t[v]={}))[e]||[])[0]===b&&l[1]),!1===x)for(;(h=++d&&h&&h[p]||(x=d=0)||f.pop())&&(!(o?T(h,g):1===h.nodeType)||!++x||(y&&((u=h[v]||(h[v]={}))[e]=[b,x]),h!==t)););return(x-=i)===r||x%r===0&&x/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Z.error("unsupported pseudo: "+e);return i[v]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te(function(e,t){for(var r,s=i(e,n),a=s.length;a--;)e[r=u.call(e,s[a])]=!(t[r]=s[a])}):function(e){return i(e,0,r)}):i}},pseudos:{not:te(function(e){var t=[],n=[],r=ve(e.replace(O,"$1"));return r[v]?te(function(e,t,n,i){for(var s,a=r(e,null,i,[]),o=e.length;o--;)(s=a[o])&&(e[o]=!(t[o]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:te(function(e){return function(t){return Z(e,t).length>0}}),contains:te(function(e){return e=e.replace(X,Q),function(t){return(t.textContent||E.text(t)).indexOf(e)>-1}}),lang:te(function(e){return q.test(e||"")||Z.error("unsupported lang: "+e),e=e.replace(X,Q).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===l},focus:function(e){return e===function(){try{return c.activeElement}catch(e){}}()&&c.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:se(!1),disabled:se(!0),checked:function(e){return T(e,"input")&&!!e.checked||T(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return V.test(e.nodeName)},button:function(e){return T(e,"input")&&"button"===e.type||T(e,"button")},text:function(e){var t;return T(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae(function(){return[0]}),last:ae(function(e,t){return[t-1]}),eq:ae(function(e,t,n){return[n<0?n+t:n]}),even:ae(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ae(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ae(function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:ae(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function le(){}function ue(e,n){var r,i,s,a,o,c,l,u=w[e+" "];if(u)return n?0:u.slice(0);for(o=e,c=[],l=t.preFilter;o;){for(a in r&&!(i=F.exec(o))||(i&&(o=o.slice(i[0].length)||o),c.push(s=[])),r=!1,(i=z.exec(o))&&(r=i.shift(),s.push({value:r,type:i[0].replace(O," ")}),o=o.slice(r.length)),t.filter)!(i=W[a].exec(o))||l[a]&&!(i=l[a](i))||(r=i.shift(),s.push({value:r,type:a,matches:i}),o=o.slice(r.length));if(!r)break}return n?o.length:o?Z.error(e):w(e,c).slice(0)}function he(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function de(e,t,n){var r=t.dir,i=t.next,s=i||r,a=n&&"parentNode"===s,o=y++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,c){var l,u,h=[b,o];if(c){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(u=t[v]||(t[v]={}),i&&T(t,i))t=t[r]||t;else{if((l=u[s])&&l[0]===b&&l[1]===o)return h[2]=l[2];if(u[s]=h,h[2]=e(t,n,c))return!0}return!1}}function fe(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function pe(e,t,n,r,i){for(var s,a=[],o=0,c=e.length,l=null!=t;o<c;o++)(s=e[o])&&(n&&!n(s,r,i)||(a.push(s),l&&t.push(o)));return a}function me(e,t,n,r,i,s){return r&&!r[v]&&(r=me(r)),i&&!i[v]&&(i=me(i,s)),te(function(s,a,o,c){var l,h,d,f,p=[],g=[],v=a.length,b=s||function(e,t,n){for(var r=0,i=t.length;r<i;r++)Z(e,t[r],n);return n}(t||"*",o.nodeType?[o]:o,[]),y=!e||!s&&t?b:pe(b,p,e,o,c);if(n?n(y,f=i||(s?e:v||r)?[]:a,o,c):f=y,r)for(l=pe(f,g),r(l,[],o,c),h=l.length;h--;)(d=l[h])&&(f[g[h]]=!(y[g[h]]=d));if(s){if(i||e){if(i){for(l=[],h=f.length;h--;)(d=f[h])&&l.push(y[h]=d);i(null,f=[],l,c)}for(h=f.length;h--;)(d=f[h])&&(l=i?u.call(s,d):p[h])>-1&&(s[l]=!(a[l]=d))}}else f=pe(f===a?f.splice(v,f.length):f),i?i(null,a,f,c):m.apply(a,f)})}function ge(e){for(var r,i,s,a=e.length,o=t.relative[e[0].type],c=o||t.relative[" "],l=o?1:0,h=de(function(e){return e===r},c,!0),d=de(function(e){return u.call(r,e)>-1},c,!0),f=[function(e,t,i){var s=!o&&(i||t!=n)||((r=t).nodeType?h(e,t,i):d(e,t,i));return r=null,s}];l<a;l++)if(i=t.relative[e[l].type])f=[de(fe(f),i)];else{if((i=t.filter[e[l].type].apply(null,e[l].matches))[v]){for(s=++l;s<a&&!t.relative[e[s].type];s++);return me(l>1&&fe(f),l>1&&he(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(O,"$1"),i,l<s&&ge(e.slice(l,s)),s<a&&ge(e=e.slice(s)),s<a&&he(e))}f.push(i)}return fe(f)}function ve(e,r){var i,s=[],a=[],o=_[e+" "];if(!o){for(r||(r=ue(e)),i=r.length;i--;)(o=ge(r[i]))[v]?s.push(o):a.push(o);o=_(e,function(e,r){var i=r.length>0,s=e.length>0,a=function(a,o,l,u,d){var f,p,g,v=0,y="0",x=a&&[],w=[],_=n,k=a||s&&t.find.TAG("*",d),C=b+=null==_?1:Math.random()||.1,S=k.length;for(d&&(n=o==c||o||d);y!==S&&null!=(f=k[y]);y++){if(s&&f){for(p=0,o||f.ownerDocument==c||(ce(f),l=!h);g=e[p++];)if(g(f,o||c,l)){m.call(u,f);break}d&&(b=C)}i&&((f=!g&&f)&&v--,a&&x.push(f))}if(v+=y,i&&y!==v){for(p=0;g=r[p++];)g(x,w,o,l);if(a){if(v>0)for(;y--;)x[y]||w[y]||(w[y]=N.call(u));w=pe(w)}m.apply(u,w),d&&!a&&w.length>0&&v+r.length>1&&E.uniqueSort(u)}return d&&(b=C,n=_),x};return i?te(a):a}(a,s)),o.selector=e}return o}function be(e,n,r,i){var s,a,o,c,l,u="function"===typeof e&&e,d=!i&&ue(e=u.selector||e);if(r=r||[],1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(o=a[0]).type&&9===n.nodeType&&h&&t.relative[a[1].type]){if(!(n=(t.find.ID(o.matches[0].replace(X,Q),n)||[])[0]))return r;u&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(s=W.needsContext.test(e)?0:a.length;s--&&(o=a[s],!t.relative[c=o.type]);)if((l=t.find[c])&&(i=l(o.matches[0].replace(X,Q),K.test(a[0].type)&&oe(n.parentNode)||n))){if(a.splice(s,1),!(e=i.length&&he(a)))return m.apply(r,i),r;break}}return(u||ve(e,d))(i,n,!h,r,!n||K.test(e)&&oe(n.parentNode)||n),r}le.prototype=t.filters=t.pseudos,t.setFilters=new le,g.sortStable=v.split("").sort(C).join("")===v,ce(),g.sortDetached=ne(function(e){return 1&e.compareDocumentPosition(c.createElement("fieldset"))}),E.find=Z,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,Z.compile=ve,Z.select=be,Z.setDocument=ce,Z.tokenize=ue,Z.escape=E.escapeSelector,Z.getText=E.text,Z.isXML=E.isXMLDoc,Z.selectors=E.expr,Z.support=E.support,Z.uniqueSort=E.uniqueSort}();var D=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r},B=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},F=E.expr.match.needsContext,z=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function H(e,t,n){return v(t)?E.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?E.grep(e,function(e){return e===t!==n}):"string"!==typeof t?E.grep(e,function(e){return u.call(t,e)>-1!==n}):E.filter(t,e,n)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!==typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<r;t++)if(E.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,i[t],n);return r>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack(H(this,e||[],!1))},not:function(e){return this.pushStack(H(this,e||[],!0))},is:function(e){return!!H(this,"string"===typeof e&&F.test(e)?E(e):e||[],!1).length}});var U,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||U,"string"===typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),z.test(r[1])&&E.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=y.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,U=E(y);var W=/^(?:parents|prev(?:Until|All))/,V={children:!0,contents:!0,next:!0,prev:!0};function G(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],a="string"!==typeof e&&E(e);if(!F.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?E.uniqueSort(s):s)},index:function(e){return e?"string"===typeof e?u.call(E(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return D(e,"parentNode")},parentsUntil:function(e,t,n){return D(e,"parentNode",n)},next:function(e){return G(e,"nextSibling")},prev:function(e){return G(e,"previousSibling")},nextAll:function(e){return D(e,"nextSibling")},prevAll:function(e){return D(e,"previousSibling")},nextUntil:function(e,t,n){return D(e,"nextSibling",n)},prevUntil:function(e,t,n){return D(e,"previousSibling",n)},siblings:function(e){return B((e.parentNode||{}).firstChild,e)},children:function(e){return B(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(T(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},function(e,t){E.fn[e]=function(n,r){var i=E.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"===typeof r&&(i=E.filter(r,i)),this.length>1&&(V[e]||E.uniqueSort(i),W.test(e)&&i.reverse()),this.pushStack(i)}});var Y=/[^\x20\t\r\n\f]+/g;function K(e){return e}function X(e){throw e}function Q(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"===typeof e?function(e){var t={};return E.each(e.match(Y)||[],function(e,n){t[n]=!0}),t}(e):E.extend({},e);var t,n,r,i,s=[],a=[],o=-1,c=function(){for(i=i||e.once,r=t=!0;a.length;o=-1)for(n=a.shift();++o<s.length;)!1===s[o].apply(n[0],n[1])&&e.stopOnFalse&&(o=s.length,n=!1);e.memory||(n=!1),t=!1,i&&(s=n?[]:"")},l={add:function(){return s&&(n&&!t&&(o=s.length-1,a.push(n)),function t(n){E.each(n,function(n,r){v(r)?e.unique&&l.has(r)||s.push(r):r&&r.length&&"string"!==_(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return E.each(arguments,function(e,t){for(var n;(n=E.inArray(t,s,n))>-1;)s.splice(n,1),n<=o&&o--}),this},has:function(e){return e?E.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return i=a=[],n||t||(s=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return E.Deferred(function(n){E.each(t,function(t,r){var i=v(e[r[4]])&&e[r[4]];s[r[1]](function(){var e=i&&i.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,n,i){var s=0;function a(e,t,n,i){return function(){var o=this,c=arguments,l=function(){var r,l;if(!(e<s)){if((r=n.apply(o,c))===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"===typeof r||"function"===typeof r)&&r.then,v(l)?i?l.call(r,a(s,t,K,i),a(s,t,X,i)):(s++,l.call(r,a(s,t,K,i),a(s,t,X,i),a(s,t,K,t.notifyWith))):(n!==K&&(o=void 0,c=[r]),(i||t.resolveWith)(o,c))}},u=i?l:function(){try{l()}catch(r){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(r,u.error),e+1>=s&&(n!==X&&(o=void 0,c=[r]),t.rejectWith(o,c))}};e?u():(E.Deferred.getErrorHook?u.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(u.error=E.Deferred.getStackHook()),r.setTimeout(u))}}return E.Deferred(function(r){t[0][3].add(a(0,r,v(i)?i:K,r.notifyWith)),t[1][3].add(a(0,r,v(e)?e:K)),t[2][3].add(a(0,r,v(n)?n:X))}).promise()},promise:function(e){return null!=e?E.extend(e,i):i}},s={};return E.each(t,function(e,r){var a=r[2],o=r[5];i[r[1]]=a.add,o&&a.add(function(){n=o},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),s[r[0]]=function(){return s[r[0]+"With"](this===s?void 0:this,arguments),this},s[r[0]+"With"]=a.fireWith}),i.promise(s),e&&e.call(s,s),s},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),s=E.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||s.resolveWith(r,i)}};if(t<=1&&(Q(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||v(i[n]&&i[n].then)))return s.then();for(;n--;)Q(i[n],a(n),s.reject);return s.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&$.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){r.setTimeout(function(){throw e})};var J=E.Deferred();function Z(){y.removeEventListener("DOMContentLoaded",Z),r.removeEventListener("load",Z),E.ready()}E.fn.ready=function(e){return J.then(e).catch(function(e){E.readyException(e)}),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||J.resolveWith(y,[E]))}}),E.ready.then=J.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?r.setTimeout(E.ready):(y.addEventListener("DOMContentLoaded",Z),r.addEventListener("load",Z));var ee=function(e,t,n,r,i,s,a){var o=0,c=e.length,l=null==n;if("object"===_(n))for(o in i=!0,n)ee(e,t,o,n[o],!0,s,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(E(e),n)})),t))for(;o<c;o++)t(e[o],n,a?r:r.call(e[o],o,t(e[o],n)));return i?e:l?t.call(e):c?t(e[0],n):s},te=/^-ms-/,ne=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(ne,re)}var se=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ae(){this.expando=E.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(e){var t=e[this.expando];return t||(t={},se(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"===typeof t)i[ie(t)]=n;else for(r in t)i[ie(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in r?[t]:t.match(Y)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||E.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var oe=new ae,ce=new ae,le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function he(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ue,"-$&").toLowerCase(),"string"===typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:le.test(e)?JSON.parse(e):e)}(n)}catch(i){}ce.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return ce.hasData(e)||oe.hasData(e)},data:function(e,t,n){return ce.access(e,t,n)},removeData:function(e,t){ce.remove(e,t)},_data:function(e,t,n){return oe.access(e,t,n)},_removeData:function(e,t){oe.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,r,i,s=this[0],a=s&&s.attributes;if(void 0===e){if(this.length&&(i=ce.get(s),1===s.nodeType&&!oe.get(s,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=ie(r.slice(5)),he(s,r,i[r]));oe.set(s,"hasDataAttrs",!0)}return i}return"object"===typeof e?this.each(function(){ce.set(this,e)}):ee(this,function(t){var n;if(s&&void 0===t)return void 0!==(n=ce.get(s,e))||void 0!==(n=he(s,e))?n:void 0;this.each(function(){ce.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ce.remove(this,e)})}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=oe.get(e,t),n&&(!r||Array.isArray(n)?r=oe.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),s=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,function(){E.dequeue(e,t)},s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return oe.get(e,n)||oe.access(e,n,{empty:E.Callbacks("once memory").add(function(){oe.remove(e,[t+"queue",n])})})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each(function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=E.Deferred(),s=this,a=this.length,o=function(){--r||i.resolveWith(s,[s])};for("string"!==typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=oe.get(s[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(o));return o(),i.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),pe=["Top","Right","Bottom","Left"],me=y.documentElement,ge=function(e){return E.contains(e.ownerDocument,e)},ve={composed:!0};me.getRootNode&&(ge=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var be=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===E.css(e,"display")};function ye(e,t,n,r){var i,s,a=20,o=r?function(){return r.cur()}:function(){return E.css(e,t,"")},c=o(),l=n&&n[3]||(E.cssNumber[t]?"":"px"),u=e.nodeType&&(E.cssNumber[t]||"px"!==l&&+c)&&fe.exec(E.css(e,t));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;a--;)E.style(e,t,u+l),(1-s)*(1-(s=o()/c||.5))<=0&&(a=0),u/=s;u*=2,E.style(e,t,u+l),n=n||[]}return n&&(u=+u||+c||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=u,r.end=i)),i}var xe={};function we(e){var t,n=e.ownerDocument,r=e.nodeName,i=xe[r];return i||(t=n.body.appendChild(n.createElement(r)),i=E.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),xe[r]=i,i)}function _e(e,t){for(var n,r,i=[],s=0,a=e.length;s<a;s++)(r=e[s]).style&&(n=r.style.display,t?("none"===n&&(i[s]=oe.get(r,"display")||null,i[s]||(r.style.display="")),""===r.style.display&&be(r)&&(i[s]=we(r))):"none"!==n&&(i[s]="none",oe.set(r,"display",n)));for(s=0;s<a;s++)null!=i[s]&&(e[s].style.display=i[s]);return e}E.fn.extend({show:function(){return _e(this,!0)},hide:function(){return _e(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each(function(){be(this)?E(this).show():E(this).hide()})}});var ke=/^(?:checkbox|radio)$/i,Ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ee=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=y.createDocumentFragment().appendChild(y.createElement("div")),t=y.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),g.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",g.option=!!e.lastChild}();var Se={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Te(e,t){var n;return n="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&T(e,t)?E.merge([e],n):n}function Ne(e,t){for(var n=0,r=e.length;n<r;n++)oe.set(e[n],"globalEval",!t||oe.get(t[n],"globalEval"))}Se.tbody=Se.tfoot=Se.colgroup=Se.caption=Se.thead,Se.th=Se.td,g.option||(Se.optgroup=Se.option=[1,"<select multiple='multiple'>","</select>"]);var Ie=/<|&#?\w+;/;function Pe(e,t,n,r,i){for(var s,a,o,c,l,u,h=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((s=e[f])||0===s)if("object"===_(s))E.merge(d,s.nodeType?[s]:s);else if(Ie.test(s)){for(a=a||h.appendChild(t.createElement("div")),o=(Ce.exec(s)||["",""])[1].toLowerCase(),c=Se[o]||Se._default,a.innerHTML=c[1]+E.htmlPrefilter(s)+c[2],u=c[0];u--;)a=a.lastChild;E.merge(d,a.childNodes),(a=h.firstChild).textContent=""}else d.push(t.createTextNode(s));for(h.textContent="",f=0;s=d[f++];)if(r&&E.inArray(s,r)>-1)i&&i.push(s);else if(l=ge(s),a=Te(h.appendChild(s),"script"),l&&Ne(a),n)for(u=0;s=a[u++];)Ee.test(s.type||"")&&n.push(s);return h}var Ae=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function Me(){return!1}function Re(e,t,n,r,i,s){var a,o;if("object"===typeof t){for(o in"string"!==typeof n&&(r=r||n,n=void 0),t)Re(e,o,n,r,t[o],s);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"===typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Me;else if(!i)return e;return 1===s&&(a=i,i=function(e){return E().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=E.guid++)),e.each(function(){E.event.add(this,t,i,r,n)})}function Le(e,t,n){n?(oe.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var n,r=oe.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=o.call(arguments),oe.set(this,t,r),this[t](),n=oe.get(this,t),oe.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(oe.set(this,t,E.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Oe)}})):void 0===oe.get(e,t)&&E.event.add(e,t,Oe)}E.event={global:{},add:function(e,t,n,r,i){var s,a,o,c,l,u,h,d,f,p,m,g=oe.get(e);if(se(e))for(n.handler&&(n=(s=n).handler,i=s.selector),i&&E.find.matchesSelector(me,i),n.guid||(n.guid=E.guid++),(c=g.events)||(c=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return"undefined"!==typeof E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(Y)||[""]).length;l--;)f=m=(o=Ae.exec(t[l])||[])[1],p=(o[2]||"").split(".").sort(),f&&(h=E.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=E.event.special[f]||{},u=E.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:p.join(".")},s),(d=c[f])||((d=c[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(f,a)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),E.event.global[f]=!0)},remove:function(e,t,n,r,i){var s,a,o,c,l,u,h,d,f,p,m,g=oe.hasData(e)&&oe.get(e);if(g&&(c=g.events)){for(l=(t=(t||"").match(Y)||[""]).length;l--;)if(f=m=(o=Ae.exec(t[l])||[])[1],p=(o[2]||"").split(".").sort(),f){for(h=E.event.special[f]||{},d=c[f=(r?h.delegateType:h.bindType)||f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=d.length;s--;)u=d[s],!i&&m!==u.origType||n&&n.guid!==u.guid||o&&!o.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||E.removeEvent(e,f,g.handle),delete c[f])}else for(f in c)E.event.remove(e,f+t[l],n,r,!0);E.isEmptyObject(c)&&oe.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,s,a,o=new Array(arguments.length),c=E.event.fix(e),l=(oe.get(this,"events")||Object.create(null))[c.type]||[],u=E.event.special[c.type]||{};for(o[0]=c,t=1;t<arguments.length;t++)o[t]=arguments[t];if(c.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,c)){for(a=E.event.handlers.call(this,c,l),t=0;(i=a[t++])&&!c.isPropagationStopped();)for(c.currentTarget=i.elem,n=0;(s=i.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(r=((E.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,o))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,r,i,s,a,o=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(s=[],a={},n=0;n<c;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?E(i,this).index(l)>-1:E.find(i,this,null,[l]).length),a[i]&&s.push(r);s.length&&o.push({elem:l,handlers:s})}return l=this,c<t.length&&o.push({elem:l,handlers:t.slice(c)}),o},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ke.test(t.type)&&t.click&&T(t,"input")&&Le(t,"click",!0),!1},trigger:function(e){var t=this||e;return ke.test(t.type)&&t.click&&T(t,"input")&&Le(t,"click"),!0},_default:function(e){var t=e.target;return ke.test(t.type)&&t.click&&T(t,"input")&&oe.get(t,"click")||T(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:Me,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Me,isPropagationStopped:Me,isImmediatePropagationStopped:Me,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){if(y.documentMode){var n=oe.get(this,"handle"),r=E.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else E.event.simulate(t,e.target,E.event.fix(e))}E.event.special[e]={setup:function(){var r;if(Le(this,e,!0),!y.documentMode)return!1;(r=oe.get(this,t))||this.addEventListener(t,n),oe.set(this,t,(r||0)+1)},trigger:function(){return Le(this,e),!0},teardown:function(){var e;if(!y.documentMode)return!1;(e=oe.get(this,t)-1)?oe.set(this,t,e):(this.removeEventListener(t,n),oe.remove(this,t))},_default:function(t){return oe.get(t.target,e)},delegateType:t},E.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=y.documentMode?this:r,s=oe.get(i,t);s||(y.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),oe.set(i,t,(s||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=y.documentMode?this:r,s=oe.get(i,t)-1;s?oe.set(i,t,s):(y.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),oe.remove(i,t))}}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||E.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),E.fn.extend({on:function(e,t,n,r){return Re(this,e,t,n,r)},one:function(e,t,n,r){return Re(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!==typeof t||(n=t,t=void 0),!1===n&&(n=Me),this.each(function(){E.event.remove(this,e,n,t)})}});var je=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Fe(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function ze(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ue(e,t){var n,r,i,s,a,o;if(1===t.nodeType){if(oe.hasData(e)&&(o=oe.get(e).events))for(i in oe.remove(t,"handle events"),o)for(n=0,r=o[i].length;n<r;n++)E.event.add(t,i,o[i][n]);ce.hasData(e)&&(s=ce.access(e),a=E.extend({},s),ce.set(t,a))}}function qe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ke.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function We(e,t,n,r){t=c(t);var i,s,a,o,l,u,h=0,d=e.length,f=d-1,p=t[0],m=v(p);if(m||d>1&&"string"===typeof p&&!g.checkClone&&De.test(p))return e.each(function(i){var s=e.eq(i);m&&(t[0]=p.call(this,i,s.html())),We(s,t,n,r)});if(d&&(s=(i=Pe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=s),s||r)){for(o=(a=E.map(Te(i,"script"),ze)).length;h<d;h++)l=i,h!==f&&(l=E.clone(l,!0,!0),o&&E.merge(a,Te(l,"script"))),n.call(e[h],l,h);if(o)for(u=a[a.length-1].ownerDocument,E.map(a,He),h=0;h<o;h++)l=a[h],Ee.test(l.type||"")&&!oe.access(l,"globalEval")&&E.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&!l.noModule&&E._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):w(l.textContent.replace(Be,""),l,u))}return e}function Ve(e,t,n){for(var r,i=t?E.filter(t,e):e,s=0;null!=(r=i[s]);s++)n||1!==r.nodeType||E.cleanData(Te(r)),r.parentNode&&(n&&ge(r)&&Ne(Te(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,s,a,o=e.cloneNode(!0),c=ge(e);if(!g.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!E.isXMLDoc(e))for(a=Te(o),r=0,i=(s=Te(e)).length;r<i;r++)qe(s[r],a[r]);if(t)if(n)for(s=s||Te(e),a=a||Te(o),r=0,i=s.length;r<i;r++)Ue(s[r],a[r]);else Ue(e,o);return(a=Te(o,"script")).length>0&&Ne(a,!c&&Te(e,"script")),o},cleanData:function(e){for(var t,n,r,i=E.event.special,s=0;void 0!==(n=e[s]);s++)if(se(n)){if(t=n[oe.expando]){if(t.events)for(r in t.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[oe.expando]=void 0}n[ce.expando]&&(n[ce.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Ve(this,e,!0)},remove:function(e){return Ve(this,e)},text:function(e){return ee(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return We(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Fe(this,e).appendChild(e)})},prepend:function(){return We(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Fe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return We(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return We(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(Te(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return ee(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!je.test(e)&&!Se[(Ce.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(Te(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return We(this,arguments,function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(Te(this)),n&&n.replaceChild(t,this))},e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){E.fn[e]=function(e){for(var n,r=[],i=E(e),s=i.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),E(i[a])[t](n),l.apply(r,n.get());return this.pushStack(r)}});var Ge=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),Ye=/^--/,Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Xe=function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=s[i];return r},Qe=new RegExp(pe.join("|"),"i");function $e(e,t,n){var r,i,s,a,o=Ye.test(t),c=e.style;return(n=n||Ke(e))&&(a=n.getPropertyValue(t)||n[t],o&&a&&(a=a.replace(O,"$1")||void 0),""!==a||ge(e)||(a=E.style(e,t)),!g.pixelBoxStyles()&&Ge.test(a)&&Qe.test(t)&&(r=c.width,i=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=a,a=n.width,c.width=r,c.minWidth=i,c.maxWidth=s)),void 0!==a?a+"":a}function Je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",me.appendChild(l).appendChild(u);var e=r.getComputedStyle(u);n="1%"!==e.top,c=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),i=36===t(e.width),u.style.position="absolute",s=12===t(u.offsetWidth/3),me.removeChild(l),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,s,a,o,c,l=y.createElement("div"),u=y.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,E.extend(g,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,t,n,i;return null==o&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",me.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),o=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,me.removeChild(e)),o}}))}();var Ze=["Webkit","Moz","ms"],et=y.createElement("div").style,tt={};function nt(e){var t=E.cssProps[e]||tt[e];return t||(e in et?e:tt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ze.length;n--;)if((e=Ze[n]+t)in et)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,it={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function at(e,t,n){var r=fe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ot(e,t,n,r,i,s){var a="width"===t?1:0,o=0,c=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=E.css(e,n+pe[a],!0,i)),r?("content"===n&&(c-=E.css(e,"padding"+pe[a],!0,i)),"margin"!==n&&(c-=E.css(e,"border"+pe[a]+"Width",!0,i))):(c+=E.css(e,"padding"+pe[a],!0,i),"padding"!==n?c+=E.css(e,"border"+pe[a]+"Width",!0,i):o+=E.css(e,"border"+pe[a]+"Width",!0,i));return!r&&s>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-c-o-.5))||0),c+l}function ct(e,t,n){var r=Ke(e),i=(!g.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),s=i,a=$e(e,t,r),o="offset"+t[0].toUpperCase()+t.slice(1);if(Ge.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&T(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===E.css(e,"boxSizing",!1,r),(s=o in e)&&(a=e[o])),(a=parseFloat(a)||0)+ot(e,t,n||(i?"border":"content"),s,r,a)+"px"}function lt(e,t,n,r,i){return new lt.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=$e(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,a,o=ie(t),c=Ye.test(t),l=e.style;if(c||(t=nt(o)),a=E.cssHooks[t]||E.cssHooks[o],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(s=typeof n)&&(i=fe.exec(n))&&i[1]&&(n=ye(e,t,i),s="number"),null!=n&&n===n&&("number"!==s||c||(n+=i&&i[3]||(E.cssNumber[o]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,s,a,o=ie(t);return Ye.test(t)||(t=nt(o)),(a=E.cssHooks[t]||E.cssHooks[o])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=$e(e,t,r)),"normal"===i&&t in st&&(i=st[t]),""===n||n?(s=parseFloat(i),!0===n||isFinite(s)?s||0:i):i}}),E.each(["height","width"],function(e,t){E.cssHooks[t]={get:function(e,n,r){if(n)return!rt.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ct(e,t,r):Xe(e,it,function(){return ct(e,t,r)})},set:function(e,n,r){var i,s=Ke(e),a=!g.scrollboxSize()&&"absolute"===s.position,o=(a||r)&&"border-box"===E.css(e,"boxSizing",!1,s),c=r?ot(e,t,r,o,s):0;return o&&a&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-ot(e,t,"border",!1,s)-.5)),c&&(i=fe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),at(0,n,c)}}}),E.cssHooks.marginLeft=Je(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat($e(e,"marginLeft"))||e.getBoundingClientRect().left-Xe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(e,t){E.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"===typeof n?n.split(" "):[n];r<4;r++)i[e+pe[r]+t]=s[r]||s[r-2]||s[0];return i}},"margin"!==e&&(E.cssHooks[e+t].set=at)}),E.fn.extend({css:function(e,t){return ee(this,function(e,t,n){var r,i,s={},a=0;if(Array.isArray(t)){for(r=Ke(e),i=t.length;a<i;a++)s[t[a]]=E.css(e,t[a],!1,r);return s}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,arguments.length>1)}}),E.Tween=lt,lt.prototype={constructor:lt,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(E.cssNumber[n]?"":"px")},cur:function(){var e=lt.propHooks[this.prop];return e&&e.get?e.get(this):lt.propHooks._default.get(this)},run:function(e){var t,n=lt.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):lt.propHooks._default.set(this),this}},lt.prototype.init.prototype=lt.prototype,lt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[nt(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},lt.propHooks.scrollTop=lt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=lt.prototype.init,E.fx.step={};var ut,ht,dt=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;function pt(){ht&&(!1===y.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(pt):r.setTimeout(pt,E.fx.interval),E.fx.tick())}function mt(){return r.setTimeout(function(){ut=void 0}),ut=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=pe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(bt.tweeners[t]||[]).concat(bt.tweeners["*"]),s=0,a=i.length;s<a;s++)if(r=i[s].call(n,t,e))return r}function bt(e,t,n){var r,i,s=0,a=bt.prefilters.length,o=E.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var t=ut||mt(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),s=0,a=l.tweens.length;s<a;s++)l.tweens[s].run(r);return o.notifyWith(e,[l,r,n]),r<1&&a?n:(a||o.notifyWith(e,[l,1,0]),o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:ut||mt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(o.notifyWith(e,[l,1,0]),o.resolveWith(e,[l,t])):o.rejectWith(e,[l,t]),this}}),u=l.props;for(!function(e,t){var n,r,i,s,a;for(n in e)if(i=t[r=ie(n)],s=e[n],Array.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in s=a.expand(s),delete e[r],s)n in e||(e[n]=s[n],t[n]=i);else t[r]=i}(u,l.opts.specialEasing);s<a;s++)if(r=bt.prefilters[s].call(l,e,u,l.opts))return v(r.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return E.map(u,vt,l),v(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),E.fx.timer(E.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}E.Animation=E.extend(bt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,fe.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(Y);for(var n,r=0,i=e.length;r<i;r++)n=e[r],bt.tweeners[n]=bt.tweeners[n]||[],bt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,s,a,o,c,l,u,h="width"in t||"height"in t,d=this,f={},p=e.style,m=e.nodeType&&be(e),g=oe.get(e,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],dt.test(i)){if(delete t[r],s=s||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}f[r]=g&&g[r]||E.style(e,r)}if((c=!E.isEmptyObject(t))||!E.isEmptyObject(f))for(r in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=g&&g.display)&&(l=oe.get(e,"display")),"none"===(u=E.css(e,"display"))&&(l?u=l:(_e([e],!0),l=e.style.display||l,u=E.css(e,"display"),_e([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===E.css(e,"float")&&(c||(d.done(function(){p.display=l}),null==l&&(u=p.display,l="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),c=!1,f)c||(g?"hidden"in g&&(m=g.hidden):g=oe.access(e,"fxshow",{display:l}),s&&(g.hidden=!m),m&&_e([e],!0),d.done(function(){for(r in m||_e([e]),oe.remove(e,"fxshow"),f)E.style(e,r,f[r])})),c=vt(m?g[r]:0,r,d),r in g||(g[r]=c.start,m&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?bt.prefilters.unshift(e):bt.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"===typeof e?E.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return E.fx.off?r.duration=0:"number"!==typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(be).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=E.isEmptyObject(e),s=E.speed(t,n,r),a=function(){var t=bt(this,E.extend({},e),s);(i||oe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=E.timers,a=oe.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ft.test(i)&&r(a[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));!t&&n||E.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=oe.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=E.timers,a=r?r.length:0;for(n.finish=!0,E.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),E.each(["toggle","show","hide"],function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,i){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(gt(t,!0),e,r,i)}}),E.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(ut=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),ut=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ht||(ht=!0,pt())},E.fx.stop=function(){ht=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}})},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var yt,xt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return ee(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"===typeof e.getAttribute?E.prop(e,t,n):(1===s&&E.isXMLDoc(e)||(i=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?yt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&T(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Y);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),yt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var n=xt[t]||E.find.attr;xt[t]=function(e,t,r){var i,s,a=t.toLowerCase();return r||(s=xt[a],xt[a]=i,i=null!=n(e,t,r)?a:null,xt[a]=s),i}});var wt=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;function kt(e){return(e.match(Y)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(Y)||[]}E.fn.extend({prop:function(e,t){return ee(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&E.isXMLDoc(e)||(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):wt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(e){var t,n,r,i,s,a;return v(e)?this.each(function(t){E(this).addClass(e.call(this,t,Ct(this)))}):(t=Et(e)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+kt(r)+" "){for(s=0;s<t.length;s++)i=t[s],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=kt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(e){var t,n,r,i,s,a;return v(e)?this.each(function(t){E(this).removeClass(e.call(this,t,Ct(this)))}):arguments.length?(t=Et(e)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+kt(r)+" "){for(s=0;s<t.length;s++)for(i=t[s];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");a=kt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,s,a=typeof e,o="string"===a||Array.isArray(e);return v(e)?this.each(function(n){E(this).toggleClass(e.call(this,n,Ct(this),t),t)}):"boolean"===typeof t&&o?t?this.addClass(e):this.removeClass(e):(n=Et(e),this.each(function(){if(o)for(s=E(this),i=0;i<n.length;i++)r=n[i],s.hasClass(r)?s.removeClass(r):s.addClass(r);else void 0!==e&&"boolean"!==a||((r=Ct(this))&&oe.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":oe.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+kt(Ct(n))+" ").indexOf(t)>-1)return!0;return!1}});var St=/\r/g;E.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=v(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,E(this).val()):e)?i="":"number"===typeof i?i+="":Array.isArray(i)&&(i=E.map(i,function(e){return null==e?"":e+""})),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=E.valHooks[i.type]||E.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"===typeof(n=i.value)?n.replace(St,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:kt(E.text(e))}},select:{get:function(e){var t,n,r,i=e.options,s=e.selectedIndex,a="select-one"===e.type,o=a?null:[],c=a?s+1:i.length;for(r=s<0?c:a?s:0;r<c;r++)if(((n=i[r]).selected||r===s)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(t=E(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,r,i=e.options,s=E.makeArray(t),a=i.length;a--;)((r=i[a]).selected=E.inArray(E.valHooks.option.get(r),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},g.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Tt=r.location,Nt={guid:Date.now()},It=/\?/;E.parseXML=function(e){var t,n;if(!e||"string"!==typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(i){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||E.error("Invalid XML: "+(n?E.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Pt=/^(?:focusinfocus|focusoutblur)$/,At=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,i){var s,a,o,c,l,u,h,d,p=[n||y],m=f.call(e,"type")?e.type:e,g=f.call(e,"namespace")?e.namespace.split("."):[];if(a=d=o=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!Pt.test(m+E.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),l=m.indexOf(":")<0&&"on"+m,(e=e[E.expando]?e:new E.Event(m,"object"===typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),h=E.event.special[m]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!b(n)){for(c=h.delegateType||m,Pt.test(c+m)||(a=a.parentNode);a;a=a.parentNode)p.push(a),o=a;o===(n.ownerDocument||y)&&p.push(o.defaultView||o.parentWindow||r)}for(s=0;(a=p[s++])&&!e.isPropagationStopped();)d=a,e.type=s>1?c:h.bindType||m,(u=(oe.get(a,"events")||Object.create(null))[e.type]&&oe.get(a,"handle"))&&u.apply(a,t),(u=l&&a[l])&&u.apply&&se(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),t)||!se(n)||l&&v(n[m])&&!b(n)&&((o=n[l])&&(n[l]=null),E.event.triggered=m,e.isPropagationStopped()&&d.addEventListener(m,At),n[m](),e.isPropagationStopped()&&d.removeEventListener(m,At),E.event.triggered=void 0,o&&(n[l]=o)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}});var Ot=/\[\]$/,Mt=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,r){var i;if(Array.isArray(t))E.each(t,function(t,i){n||Ot.test(e)?r(e,i):jt(e+"["+("object"===typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==_(t))r(e,t);else for(i in t)jt(e+"["+i+"]",t[i],n,r)}E.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Lt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!ke.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}}):{name:t.name,value:n.replace(Mt,"\r\n")}}).get()}});var Dt=/%20/g,Bt=/#.*$/,Ft=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ht=/^(?:GET|HEAD)$/,Ut=/^\/\//,qt={},Wt={},Vt="*/".concat("*"),Gt=y.createElement("a");function Yt(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(Y)||[];if(v(n))for(;r=s[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Kt(e,t,n,r){var i={},s=e===Wt;function a(o){var c;return i[o]=!0,E.each(e[o]||[],function(e,o){var l=o(t,n,r);return"string"!==typeof l||s||i[l]?s?!(c=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),c}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Xt(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}Gt.href=Tt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Xt(Xt(e,E.ajaxSettings),t):Xt(E.ajaxSettings,e)},ajaxPrefilter:Yt(qt),ajaxTransport:Yt(Wt),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,i,s,a,o,c,l,u,h,d,f=E.ajaxSetup({},t),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?E(p):E.event,g=E.Deferred(),v=E.Callbacks("once memory"),b=f.statusCode||{},x={},w={},_="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=zt.exec(s);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==l&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)k.always(e[k.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||_;return n&&n.abort(t),C(0,t),this}};if(g.promise(k),f.url=((e||f.url||Tt.href)+"").replace(Ut,Tt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Y)||[""],null==f.crossDomain){c=y.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Gt.protocol+"//"+Gt.host!==c.protocol+"//"+c.host}catch(S){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!==typeof f.data&&(f.data=E.param(f.data,f.traditional)),Kt(qt,f,t,k),l)return k;for(h in(u=E.event&&f.global)&&0===E.active++&&E.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ht.test(f.type),i=f.url.replace(Bt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Dt,"+")):(d=f.url.slice(i.length),f.data&&(f.processData||"string"===typeof f.data)&&(i+=(It.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Ft,"$1"),d=(It.test(i)?"&":"?")+"_="+Nt.guid+++d),f.url=i+d),f.ifModified&&(E.lastModified[i]&&k.setRequestHeader("If-Modified-Since",E.lastModified[i]),E.etag[i]&&k.setRequestHeader("If-None-Match",E.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Vt+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,k,f)||l))return k.abort();if(_="abort",v.add(f.complete),k.done(f.success),k.fail(f.error),n=Kt(Wt,f,t,k)){if(k.readyState=1,u&&m.trigger("ajaxSend",[k,f]),l)return k;f.async&&f.timeout>0&&(o=r.setTimeout(function(){k.abort("timeout")},f.timeout));try{l=!1,n.send(x,C)}catch(S){if(l)throw S;C(-1,S)}}else C(-1,"No Transport");function C(e,t,a,c){var h,d,y,x,w,_=t;l||(l=!0,o&&r.clearTimeout(o),n=void 0,s=c||"",k.readyState=e>0?4:0,h=e>=200&&e<300||304===e,a&&(x=function(e,t,n){for(var r,i,s,a,o=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in o)if(o[i]&&o[i].test(r)){c.unshift(i);break}if(c[0]in n)s=c[0];else{for(i in n){if(!c[0]||e.converters[i+" "+c[0]]){s=i;break}a||(a=i)}s=s||a}if(s)return s!==c[0]&&c.unshift(s),n[s]}(f,k,a)),!h&&E.inArray("script",f.dataTypes)>-1&&E.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),x=function(e,t,n,r){var i,s,a,o,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=s,s=u.shift())if("*"===s)s=c;else if("*"!==c&&c!==s){if(!(a=l[c+" "+s]||l["* "+s]))for(i in l)if((o=i.split(" "))[1]===s&&(a=l[c+" "+o[0]]||l["* "+o[0]])){!0===a?a=l[i]:!0!==l[i]&&(s=o[0],u.unshift(o[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(S){return{state:"parsererror",error:a?S:"No conversion from "+c+" to "+s}}}return{state:"success",data:t}}(f,x,k,h),h?(f.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(E.lastModified[i]=w),(w=k.getResponseHeader("etag"))&&(E.etag[i]=w)),204===e||"HEAD"===f.type?_="nocontent":304===e?_="notmodified":(_=x.state,d=x.data,h=!(y=x.error))):(y=_,!e&&_||(_="error",e<0&&(e=0))),k.status=e,k.statusText=(t||_)+"",h?g.resolveWith(p,[d,_,k]):g.rejectWith(p,[k,_,y]),k.statusCode(b),b=void 0,u&&m.trigger(h?"ajaxSuccess":"ajaxError",[k,f,h?d:y]),v.fireWith(p,[k,_]),u&&(m.trigger("ajaxComplete",[k,f]),--E.active||E.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,t){E[t]=function(e,n,r,i){return v(n)&&(i=i||r,r=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:i,data:n,success:r},E.isPlainObject(e)&&e))}}),E.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return v(e)?this.each(function(t){E(this).wrapInner(e.call(this,t))}):this.each(function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v(e);return this.each(function(n){E(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Qt={0:200,1223:204},$t=E.ajaxSettings.xhr();g.cors=!!$t&&"withCredentials"in $t,g.ajax=$t=!!$t,E.ajaxTransport(function(e){var t,n;if(g.cors||$t&&!e.crossDomain)return{send:function(i,s){var a,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)o[a]=e.xhrFields[a];for(a in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)o.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=n=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!==typeof o.status?s(0,"error"):s(o.status,o.statusText):s(Qt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!==typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),n=o.onerror=o.ontimeout=t("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&r.setTimeout(function(){t&&n()})},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(c){if(t)throw c}},abort:function(){t&&t()}}}),E.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}});var Jt=[],Zt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||E.expando+"_"+Nt.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,n){var i,s,a,o=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Zt,"$1"+i):!1!==e.jsonp&&(e.url+=(It.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||E.error(i+" was not called"),a[0]},e.dataTypes[0]="json",s=r[i],r[i]=function(){a=arguments},n.always(function(){void 0===s?E(r).removeProp(i):r[i]=s,e[i]&&(e.jsonpCallback=t.jsonpCallback,Jt.push(i)),a&&v(s)&&s(a[0]),a=s=void 0}),"script"}),g.createHTMLDocument=function(){var e=y.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),E.parseHTML=function(e,t,n){return"string"!==typeof e?[]:("boolean"===typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(r)):t=y),s=!n&&[],(i=z.exec(e))?[t.createElement(i[1])]:(i=Pe([e],t,s),s&&s.length&&E(s).remove(),E.merge([],i.childNodes)));var r,i,s},E.fn.load=function(e,t,n){var r,i,s,a=this,o=e.indexOf(" ");return o>-1&&(r=kt(e.slice(o)),e=e.slice(0,o)),v(t)?(n=t,t=void 0):t&&"object"===typeof t&&(i="POST"),a.length>0&&E.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){s=arguments,a.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,function(t){return e===t.elem}).length},E.offset={setOffset:function(e,t,n){var r,i,s,a,o,c,l=E.css(e,"position"),u=E(e),h={};"static"===l&&(e.style.position="relative"),o=u.offset(),s=E.css(e,"top"),c=E.css(e,"left"),("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1?(a=(r=u.position()).top,i=r.left):(a=parseFloat(s)||0,i=parseFloat(c)||0),v(t)&&(t=t.call(e,n,E.extend({},o))),null!=t.top&&(h.top=t.top-o.top+a),null!=t.left&&(h.left=t.left-o.left+i),"using"in t?t.using.call(e,h):u.css(h)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){E.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),i.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-E.css(r,"marginTop",!0),left:t.left-i.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||me})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;E.fn[e]=function(r){return ee(this,function(e,r,i){var s;if(b(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===i)return s?s[t]:e[r];s?s.scrollTo(n?s.pageXOffset:i,n?i:s.pageYOffset):e[r]=i},e,r,arguments.length)}}),E.each(["top","left"],function(e,t){E.cssHooks[t]=Je(g.pixelPosition,function(e,n){if(n)return n=$e(e,t),Ge.test(n)?E(e).position()[t]+"px":n})}),E.each({Height:"height",Width:"width"},function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){E.fn[r]=function(i,s){var a=arguments.length&&(n||"boolean"!==typeof i),o=n||(!0===i||!0===s?"margin":"border");return ee(this,function(t,n,i){var s;return b(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?E.css(t,n,o):E.style(t,n,i,o)},t,a?i:void 0,a)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,r,i;if("string"===typeof t&&(n=e[t],t=e,e=n),v(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||E.guid++,i},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=T,E.isFunction=v,E.isWindow=b,E.camelCase=ie,E.type=_,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},void 0===(n=function(){return E}.apply(t,[]))||(e.exports=n);var tn=r.jQuery,nn=r.$;return E.noConflict=function(e){return r.$===E&&(r.$=nn),e&&r.jQuery===E&&(r.jQuery=tn),E},"undefined"===typeof i&&(r.jQuery=r.$=E),E})},8696:(e,t,n)=>{var r=n(4484),i=function(e,t){this.lineIndex=0,this.lines=e,this.multilineVars=t,this.skipWhiteSpace=function(e){for(var t=0;t<e.length;t++)if(!this.isWhiteSpace(e[t]))return t;return e.length};var n=function(e,t){return t>=e.length};this.eatWhiteSpace=function(e,t){for(var n=t;n<e.length;n++)if(!this.isWhiteSpace(e[n]))return n-t;return n-t},this.getKeyPitch=function(e){var t=this.skipWhiteSpace(e);if(n(e,t))return{len:0};switch(e[t]){case"A":return{len:t+1,token:"A"};case"B":return{len:t+1,token:"B"};case"C":return{len:t+1,token:"C"};case"D":return{len:t+1,token:"D"};case"E":return{len:t+1,token:"E"};case"F":return{len:t+1,token:"F"};case"G":return{len:t+1,token:"G"}}return{len:0}},this.getSharpFlat=function(e){if("bass"===e)return{len:0};switch(e[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(e){var t=function(e,t){for(;t<e.length&&(e[t]>="a"&&e[t]<="z"||e[t]>="A"&&e[t]<="Z");)t++;return t},r=this.skipWhiteSpace(e);if(n(e,r))return{len:0};var i=e.substring(r,r+3).toLowerCase();switch((i.length>1&&" "===i[1]||"^"===i[1]||"_"===i[1]||"="===i[1])&&(i=i[0]),i){case"mix":return{len:t(e,r),token:"Mix"};case"dor":return{len:t(e,r),token:"Dor"};case"phr":return{len:t(e,r),token:"Phr"};case"lyd":return{len:t(e,r),token:"Lyd"};case"loc":return{len:t(e,r),token:"Loc"};case"aeo":case"min":case"m":return{len:t(e,r),token:"m"};case"maj":case"ion":return{len:t(e,r),token:""}}return{len:0}},this.getClef=function(e,t){var i=e,s=this.skipWhiteSpace(e);if(n(e,s))return{len:0};var a=!1,o=e.substring(s);if(r.startsWith(o,"clef=")&&(a=!0,o=o.substring(5),s+=5),0===o.length&&a)return{len:s+5,warn:"No clef specified: "+i};var c=this.skipWhiteSpace(o);if(n(o,c))return{len:0};c>0&&(s+=c,o=o.substring(c));var l=null;if(r.startsWith(o,"treble"))l="treble";else if(r.startsWith(o,"bass3"))l="bass3";else if(r.startsWith(o,"bass"))l="bass";else if(r.startsWith(o,"tenor"))l="tenor";else if(r.startsWith(o,"alto2"))l="alto2";else if(r.startsWith(o,"alto1"))l="alto1";else if(r.startsWith(o,"alto"))l="alto";else if(!t&&a&&r.startsWith(o,"none"))l="none";else if(r.startsWith(o,"perc"))l="perc";else if(!t&&a&&r.startsWith(o,"C"))l="tenor";else if(!t&&a&&r.startsWith(o,"F"))l="bass";else{if(t||!a||!r.startsWith(o,"G"))return{len:s+5,warn:"Unknown clef specified: "+i};l="treble"}return o=o.substring(l.length),(c=this.isMatch(o,"+8"))>0?l+="+8":(c=this.isMatch(o,"-8"))>0&&(l+="-8"),{len:s+l.length,token:l,explicit:a}},this.getBarLine=function(e,t){switch(e[t]){case"]":switch(e[++t]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return e[++t]>="1"&&e[t]<="9"||'"'===e[t]?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}break;case":":switch(e[++t]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(e[++t]){case"]":return"|"===e[++t]&&":"===e[++t]?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};case"|":return":"===e[++t]?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}break;default:return{len:1,warn:"Unknown bar symbol"}}break;case"[":if("|"!==e[++t])return e[t]>="1"&&e[t]<="9"||'"'===e[t]?{len:1,token:"bar_invisible"}:{len:0};switch(e[++t]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}break;case"|":switch(e[++t]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return":"===e[++t]?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var n=0;":"===e[t+n];)n++;return{len:1+n,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])<0)return{len:n,token:e.substring(0,n)};return{len:n,token:e}},this.getToken=function(e,t,n){for(var r=t;r<n&&!this.isWhiteSpace(e[r]);)r++;return e.substring(t,r)},this.isMatch=function(e,t){var i=this.skipWhiteSpace(e);return n(e,i)?0:r.startsWith(e.substring(i),t)?i+t.length:0},this.getPitchFromTokens=function(e){var t={};if(t.position={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11}[e[0].token],void 0===t.position)return{warn:"Pitch expected. Found: "+e[0].token};for(e.shift();e.length;)switch(e[0].token){case",":t.position-=7,e.shift();break;case"'":t.position+=7,e.shift();break;default:return t}return t},this.getKeyAccidentals2=function(e){for(var t;e.length>0;){var n;if("^"===e[0].token){if(n="sharp",e.shift(),0===e.length)return{accs:t,warn:"Expected note name after "+n};switch(e[0].token){case"^":n="dblsharp",e.shift();break;case"/":n="quartersharp",e.shift()}}else if("="===e[0].token)n="natural",e.shift();else{if("_"!==e[0].token)return{accs:t};if(n="flat",e.shift(),0===e.length)return{accs:t,warn:"Expected note name after "+n};switch(e[0].token){case"_":n="dblflat",e.shift();break;case"/":n="quarterflat",e.shift()}}if(0===e.length)return{accs:t,warn:"Expected note name after "+n};switch(e[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":void 0===t&&(t=[]),t.push({acc:n,note:e[0].token[0]}),1===e[0].token.length?e.shift():e[0].token=e[0].token.substring(1);break;default:return{accs:t,warn:"Expected note name after "+n+" Found: "+e[0].token}}}return{accs:t}},this.getKeyAccidental=function(e){var t={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},r=this.skipWhiteSpace(e);if(n(e,r))return{len:0};var i=null;switch(e[r]){case"^":case"_":case"=":i=e[r];break;default:return{len:0}}if(r++,n(e,r))return{len:1,warn:"Expected note name after accidental"};switch(e[r]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:r+1,token:{acc:t[i],note:e[r]}};case"^":case"_":case"/":if(i+=e[r],r++,n(e,r))return{len:2,warn:"Expected note name after accidental"};switch(e[r]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:r+1,token:{acc:t[i],note:e[r]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(e){return" "===e||"\t"===e||"\x12"===e},this.getMeat=function(e,t,n){var r=e.indexOf("%",t);for(r>=0&&r<n&&(n=r);t<n&&(" "===e[t]||"\t"===e[t]||"\x12"===e[t]);)t++;for(;t<n&&(" "===e[n-1]||"\t"===e[n-1]||"\x12"===e[n-1]);)n--;return{start:t,end:n}};var i=function(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"},s=function(e){return e>="0"&&e<="9"};this.tokenize=function(e,t,n,r){var a=this.getMeat(e,t,n);t=a.start,n=a.end;for(var o,c=[];t<n;){if('"'===e[t]){for(o=t+1;o<n&&'"'!==e[o];)o++;c.push({type:"quote",token:e.substring(t+1,o),start:t+1,end:o}),o++}else if(i(e[t])){if(o=t+1,r)for(;o<n&&!this.isWhiteSpace(e[o]);)o++;else for(;o<n&&i(e[o]);)o++;c.push({type:"alpha",token:e.substring(t,o),continueId:s(e[o]),start:t,end:o}),t=o+1}else if("."===e[t]&&s(e[o+1])){o=t+1;for(var l;o<n&&s(e[o]);)o++;l=parseFloat(e.substring(t,o)),c.push({type:"number",token:e.substring(t,o),intt:null,floatt:l,continueId:i(e[o]),start:t,end:o}),t=o+1}else if(s(e[t])||"-"===e[t]&&s(e[o+1])){o=t+1;for(var u,h=null;o<n&&s(e[o]);)o++;if("."===e[o]&&s(e[o+1]))for(o++;o<n&&s(e[o]);)o++;else h=parseInt(e.substring(t,o));u=parseFloat(e.substring(t,o)),c.push({type:"number",token:e.substring(t,o),intt:h,floatt:u,continueId:i(e[o]),start:t,end:o}),t=o+1}else" "===e[t]||"\t"===e[t]||c.push({type:"punct",token:e[t],start:t,end:t+1}),o=t+1;t=o}return c},this.getVoiceToken=function(e,t,n){for(var r=t;r<n&&this.isWhiteSpace(e[r])||"="===e[r];)r++;if('"'===e[r]){var i=e.indexOf('"',r+1);return-1===i||i>=n?{len:1,err:"Missing close quote"}:{len:i-t+1,token:this.translateString(e.substring(r+1,i))}}for(var s=r;s<n&&!this.isWhiteSpace(e[s])&&"="!==e[s];)s++;return{len:s-t+1,token:e.substring(r,s)}};var a={"`a":"\xe0","'a":"\xe1","^a":"\xe2","~a":"\xe3",'"a':"\xe4",oa:"\xe5",aa:"\xe5","=a":"\u0101",ua:"\u0103",";a":"\u0105","`e":"\xe8","'e":"\xe9","^e":"\xea",'"e':"\xeb","=e":"\u0113",ue:"\u0115",";e":"\u0119",".e":"\u0117","`i":"\xec","'i":"\xed","^i":"\xee",'"i':"\xef","=i":"\u012b",ui:"\u012d",";i":"\u012f","`o":"\xf2","'o":"\xf3","^o":"\xf4","~o":"\xf5",'"o':"\xf6","=o":"\u014d",uo:"\u014f","/o":"\xf8","`u":"\xf9","'u":"\xfa","^u":"\xfb","~u":"\u0169",'"u':"\xfc",ou:"\u016f","=u":"\u016b",uu:"\u016d",";u":"\u0173","`A":"\xc0","'A":"\xc1","^A":"\xc2","~A":"\xc3",'"A':"\xc4",oA:"\xc5",AA:"\xc5","=A":"\u0100",uA:"\u0102",";A":"\u0104","`E":"\xc8","'E":"\xc9","^E":"\xca",'"E':"\xcb","=E":"\u0112",uE:"\u0114",";E":"\u0118",".E":"\u0116","`I":"\xcc","'I":"\xcd","^I":"\xce","~I":"\u0128",'"I':"\xcf","=I":"\u012a",uI:"\u012c",";I":"\u012e",".I":"\u0130","`O":"\xd2","'O":"\xd3","^O":"\xd4","~O":"\xd5",'"O':"\xd6","=O":"\u014c",uO:"\u014e","/O":"\xd8","`U":"\xd9","'U":"\xda","^U":"\xdb","~U":"\u0168",'"U':"\xdc",oU:"\u016e","=U":"\u016a",uU:"\u016c",";U":"\u0172",ae:"\xe6",AE:"\xc6",oe:"\u0153",OE:"\u0152",ss:"\xdf","'c":"\u0107","^c":"\u0109",uc:"\u010d",cc:"\xe7",".c":"\u010b",cC:"\xc7","'C":"\u0106","^C":"\u0108",uC:"\u010c",".C":"\u010a","~N":"\xd1","~n":"\xf1","=s":"\u0161",vs:"\u0161",DH:"\xd0",dh:"\xf0",HO:"\u0150",Ho:"\u0151",HU:"\u0170",Hu:"\u0171","'Y":"\xdd","'y":"\xfd","^Y":"\u0176","^y":"\u0177",'"Y':"\u0178",'"y':"\xff",vS:"\u0160",vZ:"\u017d",vz:"\u017e"},o={"#":"\u266f",b:"\u266d","=":"\u266e"},c={201:"\u266f",202:"\u266d",203:"\u266e",241:"\xa1",242:"\xa2",252:"a",262:"2",272:"o",302:"\xc2",312:"\xca",322:"\xd2",332:"\xda",342:"\xe2",352:"\xea",362:"\xf2",372:"\xfa",243:"\xa3",253:"\xab",263:"3",273:"\xbb",303:"\xc3",313:"\xcb",323:"\xd3",333:"\xdb",343:"\xe3",353:"\xeb",363:"\xf3",373:"\xfb",244:"\xa4",254:"\xac",264:"  \u0301",274:"1\u20444",304:"\xc4",314:"\xcc",324:"\xd4",334:"\xdc",344:"\xe4",354:"\xec",364:"\xf4",374:"\xfc",245:"\xa5",255:"-",265:"\u03bc",275:"1\u20442",305:"\xc5",315:"\xcd",325:"\xd5",335:"\xdd",345:"\xe5",355:"\xed",365:"\xf5",375:"\xfd",246:"\xa6",256:"\xae",266:"\xb6",276:"3\u20444",306:"\xc6",316:"\xce",326:"\xd6",336:"\xde",346:"\xe6",356:"\xee",366:"\xf6",376:"\xfe",247:"\xa7",257:" \u0304",267:"\xb7",277:"\xbf",307:"\xc7",317:"\xcf",327:"\xd7",337:"\xdf",347:"\xe7",357:"\xef",367:"\xf7",377:"\xff",250:" \u0308",260:"\xb0",270:" \u0327",300:"\xc0",310:"\xc8",320:"\xd0",330:"\xd8",340:"\xe0",350:"\xe8",360:"\xf0",370:"\xf8",251:"\xa9",261:"\xb1",271:"1",301:"\xc1",311:"\xc9",321:"\xd1",331:"\xd9",341:"\xe1",351:"\xe9",361:"\xf1",371:"\xf9"};this.translateString=function(e){var t=e.split("\\");if(1===t.length)return e;var n=null;return t.forEach(function(e){if(null===n)n=e;else{var t=a[e.substring(0,2)];void 0!==t?n+=t+e.substring(2):void 0!==(t=c[e.substring(0,3)])?n+=t+e.substring(3):(t=o[e.substring(0,1)],n+=void 0!==t?t+e.substring(1):"\\"+e)}}),n},this.getNumber=function(e,t){for(var n=0;t<e.length;)switch(e[t]){case"0":n*=10,t++;break;case"1":n=10*n+1,t++;break;case"2":n=10*n+2,t++;break;case"3":n=10*n+3,t++;break;case"4":n=10*n+4,t++;break;case"5":n=10*n+5,t++;break;case"6":n=10*n+6,t++;break;case"7":n=10*n+7,t++;break;case"8":n=10*n+8,t++;break;case"9":n=10*n+9,t++;break;default:return{num:n,index:t}}return{num:n,index:t}},this.getFraction=function(e,t){var n=1,r=1;if("/"!==e[t]){var i=this.getNumber(e,t);n=i.num,t=i.index}if("/"===e[t]){if("/"===e[++t]){for(var s=.5;"/"===e[t++];)s/=2;return{value:n*s,index:t-1}}var a=t,o=this.getNumber(e,t);0===o.num&&a===t&&(o.num=2),0!==o.num&&(r=o.num),t=o.index}return{value:n/r,index:t}},this.theReverser=function(e){return r.endsWith(e,", The")?"The "+e.substring(0,e.length-5):r.endsWith(e,", A")?"A "+e.substring(0,e.length-3):e},this.stripComment=function(e){var t=e.indexOf("%");return t>=0?r.strip(e.substring(0,t)):r.strip(e)},this.getInt=function(e){var t=parseInt(e);if(isNaN(t))return{digits:0};var n=""+t;return{value:t,digits:e.indexOf(n)+n.length}},this.getFloat=function(e){var t=parseFloat(e);if(isNaN(t))return{digits:0};var n=""+t;return{value:t,digits:e.indexOf(n)+n.length}},this.getMeasurement=function(e){if(0===e.length)return{used:0};var t=1,n="";if("-"===e[0].token)e.shift(),n="-",t++;else if("number"!==e[0].type)return{used:0};if(n+=e.shift().token,0===e.length)return{used:1,value:parseInt(n)};var r=e.shift();if("."===r.token){if(t++,0===e.length)return{used:t,value:parseInt(n)};if("number"===e[0].type&&(n=n+"."+(r=e.shift()).token,t++,0===e.length))return{used:t,value:parseFloat(n)};r=e.shift()}switch(r.token){case"pt":case"px":return{used:t+1,value:parseFloat(n)};case"cm":return{used:t+1,value:parseFloat(n)/2.54*72};case"in":return{used:t+1,value:72*parseFloat(n)};default:return e.unshift(r),{used:t,value:parseFloat(n)}}};var l=function(e){return e=(e=e.replace(/\\n/g,"\n")).replace(/\\"/g,'"')};this.getBrackettedSubstring=function(e,t,n,r){for(var i=r||e[t],s=t+1,a=!1;s<e.length&&(a||e[s]!==i);)a="\\"===e[s],++s;return e[s]===i?[s-t+1,l(e.substring(t+1,s)),!0]:((s=t+n)>e.length-1&&(s=e.length-1),[s-t+1,l(e.substring(t+1,s)),!1])}};i.prototype.peekLine=function(){return this.lines[this.lineIndex]},i.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var e=this.lines[this.lineIndex];return this.lineIndex++,e}return null},e.exports=i},8706:(e,t,n)=>{var r=n(2119);e.exports=function(e,t,n){var i,s=t.y;if(t.lane){var a=.25*t.dim.font.size;s+=(t.dim.font.size+a)*t.lane}t.dim?(i=t.dim).attr.class=t.klass:i=e.controller.getFontAndAttr.calc(t.type,t.klass),t.anchor&&(i.attr["text-anchor"]=t.anchor),i.attr.x=t.x,i.attr.y=s,t.centerVertically||(i.attr.y+=i.font.size),"debugfont"===t.type&&(console.log("Debug msg: "+t.text),i.attr.stroke="#ff0000"),t.cursor&&(i.attr.cursor=t.cursor);var o=t.text.replace(/\n\n/g,"\n \n");o=o.replace(/^\n/,"\xa0\n"),i.font.box&&(n||e.paper.openGroup({klass:i.attr.class,fill:e.foregroundColor,"data-name":t.name}),"end"===i.attr["text-anchor"]?i.attr.x-=i.font.padding:"start"===i.attr["text-anchor"]&&(i.attr.x+=i.font.padding),i.attr.y+=i.font.padding,delete i.attr.class),t.noClass&&delete i.attr.class,i.attr.x=r(i.attr.x),i.attr.y=r(i.attr.y),t.name&&(i.attr["data-name"]=t.name);var c=e.paper.text(o,i.attr);if(i.font.box){var l=c.getBBox(),u=0;"middle"===i.attr["text-anchor"]?u=l.width/2+i.font.padding:"end"===i.attr["text-anchor"]&&(u=l.width+2*i.font.padding);var h=0;t.centerVertically&&(h=l.height-i.font.padding),e.paper.rect({"data-name":"box",x:Math.round(t.x-u),y:Math.round(s-h),width:Math.round(l.width+2*i.font.padding),height:Math.round(l.height+2*i.font.padding)}),n||(c=e.paper.closeGroup())}return c}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9024:(e,t,n)=>{var r=n(1920),i=n(5645),s=function(e,t,n){this.type="TempoElement",this.tempo=e,this.tempo.type="tempo",this.tuneNumber=t,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(n,e,t))};s.prototype.setX=function(e){this.x=e},s.prototype.createNote=function(e,t,n){var s,a,o,c=.75,l=t.duration[0],u=new r(t,l,1,"tempo",n);l<=1/32?(o="noteheads.quarter",a="flags.u32nd",s=0):l<=1/16?(o="noteheads.quarter",a="flags.u16th",s=0):l<=3/32?(o="noteheads.quarter",a="flags.u16nd",s=1):l<=1/8?(o="noteheads.quarter",a="flags.u8th",s=0):l<=3/16?(o="noteheads.quarter",a="flags.u8th",s=1):l<=1/4?(o="noteheads.quarter",s=0):l<=3/8?(o="noteheads.quarter",s=1):l<=.5?(o="noteheads.half",s=0):l<=3/4?(o="noteheads.half",s=1):l<=1?(o="noteheads.whole",s=0):l<=1.5?(o="noteheads.whole",s=1):l<=2?(o="noteheads.dbl",s=0):(o="noteheads.dbl",s=1);var h,d=e(u,o,{verticalPos:0},{dir:"up",flag:a,dot:s,scale:c}).notehead;if(u.addHead(d),"noteheads.whole"!==o&&"noteheads.dbl"!==o){var f=d.dx+d.w;h=new i(null,f,0,.25,{type:"stem",pitch2:3.75,linewidth:-.6}),u.addRight(h)}return u},e.exports=s},9064:(e,t,n)=>{var r=n(2549),i=1;function s(e,t,n,r){if(e.specialY[n]){var s=e.specialY[n];r&&(s*=r),e.top+=s+i,t[n]=e.top}}function a(e,t,n){var r,i;for(r=0;r<t.children.length;r++)o(e,i=t.children[r],n);for(r=0;r<t.otherchildren.length;r++)switch((i=t.otherchildren[r]).type){case"CrescendoElem":c(e,i);break;case"DynamicDecoration":l(e,i);break;case"EndingElem":u(e,i)}}function o(e,t,n){for(var r=0;r<t.children.length;r++){var i=t.children[r];for(var s in t.specialY)t.specialY.hasOwnProperty(s)&&i[s]&&(i.pitch=e[s],void 0===i.top&&("TempoElement"===i.type?h(e,i):d(e,i,n),t.pushTop(i.top),t.pushBottom(i.bottom)))}}function c(e,t){t.dynamicHeightAbove?t.pitch=e.dynamicHeightAbove:t.pitch=e.dynamicHeightBelow}function l(e,t){t.volumeHeightAbove?t.pitch=e.volumeHeightAbove:t.pitch=e.volumeHeightBelow}function u(e,t){t.pitch=e.endingHeightAbove-2}function h(e,t){if(t.pitch=e.tempoHeightAbove,t.top=e.tempoHeightAbove,t.bottom=e.tempoHeightAbove,t.note){var n=t.pitch-t.totalHeightInPitches+1;t.note.top=n,t.note.bottom=n;for(var r=0;r<t.note.children.length;r++){var i=t.note.children[r];i.top+=n,i.bottom+=n,i.pitch+=n,void 0!==i.pitch2&&(i.pitch2+=n)}}}function d(e,t,n){switch(t.type){case"part":t.top=e.partHeightAbove+t.height,t.bottom=e.partHeightAbove;break;case"text":case"chord":t.chordHeightAbove?(t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove):(t.top=e.chordHeightBelow,t.bottom=e.chordHeightBelow);break;case"lyric":t.lyricHeightAbove?(t.top=e.lyricHeightAbove,t.bottom=e.lyricHeightAbove):(t.top=e.lyricHeightBelow+n.vocal/r.STEP,t.bottom=e.lyricHeightBelow+n.vocal/r.STEP,t.pitch-=n.vocal/r.STEP);break;case"debug":t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove}void 0!==t.pitch&&void 0!==t.top||console.error("RelativeElement position not set.",t.type,t.pitch,t.top,e)}e.exports=function(e,t){for(var n,o=0;o<t.staffs.length;o++){var c=t.staffs[o],l={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(e.showDebug&&e.showDebug.indexOf("box")>=0&&(c.originalTop=c.top,c.originalBottom=c.bottom),s(c,l,"lyricHeightAbove"),s(c,l,"chordHeightAbove",c.specialY.chordLines.above),c.specialY.endingHeightAbove&&(c.specialY.chordHeightAbove?c.top+=2:c.top+=c.specialY.endingHeightAbove+i,l.endingHeightAbove=c.top),c.specialY.dynamicHeightAbove&&c.specialY.volumeHeightAbove?(c.top+=Math.max(c.specialY.dynamicHeightAbove,c.specialY.volumeHeightAbove)+i,l.dynamicHeightAbove=c.top,l.volumeHeightAbove=c.top):(s(c,l,"dynamicHeightAbove"),s(c,l,"volumeHeightAbove")),s(c,l,"partHeightAbove"),s(c,l,"tempoHeightAbove"),c.specialY.lyricHeightBelow&&(c.specialY.lyricHeightBelow+=e.spacing.vocal/r.STEP,l.lyricHeightBelow=c.bottom,c.bottom-=c.specialY.lyricHeightBelow+i),c.specialY.chordHeightBelow){l.chordHeightBelow=c.bottom;var u=c.specialY.chordHeightBelow;c.specialY.chordLines.below&&(u*=c.specialY.chordLines.below),c.bottom-=u+i}c.specialY.volumeHeightBelow&&c.specialY.dynamicHeightBelow?(l.volumeHeightBelow=c.bottom,l.dynamicHeightBelow=c.bottom,c.bottom-=Math.max(c.specialY.volumeHeightBelow,c.specialY.dynamicHeightBelow)+i):c.specialY.volumeHeightBelow?(l.volumeHeightBelow=c.bottom,c.bottom-=c.specialY.volumeHeightBelow+i):c.specialY.dynamicHeightBelow&&(l.dynamicHeightBelow=c.bottom,c.bottom-=c.specialY.dynamicHeightBelow+i),e.showDebug&&e.showDebug.indexOf("box")>=0&&(c.positionY=l);for(var h=0;h<c.voices.length;h++){a(l,t.voices[c.voices[h]],e.spacing)}if(void 0!==n){var d=n+(c.top-10),f=e.spacing.systemStaffSeparation/r.STEP-d;f>0&&(c.top+=f)}n=2-c.bottom}}},9129:e=>{var t=function(e,t){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=e,this.voicetotal=t,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};t.prototype.addChild=function(e){if("bar"===e.type){for(var t=!0,n=0;t&&n<this.children.length;n++)this.children[n].type.indexOf("staff-extra")<0&&"tempo"!==this.children[n].type&&(t=!1);t||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=e,this.setRange(e)},t.prototype.setLimit=function(e,t){var n=t.specialY;n||(n=t),n[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],n[e]):this.specialY[e]=n[e])},t.prototype.adjustRange=function(e){void 0!==e.bottom&&(this.bottom=Math.min(this.bottom,e.bottom)),void 0!==e.top&&(this.top=Math.max(this.top,e.top))},t.prototype.setRange=function(e){this.adjustRange(e),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)},t.prototype.addOther=function(e){this.otherchildren.push(e),this.setRange(e)},t.prototype.addBeam=function(e){this.beams.push(e)},t.prototype.setWidth=function(e){this.w=e},e.exports=t},9136:e=>{e.exports='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">\n  <g>\n    <rect width="8.23" height="25"/>\n    <rect width="8.23" height="25" x="17"/>\n  </g>\n</svg>\n'},9197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.default)(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach(function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}}),i})};var r,i=n(3534),s=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},9202:(e,t,n)=>{var r=n(363),i=n(8706),s=n(1588),a=n(2119);e.exports=function(e,t,n,o,c){void 0===t.pitch&&window.console.error("Ending Element y-coordinate not set.");var l=a(e.calcY(t.pitch)),u="";t.anchor1&&(n=a(t.anchor1.x+t.anchor1.w),u+=r("M %f %f L %f %f ",n,l,n,a(l+20))),t.anchor2&&(o=a(t.anchor2.x),u+=r("M %f %f L %f %f ",o,l,o,a(l+20))),u+=r("M %f %f L %f %f ",n,l,o,l),e.paper.openGroup({klass:e.controller.classes.generate("ending"),"data-name":"ending"}),s(e,{path:u,stroke:e.foregroundColor,fill:e.foregroundColor,"data-name":"line"}),t.anchor1&&i(e,{x:a(n+5),y:a(e.calcY(t.pitch-.5)),text:t.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:t.text});var h=e.paper.closeGroup();return c.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},h),[h]}},9401:(e,t,n)=>{var r=n(3861);function i(e){return e.stemsUp}e.exports=function(e){if(e.anchor1&&e.anchor2){e.hasBeam=!!e.anchor1.parent.beam&&e.anchor1.parent.beam===e.anchor2.parent.beam;var t=e.anchor1.parent.beam;if(!e.hasBeam||t.elems[0]===e.anchor1.parent&&t.elems[t.elems.length-1]===e.anchor2.parent||(e.hasBeam=!1),e.hasBeam){var n=i(t)?e.anchor1.x+e.anchor1.w:e.anchor1.x;e.yTextPos=function(e,t,n){if(0===n.beams.length)return 0;n=n.beams[0];var i=e+(t-e)/2;return r(n.startX,n.startY,n.endX,n.endY,i)}(n,e.anchor2.x,t),e.yTextPos+=i(t)?3:-2,e.xTextPos=(o=n,c=e.anchor2.x,o+(c-o)/2),e.top=e.yTextPos+1,e.bottom=e.yTextPos-2,i(t)&&(e.endingHeightAbove=4)}else{e.startNote=Math.max(e.anchor1.parent.top,9)+4,e.endNote=Math.max(e.anchor2.parent.top,9)+4,"rest"===e.anchor1.parent.type&&"rest"!==e.anchor2.parent.type?e.startNote=e.endNote:"rest"===e.anchor2.parent.type&&"rest"!==e.anchor1.parent.type&&(e.endNote=e.startNote);for(var s=0,a=0;a<e.middleElems.length;a++)s=Math.max(s,e.middleElems[a].top);((s+=4)>e.startNote||s>e.endNote)&&(e.startNote=s,e.endNote=s),e.flatBeams&&(e.startNote=Math.max(e.startNote,e.endNote),e.endNote=Math.max(e.startNote,e.endNote)),e.yTextPos=e.startNote+(e.endNote-e.startNote)/2,e.xTextPos=e.anchor1.x+(e.anchor2.x+e.anchor2.w-e.anchor1.x)/2,e.top=e.yTextPos+1}}var o,c;delete e.middleElems,delete e.flatBeams}},9427:(e,t,n)=>{var r=n(4484),i=n(5980),s=n(2518),a={};!function(){var e,t,n,o;a.initialize=function(r,i,s,a,c){e=r,t=i,n=s,o=c},a.standardKey=function(e,t,r,i){return s.keySignature(n,e,t,r,i)};var c={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},l=function(e,t){var n=c[e];return(n?n.mid:0)+t};a.fixClef=function(e){var t=c[e.type];t&&(e.clefPos=t.pitch,e.type=t.clef)},a.deepCopyKey=function(e){var t={accidentals:[],root:e.root,acc:e.acc,mode:e.mode};return e.accidentals.forEach(function(e){t.accidentals.push(r.clone(e))}),t};var u={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};a.addPosToKey=function(e,t){var n=e.verticalPos;t.accidentals.forEach(function(e){var t=u[e.note];t-=n,e.verticalPos=t}),t.impliedNaturals&&t.impliedNaturals.forEach(function(e){var t=u[e.note];t-=n,e.verticalPos=t}),n<-10?(t.accidentals.forEach(function(e){e.verticalPos-=7,(e.verticalPos>=11||10===e.verticalPos&&"flat"===e.acc)&&(e.verticalPos-=7),"A"===e.note&&"sharp"===e.acc&&(e.verticalPos-=7),"G"!==e.note&&"F"!==e.note||"flat"!==e.acc||(e.verticalPos-=7)}),t.impliedNaturals&&t.impliedNaturals.forEach(function(e){e.verticalPos-=7,(e.verticalPos>=11||10===e.verticalPos&&"flat"===e.acc)&&(e.verticalPos-=7),"A"===e.note&&"sharp"===e.acc&&(e.verticalPos-=7),"G"!==e.note&&"F"!==e.note||"flat"!==e.acc||(e.verticalPos-=7)})):n<-4?(t.accidentals.forEach(function(e){e.verticalPos-=7,-8!==n||"f"!==e.note&&"g"!==e.note||"sharp"!==e.acc||(e.verticalPos-=7)}),t.impliedNaturals&&t.impliedNaturals.forEach(function(e){e.verticalPos-=7,-8!==n||"f"!==e.note&&"g"!==e.note||"sharp"!==e.acc||(e.verticalPos-=7)})):n>=7&&(t.accidentals.forEach(function(e){e.verticalPos+=7}),t.impliedNaturals&&t.impliedNaturals.forEach(function(e){e.verticalPos+=7}))},a.fixKey=function(e,t){var n=r.clone(t);return a.addPosToKey(e,n),n};var h=function(e){var t=0,n=e[t++];"^"!==n&&"_"!==n||(n=e[t++]);var r=u[n];for(void 0===r&&(r=6);t<e.length;t++)if(","===e[t])r-=7;else{if("'"!==e[t])break;r+=7}return{mid:r-6,str:e.substring(t)}};a.parseKey=function(r,s){0===r.length&&(r="none");var o=e.tokenize(r,0,r.length),c={};if(0===o.length)return t("Must pass in key signature.",r,0),c;switch(o[0].token){case"HP":i.addDirective("bagpipes"),n.key={root:"HP",accidentals:[],acc:"",mode:""},c.foundKey=!0,o.shift();break;case"Hp":i.addDirective("bagpipes"),n.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},c.foundKey=!0,o.shift();break;case"none":n.key={root:"none",accidentals:[],acc:"",mode:""},c.foundKey=!0,o.shift();break;default:var u=e.getKeyPitch(o[0].token);if(u.len>0){c.foundKey=!0;var h="",d="";o[0].token.length>1?o[0].token=o[0].token.substring(1):o.shift();var f=u.token;if(o.length>0){var p=e.getSharpFlat(o[0].token);if(p.len>0&&(o[0].token.length>1?o[0].token=o[0].token.substring(1):o.shift(),f+=p.token,h=p.token),o.length>0){var m=e.getMode(o[0].token);m.len>0&&(o.shift(),f+=m.token,d=m.token)}if(void 0===a.standardKey(f,u.token,h,0))return t("Unsupported key signature: "+f,r,0),c}var g,v=a.deepCopyKey(n.key),b=!s&&n.globalTranspose?-n.globalTranspose:0;if(s&&(g=n.globalTransposeOrigKeySig),n.key=a.deepCopyKey(a.standardKey(f,u.token,h,b)),s&&(n.globalTransposeOrigKeySig=g),n.key.mode=d,v){for(var y,x=0;x<n.key.accidentals.length;x++)for(y=0;y<v.accidentals.length;y++)v.accidentals[y].note&&n.key.accidentals[x].note.toLowerCase()===v.accidentals[y].note.toLowerCase()&&(v.accidentals[y].note=null);for(y=0;y<v.accidentals.length;y++)v.accidentals[y].note&&(n.key.impliedNaturals||(n.key.impliedNaturals=[]),n.key.impliedNaturals.push({acc:"natural",note:v.accidentals[y].note}))}}}if(0===o.length)return c;if("exp"===o[0].token&&o.shift(),0===o.length)return c;if("oct"===o[0].token&&o.shift(),0===o.length)return c;var w,_=e.getKeyAccidentals2(o);if(_.warn&&t(_.warn,r,0),_.accs){c.foundKey||(c.foundKey=!0,n.key={root:"none",acc:"",mode:"",accidentals:[]}),function(e){for(var t=0;t<e.length;t++)"b"===e[t].note?e[t].note="B":"a"===e[t].note?e[t].note="A":"F"===e[t].note?e[t].note="f":"E"===e[t].note?e[t].note="e":"D"===e[t].note?e[t].note="d":"C"===e[t].note?e[t].note="c":"G"===e[t].note&&"sharp"===e[t].acc?e[t].note="g":"g"===e[t].note&&"flat"===e[t].acc&&(e[t].note="G")}(_.accs);for(var k=0;k<_.accs.length;k++){for(var C=!1,E=0;E<n.key.accidentals.length&&!C;E++)n.key.accidentals[E].note===_.accs[k].note&&(C=!0,n.key.accidentals[E].acc!==_.accs[k].acc&&(n.key.accidentals[E].acc=_.accs[k].acc,n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(_.accs[k])));if(!C&&(n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(_.accs[k]),n.key.accidentals.push(_.accs[k]),n.key.impliedNaturals))for(var S=0;S<n.key.impliedNaturals.length;S++)n.key.impliedNaturals[S].note===_.accs[k].note&&n.key.impliedNaturals.splice(S,1)}}for(;o.length>0;)switch(o[0].token){case"m":case"middle":if(o.shift(),0===o.length)return t("Expected = after middle",r,0),c;if("="!==(w=o.shift()).token){t("Expected = after middle",r,w.start);break}if(0===o.length)return t("Expected parameter after middle=",r,0),c;var T=e.getPitchFromTokens(o);T.warn&&t(T.warn,r,0),T.position&&(n.clef.verticalPos=T.position-6);break;case"transpose":if(o.shift(),0===o.length)return t("Expected = after transpose",r,0),c;if("="!==(w=o.shift()).token){t("Expected = after transpose",r,w.start);break}if(0===o.length)return t("Expected parameter after transpose=",r,0),c;if("number"!==o[0].type){t("Expected number after transpose",r,o[0].start);break}n.clef.transpose=o[0].intt,o.shift();break;case"stafflines":if(o.shift(),0===o.length)return t("Expected = after stafflines",r,0),c;if("="!==(w=o.shift()).token){t("Expected = after stafflines",r,w.start);break}if(0===o.length)return t("Expected parameter after stafflines=",r,0),c;if("number"!==o[0].type){t("Expected number after stafflines",r,o[0].start);break}n.clef.stafflines=o[0].intt,o.shift();break;case"staffscale":if(o.shift(),0===o.length)return t("Expected = after staffscale",r,0),c;if("="!==(w=o.shift()).token){t("Expected = after staffscale",r,w.start);break}if(0===o.length)return t("Expected parameter after staffscale=",r,0),c;if("number"!==o[0].type){t("Expected number after staffscale",r,o[0].start);break}n.clef.staffscale=o[0].floatt,o.shift();break;case"octave":if(o.shift(),0===o.length)return t("Expected = after octave",r,0),c;if("="!==(w=o.shift()).token){t("Expected = after octave",r,w.start);break}if(0===o.length)return t("Expected parameter after octave=",r,0),c;if("number"!==o[0].type){t("Expected number after octave",r,o[0].start);break}n.octave=o[0].intt,o.shift();break;case"style":if(o.shift(),0===o.length)return t("Expected = after style",r,0),c;if("="!==(w=o.shift()).token){t("Expected = after style",r,w.start);break}if(0===o.length)return t("Expected parameter after style=",r,0),c;switch(o[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":n.style=o[0].token,o.shift();break;default:t("error parsing style element: "+o[0].token,r,o[0].start)}break;case"clef":if(o.shift(),0===o.length)return t("Expected = after clef",r,0),c;if("="!==(w=o.shift()).token){t("Expected = after clef",r,w.start);break}if(0===o.length)return t("Expected parameter after clef=",r,0),c;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var N=o.shift();switch(N.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":case"c":N.token="alto";break;case"F":case"f":N.token="bass";break;case"G":case"g":N.token="treble";break;default:t("Expected clef name. Found "+N.token,r,N.start)}o.length>0&&"number"===o[0].type&&(N.token+=o[0].token,o.shift()),o.length>1&&("-"===o[0].token||"+"===o[0].token||"^"===o[0].token||"_"===o[0].token)&&"8"===o[1].token&&(N.token+=o[0].token+o[1].token,o.shift(),o.shift()),n.clef={type:N.token,verticalPos:l(N.token,0)},n.currentVoice&&void 0!==n.currentVoice.transpose&&(n.clef.transpose=n.currentVoice.transpose),c.foundClef=!0;break;default:t("Unknown parameter: "+o[0].token,r,o[0].start),o.shift()}return c};a.parseVoice=function(r,i,s){var a=e.getMeat(r,i,s),c=a.start,u=a.end,d=e.getToken(r,c,u);if(0!==d.length){var f=!1;void 0===n.voices[d]&&(n.voices[d]={},f=!0,n.score_is_present&&t("Can't have an unknown V: id when the %score directive is present",r,c)),c+=d.length,c+=e.eatWhiteSpace(r,c);for(var p={startStaff:f},m=function(n){var i=e.getVoiceToken(r,c,u);void 0!==i.warn?t("Expected value for "+n+" in voice: "+i.warn,r,c):void 0!==i.err?t("Expected value for "+n+" in voice: "+i.err,r,c):0===i.token.length&&'"'!==r[c]?t("Expected value for "+n+" in voice",r,c):p[n]=i.token,c+=i.len},g=function(i,s,a){var o=e.getVoiceToken(r,c,u);void 0!==o.warn?t("Expected value for "+s+" in voice: "+o.warn,r,c):void 0!==o.err?t("Expected value for "+s+" in voice: "+o.err,r,c):0===o.token.length&&'"'!==r[c]?t("Expected value for "+s+" in voice",r,c):("number"===a&&(o.token=parseFloat(o.token)),n.voices[i][s]=o.token),c+=o.len},v=function(n,i){var s=e.getVoiceToken(r,c,u);if(void 0!==s.warn)t("Expected value for "+n+" in voice: "+s.warn,r,c);else if(void 0!==s.err)t("Expected value for "+n+" in voice: "+s.err,r,c);else{if(0!==s.token.length||'"'===r[c])return"number"===i&&(s.token=parseFloat(s.token)),s.token;t("Expected value for "+n+" in voice",r,c)}c+=s.len},b=function(i,s){var a=e.getVoiceToken(r,c,u);if(void 0!==a.warn)t("Expected one of (_B, _E, _b, _e) for "+s+" in voice: "+a.warn,r,c);else if(0===a.token.length&&'"'!==r[c])t("Expected one of (_B, _E, _b, _e) for "+s+" in voice",r,c);else{var o={_B:2,_E:9,_b:-10,_e:-3}[a.token];o?n.voices[i][s]=o:t("Expected one of (_B, _E, _b, _e) for "+s+" in voice",r,c)}c+=a.len};c<u;){var y=e.getVoiceToken(r,c,u);if(c+=y.len,y.warn)t("Error parsing voice: "+y.warn,r,c);else{var x=null;switch(y.token){case"clef":case"cl":m("clef");var w=0;void 0!==p.clef&&(p.clef=p.clef.replace(/[',]/g,""),-1!==p.clef.indexOf("+16")&&(w+=14,p.clef=p.clef.replace("+16","")),p.verticalPos=l(p.clef,w));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":p.clef=y.token.replace(/[',]/g,""),p.verticalPos=l(p.clef,0),n.voices[d].clef=y.token;break;case"staves":case"stave":case"stv":m("staves");break;case"brace":case"brc":m("brace");break;case"bracket":case"brk":m("bracket");break;case"name":case"nm":m("name");break;case"subname":case"sname":case"snm":m("subname");break;case"merge":p.startStaff=!1;break;case"stem":case"stems":void 0!==(x=e.getVoiceToken(r,c,u)).warn?t("Expected value for stems in voice: "+x.warn,r,c):void 0!==x.err?t("Expected value for stems in voice: "+x.err,r,c):"up"===x.token||"down"===x.token?n.voices[d].stem=x.token:t("Expected up or down for voice stem",r,c),c+=x.len;break;case"up":case"down":n.voices[d].stem=y.token;break;case"middle":case"m":m("verticalPos"),p.verticalPos=h(p.verticalPos).mid;break;case"gchords":case"gch":n.voices[d].suppressChords=!0,"0"===(x=e.getVoiceToken(r,c,u)).token&&(c+=x.len);break;case"space":case"spc":m("spacing");break;case"scale":g(d,"scale","number");break;case"score":b(d,"scoreTranspose");break;case"transpose":g(d,"transpose","number");break;case"stafflines":g(d,"stafflines","number");break;case"staffscale":g(d,"staffscale","number");break;case"octave":g(d,"octave","number");break;case"volume":g(d,"volume","number");break;case"cue":var _=v("cue","string");n.voices[d].scale="on"===_?.6:1;break;case"style":void 0!==(x=e.getVoiceToken(r,c,u)).warn?t("Expected value for style in voice: "+x.warn,r,c):void 0!==x.err?t("Expected value for style in voice: "+x.err,r,c):"normal"===x.token||"harmonic"===x.token||"rhythm"===x.token||"x"===x.token||"triangle"===x.token?n.voices[d].style=x.token:t("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",r,c),c+=x.len}}c+=e.eatWhiteSpace(r,c)}if((p.startStaff||0===n.staves.length)&&(n.staves.push({index:n.staves.length,meter:n.origMeter}),n.score_is_present||(n.staves[n.staves.length-1].numVoices=0)),void 0===n.voices[d].staffNum){n.voices[d].staffNum=n.staves.length-1;var k=0;for(var C in n.voices)n.voices.hasOwnProperty(C)&&n.voices[C].staffNum===n.voices[d].staffNum&&k++;n.voices[d].index=k-1}var E=n.staves[n.voices[d].staffNum];n.score_is_present||E.numVoices++,p.clef&&(E.clef={type:p.clef,verticalPos:p.verticalPos}),p.spacing&&(E.spacing_below_offset=p.spacing),p.verticalPos&&(E.verticalPos=p.verticalPos),p.name&&(E.name?E.name.push(p.name):E.name=[p.name]),p.subname&&(E.subname?E.subname.push(p.subname):E.subname=[p.subname]),function(e){n.currentVoice=n.voices[e],o.setCurrentVoice(n.currentVoice.staffNum,n.currentVoice.index)}(d)}else t("Expected a voice id",r,c)}}(),e.exports=a},9480:(e,t,n)=>{var r=n(4190),i=n(8706);e.exports=function(e,t,n){for(var s=0;s<t.rows.length;s++){var a=t.rows[s];if(a.absmove)e.absolutemoveY(a.absmove);else if(a.move)e.moveY(a.move);else if(a.text){var o=a.left?a.left:0,c=i(e,{x:o,y:e.y,text:a.text,type:a.font,klass:a.klass,name:a.name,anchor:a.anchor});a.absElemType&&n.wrapSvgEl({el_type:a.absElemType,name:a.name,startChar:a.startChar,endChar:a.endChar,text:a.text},c)}else if(a.separator)r(e,a.separator);else if(a.startGroup)e.paper.openGroup({klass:a.klass,"data-name":a.name});else if(a.endGroup){var l=e.paper.closeGroup();a.absElemType&&n.wrapSvgEl({el_type:a.absElemType,name:a.name,startChar:a.startChar,endChar:a.endChar,text:""},l)}}}},9487:(e,t,n)=>{var r=n(7182);e.exports=function(e,t,n,i,s,a){var o="abcjs-top-line",c=2;s&&(c=s),e.paper.openGroup({prepend:!0,klass:e.controller.classes.generate("abcjs-staff")});var l=0,u=0;if(1===i)r(e,t,n,6,o,null,a+e.lineThickness),l=e.calcY(10),u=e.calcY(2);else for(var h=i-1;h>=0;h--){var d=(h+1)*c;u=e.calcY(d),0===l&&(l=u),r(e,t,n,d,o,null,a+e.lineThickness),o=void 0}return e.paper.closeGroup(),[l,u]}},9626:(e,t,n)=>{var r=n(7127),i=n(5389),s=n(1787),a=n(2474);function o(){}o.prototype.init=function(e,t,n){var s=new i(e,t,n);this._super=s,this.abcTune=e,this.linePitch=3,this.nbLines=6,this.isTabBig=!0,this.capo=n.capo,this.transpose=n.visualTranspose,this.tablature=new r(this.nbLines,this.linePitch);var o=new a(this);this.semantics=o},o.prototype.render=function(e,t,n){this._super.inError||(this.tablature.bypass(t)||new s(this,e,t,n).doLayout())};e.exports=function(){return{name:"GuitarTab",tablature:o}}},9720:(e,t,n)=>{var r=n(1667),i=n(5645);e.exports=function(e,t,n,s){s||(s={});var a,o=void 0!==s.dir?s.dir:null,c=void 0!==s.headx?s.headx:0,l=void 0!==s.extrax?s.extrax:0,u=void 0!==s.flag?s.flag:null,h=void 0!==s.dot?s.dot:0,d=void 0!==s.dotshiftx?s.dotshiftx:0,f=void 0!==s.scale?s.scale:1,p=void 0!==s.accidentalSlot?s.accidentalSlot:[],m=void 0!==s.shouldExtendStem&&s.shouldExtendStem,g=void 0===s.printAccidentals||s.printAccidentals,v=n.verticalPos,b=0,y=0,x=0;if(void 0===t)e.addFixed(new i("pitch is undefined",0,0,0,{type:"debug"}));else if(""===t)a=new i(null,0,0,v);else{var w=c;if(n.printer_shift){var _="same"===n.printer_shift?1:0;w="down"===o?-r.getSymbolWidth(t)*f+_:r.getSymbolWidth(t)*f-_}var k={scalex:f,scaley:f,thickness:r.symbolHeightInPitches(t)*f,name:n.name};if((a=new i(t,w,r.getSymbolWidth(t)*f,v,k)).stemDir=o,u){var C=v+("down"===o?-7:7)*f;m&&("down"===o&&C>6&&(C=6),"up"===o&&C<6&&(C=6));var E="down"===o?c:c+a.w-.6;e.addRight(new i(u,E,r.getSymbolWidth(u)*f,C,{scalex:f,scaley:f}))}for(y=a.w+d-2+5*h;h>0;h--){var S=1-Math.abs(v)%2;e.addRight(new i("dots.dot",a.w+d-2+5*h,r.getSymbolWidth("dots.dot"),v+S))}}if(a&&(a.highestVert=n.highestVert),g&&n.accidental){var T;switch(n.accidental){case"quartersharp":T="accidentals.halfsharp";break;case"dblsharp":T="accidentals.dblsharp";break;case"sharp":T="accidentals.sharp";break;case"quarterflat":T="accidentals.halfflat";break;case"flat":T="accidentals.flat";break;case"dblflat":T="accidentals.dblflat";break;case"natural":T="accidentals.nat"}for(var N=!1,I=l,P=0;P<p.length;P++)if(v-p[P][0]>=6){p[P][0]=v,I=p[P][1],N=!0;break}!1===N&&(I-=r.getSymbolWidth(T)*f+2,p.push([v,I]),b=r.getSymbolWidth(T)*f+2);var A=r.symbolHeightInPitches(T);e.addExtra(new i(T,I,r.getSymbolWidth(T),v,{scalex:f,scaley:f,top:v+A/2,bottom:v-A/2})),x=r.getSymbolWidth(T)/2}return{notehead:a,accidentalshiftx:b,dotshiftx:y,extraLeft:x}}},9747:(e,t,n)=>{var r=n(1920),i=n(1667),s=n(5645);e.exports=function(e,t){e.el_type="timeSignature";var n=new r(e,0,10,"staff-extra time-signature",t);if("specified"===e.type)for(var a=0,o=0;o<e.value.length;o++)if(0!==o&&(n.addRight(new s("+",a+1,i.getSymbolWidth("+"),6,{thickness:i.symbolHeightInPitches("+")})),a+=i.getSymbolWidth("+")+2),e.value[o].den){for(var c=0,l=0;l<e.value[o].num.length;l++)c+=i.getSymbolWidth(e.value[o].num[l]);var u=0;for(l=0;l<e.value[o].num.length;l++)u+=i.getSymbolWidth(e.value[o].den[l]);var h=Math.max(c,u);n.addRight(new s(e.value[o].num,a+(h-c)/2,c,8,{thickness:i.symbolHeightInPitches(e.value[o].num[0])})),n.addRight(new s(e.value[o].den,a+(h-u)/2,u,4,{thickness:i.symbolHeightInPitches(e.value[o].den[0])})),a+=h}else{for(var d=0,f=0;f<e.value[o].num.length;f++)d+=i.getSymbolWidth(e.value[o].num[f]);n.addRight(new s(e.value[o].num,a,d,6,{thickness:i.symbolHeightInPitches(e.value[o].num[0])})),a+=d}else"common_time"===e.type?n.addRight(new s("timesig.common",0,i.getSymbolWidth("timesig.common"),6,{thickness:i.symbolHeightInPitches("timesig.common")})):"cut_time"===e.type?n.addRight(new s("timesig.cut",0,i.getSymbolWidth("timesig.cut"),6,{thickness:i.symbolHeightInPitches("timesig.cut")})):"tempus_imperfectum"===e.type?n.addRight(new s("timesig.imperfectum",0,i.getSymbolWidth("timesig.imperfectum"),6,{thickness:i.symbolHeightInPitches("timesig.imperfectum")})):"tempus_imperfectum_prolatio"===e.type?n.addRight(new s("timesig.imperfectum2",0,i.getSymbolWidth("timesig.imperfectum2"),6,{thickness:i.symbolHeightInPitches("timesig.imperfectum2")})):"tempus_perfectum"===e.type?n.addRight(new s("timesig.perfectum",0,i.getSymbolWidth("timesig.perfectum"),6,{thickness:i.symbolHeightInPitches("timesig.perfectum")})):"tempus_perfectum_prolatio"===e.type?n.addRight(new s("timesig.perfectum2",0,i.getSymbolWidth("timesig.perfectum2"),6,{thickness:i.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",e);return n}},9754:(e,t,n)=>{var r=n(386),i=n(2119);e.exports=function(e,t,n,s,a,o,c){if(n<0||s<a){var l=i(a);a=i(s),s=l}else s=i(s),a=i(a);t=i(t);var u=i(t+n);if(e.firefox112){var h={x1:t+=n/2,x2:t,y1:s,y2:a,stroke:e.foregroundColor,"stroke-width":Math.abs(n)};return o&&(h.class=o),c&&(h["data-name"]=c),e.paper.lineToBack(h)}for(var d=[["M",t,s],["L",t,a],["L",u,a],["L",u,s],["z"]],f=(h={path:""},0);f<d.length;f++)h.path+=d[f].join(" ");return o&&(h.class=o),c&&(h["data-name"]=c),r.isInGroup()||(h.stroke="none",h.fill=e.foregroundColor),e.paper.pathToBack(h)}},9757:(e,t,n)=>{var r=n(363),i=n(2119);e.exports=function(e,t,n,s,a,o,c){var l=e.foregroundColor;t=i(t),n=i(n);var u=i(s-c),h=i(s+c);if(e.firefox112){var d={x1:t,x2:n,y1:s+=c/2,y2:s,stroke:e.foregroundColor,"stroke-width":Math.abs(2*c)};return a&&(d.class=a),o&&(d["data-name"]=o),e.paper.lineToBack(d)}var f={path:r("M %f %f L %f %f L %f %f L %f %f z",t,u,n,u,n,h,t,h),stroke:"none",fill:l};return o&&(f["data-name"]=o),a&&(f.class=a),e.paper.pathToBack(f)}},9809:e=>{e.exports=function(e,t,n){this.rows=[],e&&this.rows.push({move:e}),this.rows.push({separator:t,absElemType:"separator"}),n&&this.rows.push({move:n})}},9899:(e,t,n)=>{var r=n(4502),i=n(3861),s=n(9401);function a(e){for(var t=0;t<e.elems.length;t++){var n=e.elems[t];if(n.top)for(var r=l(n,e),i=0;i<n.children.length;i++){var s=n.children[i];if("ornament"===s.klass&&s.bottom-1.5<r){var a=r-s.bottom+1.5;s.bottom+=a,s.top+=a,s.pitch+=a,r=n.top=s.top}}}}function o(e,t){var n=t.getChordDim();if(n){for(var r=0;r<e.length;r++){if(e[r]<n.left)return r>0&&t.putChordInLane(r),void(e[r]=n.right)}e.push(n.right),t.putChordInLane(e.length-1)}}function c(e){for(var t=0,n=0;n<e.children.length;n++){e.children[n].chordHeightBelow&&t++}return t}function l(e,t){return t=t.beams[0],i(t.startX,t.startY,t.endX,t.endY,e.x)}e.exports=function(e){for(var t=0;t<e.beams.length;t++)if("BeamElem"===e.beams[t].type){r(e.beams[t]),a(e.beams[t]);for(var n=0;n<e.beams[t].elems.length;n++)e.adjustRange(e.beams[t].elems[n])}for(e.staff.specialY.chordLines=function(e){var t,n,r,i=[0],s=[0];for(t=0;t<e.length;t++){for(n=0;n<e[t].children.length;n++)(r=e[t].children[n]).chordHeightAbove&&o(i,r);for(n=e[t].children.length-1;n>=0;n--)(r=e[t].children[n]).chordHeightBelow&&o(s,r)}(i.length>1||s.length>1)&&function(e,t){for(var n=0;n<e.length;n++){c(e[n]);for(var r=0;r<e[n].children.length;r++){var i=e[n].children[r];i.chordHeightAbove&&i.invertLane(t)}}}(e,i.length,s.length);return{above:i.length,below:s.length}}(e.children),t=0;t<e.otherchildren.length;t++){var i=e.otherchildren[t];"TripletElem"===i.type&&(s(i),e.adjustRange(i))}e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom)}},9909:(e,t,n)=>{var r=n(4633);e.exports=function(e,t){void 0===e&&(e="abcjs-note_selected"),void 0===t&&(t="#ff0000"),r(this.elemset,e,"",t)}},9970:e=>{var t=function(e,t){this.formatting=e,this.classes=t};t.prototype.updateFonts=function(e){e.gchordfont&&(this.formatting.gchordfont=e.gchordfont),e.tripletfont&&(this.formatting.tripletfont=e.tripletfont),e.annotationfont&&(this.formatting.annotationfont=e.annotationfont),e.vocalfont&&(this.formatting.vocalfont=e.vocalfont)},t.prototype.calc=function(e,t){var n;n="string"===typeof e?(n=this.formatting[e])?{face:n.face,size:Math.round(4*n.size/3),decoration:n.decoration,style:n.style,weight:n.weight,box:n.box}:{face:"Arial",size:Math.round(16),decoration:"underline",style:"normal",weight:"normal"}:{face:e.face,size:Math.round(4*e.size/3),decoration:e.decoration,style:e.style,weight:e.weight,box:e.box};var r=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;return n.padding=n.size*r,{font:n,attr:{"font-size":n.size,"font-style":n.style,"font-family":n.face,"font-weight":n.weight,"text-decoration":n.decoration,class:this.classes.generate(t)}}},e.exports=t},9979:e=>{e.exports=function(e){if(e)window.abcjsAudioContext=e;else if(!window.abcjsAudioContext){var t=window.AudioContext||window.webkitAudioContext;if(!t)return!1;window.abcjsAudioContext=new t}return"suspended"!==window.abcjsAudioContext.state}},9986:e=>{e.exports='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">\n    <g>\n    <polygon points="4 0 23 12.5 4 25"/>\n    </g>\n</svg>\n'}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".3e63ad05.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="musicproject:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(c=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),c&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/errordetection/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,[a,o,c]=r,l=0;if(a.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(c)c(n)}for(t&&t(r);l<a.length;l++)s=a[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkmusicproject=self.webpackChunkmusicproject||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e,t=n(5043),r=n.t(t,2),i=n(4391),s=n(7950),a=n.t(s,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const c="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(t,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,p=e.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function b(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:x.location,delta:n})}function y(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let x={get action(){return p},get location(){return t(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(c,b),m=e,()=>{s.removeEventListener(c,b),m=null}},createHref:e=>n(s,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=d(x.location,t,n);r&&r(i,t),g=v()+1;let o=h(i,g),c=x.createHref(i);try{u.pushState(o,"",c)}catch(za){if(za instanceof DOMException&&"DataCloneError"===za.name)throw za;s.location.assign(c)}a&&m&&m({action:p,location:x.location,delta:1})},replace:function(t,n){p=e.Replace;let i=d(x.location,t,n);r&&r(i,t),g=v();let s=h(i,g),o=x.createHref(i);u.replaceState(s,"",o),a&&m&&m({action:p,location:x.location,delta:0})},go:e=>u.go(e)};return x}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let r=A(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let i=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a)s=N(i[a],P(r));return s}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=j([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))i(e,t,r);else i(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=y(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const x=/^:\w+$/,w=3,_=2,k=1,C=10,E=-2,S=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=E),t&&(r+=_),n.filter(e=>!S(e)).reduce((e,t)=>e+(x.test(t)?w:""===t?k:C),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c);if(!l)return null;Object.assign(r,l.params);let u=e.route;s.push({params:r,pathname:j([i,l.pathname]),pathnameBase:D(j([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=j([i,l.pathnameBase]))}return s}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),c=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const c=o[n];return e[r]=i&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(za){return u(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+za+")."),e}}(c||"",r),e},{});return{params:c,pathname:s,pathnameBase:a,pattern:e}}function P(e){try{return decodeURI(e)}catch(za){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+za+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e){return M(e).map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),l(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let s,a=""===e||""===i.pathname,c=a?"/":i.pathname;if(null==c)s=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:F(i)}}(i,s),h=c&&"/"!==c&&c.endsWith("/"),d=(a||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const j=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],U=(new Set(H),["get",...H]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const W=t.createContext(null);const V=t.createContext(null);const G=t.createContext(null);const Y=t.createContext(null);const K=t.createContext({outlet:null,matches:[],isDataRoute:!1});const X=t.createContext(null);function Q(){return null!=t.useContext(Y)}function $(){return Q()||l(!1),t.useContext(Y).location}function J(e){t.useContext(G).static||t.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=t.useContext(K);return e?function(){let{router:e}=le(oe.UseNavigateStable),n=he(ce.UseNavigateStable),r=t.useRef(!1);J(()=>{r.current=!0});let i=t.useCallback(function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,q({fromRouteId:n},i)))},[e,n]);return i}():function(){Q()||l(!1);let e=t.useContext(W),{basename:n,navigator:r}=t.useContext(G),{matches:i}=t.useContext(K),{pathname:s}=$(),a=JSON.stringify(R(i)),o=t.useRef(!1);J(()=>{o.current=!0});let c=t.useCallback(function(t,i){if(void 0===i&&(i={}),!o.current)return;if("number"===typeof t)return void r.go(t);let c=L(t,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==n&&(c.pathname="/"===c.pathname?n:j([n,c.pathname])),(i.replace?r.replace:r.push)(c,i.state,i)},[n,r,a,s,e]);return c}()}function ee(e,n){let{relative:r}=void 0===n?{}:n,{matches:i}=t.useContext(K),{pathname:s}=$(),a=JSON.stringify(R(i));return t.useMemo(()=>L(e,JSON.parse(a),s,"path"===r),[e,a,s,r])}function te(n,r,i){Q()||l(!1);let{navigator:s}=t.useContext(G),{matches:a}=t.useContext(K),o=a[a.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let h,d=$();if(r){var f;let e="string"===typeof r?p(r):r;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||l(!1),h=e}else h=d;let m=h.pathname||"/",g=v(n,{pathname:"/"===u?m:m.slice(u.length)||"/"});let b=ae(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:j([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:j([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,i);return r&&b?t.createElement(Y.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},b):b}function ne(){let e=function(){var e;let n=t.useContext(X),r=ue(ce.UseRouteError),i=he(ce.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const re=t.createElement(ne,null);class ie extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(K.Provider,{value:this.props.routeContext},t.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(W);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(K.Provider,{value:n},i)}function ae(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let a=e,o=null==(i=r)?void 0:i.errors;if(null!=o){let e=a.findIndex(e=>e.route.id&&(null==o?void 0:o[e.route.id]));e>=0||l(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight((e,i,s)=>{let c=i.route.id?null==o?void 0:o[i.route.id]:null,l=null;r&&(l=i.route.errorElement||re);let u=n.concat(a.slice(0,s+1)),h=()=>{let n;return n=c?l:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(se,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(ie,{location:r.location,revalidation:r.revalidation,component:l,error:c,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()},null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function le(e){let n=t.useContext(W);return n||l(!1),n}function ue(e){let n=t.useContext(V);return n||l(!1),n}function he(e){let n=function(){let e=t.useContext(K);return e||l(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||l(!1),r.route.id}r.startTransition;function de(e){l(!1)}function fe(n){let{basename:r="/",children:i=null,location:s,navigationType:a=e.Pop,navigator:o,static:c=!1}=n;Q()&&l(!1);let u=r.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:u,navigator:o,static:c}),[u,o,c]);"string"===typeof s&&(s=p(s));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:v="default"}=s,b=t.useMemo(()=>{let e=A(d,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:g,key:v},navigationType:a}},[u,d,f,m,g,v,a]);return null==b?null:t.createElement(G.Provider,{value:h},t.createElement(Y.Provider,{children:i,value:b}))}function pe(e){let{children:t,location:n}=e;return te(me(t),n)}new Promise(()=>{});t.Component;function me(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,me(e.props.children,s));e.type!==de&&l(!1),e.props.index&&e.props.children&&l(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=me(e.props.children,s)),r.push(a)}),r}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const ye=r.startTransition;a.flushSync;function xe(e){let{basename:n,children:r,future:i,window:s}=e,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,e)}({window:s,v5Compat:!0}));let o=a.current,[c,l]=t.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},h=t.useCallback(e=>{u&&ye?ye(()=>l(e)):l(e)},[l,u]);return t.useLayoutEffect(()=>o.listen(h),[o,h]),t.createElement(fe,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:o})}const we="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,_e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=t.forwardRef(function(e,n){let r,{onClick:i,relative:s,reloadDocument:a,replace:o,state:c,target:u,to:h,preventScrollReset:d,unstable_viewTransition:p}=e,m=ve(e,be),{basename:g}=t.useContext(G),v=!1;if("string"===typeof h&&_e.test(h)&&(r=h,we))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=A(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(x){}let b=function(e,n){let{relative:r}=void 0===n?{}:n;Q()||l(!1);let{basename:i,navigator:s}=t.useContext(G),{hash:a,pathname:o,search:c}=ee(e,{relative:r}),u=o;return"/"!==i&&(u="/"===o?i:j([i,o])),s.createHref({pathname:u,search:c,hash:a})}(h,{relative:s}),y=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:c}=void 0===n?{}:n,l=Z(),u=$(),h=ee(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:f(u)===f(h);l(e,{replace:n,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:c})}},[u,l,h,i,s,r,e,a,o,c])}(h,{replace:o,state:c,target:u,preventScrollReset:d,relative:s,unstable_viewTransition:p});return t.createElement("a",ge({},m,{href:r||b,onClick:v||a?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:n,target:u}))});var Ce,Ee;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ee||(Ee={}));function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function Te(e){var t=function(e,t){if("object"!=Se(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Se(t)?t:t+""}function Ne(e,t,n){return(t=Te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach(function(t){Ne(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ae(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function Oe(e,t){if(null==e)return{};var n,r,i=Ae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Me=n(4600),Re=n.n(Me);const Le=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},je=t.createContext(null);function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(null,arguments)}n(2740);function Be(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Fe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function ze(e,n){return Object.keys(n).reduce(function(r,i){var s,a=r,o=a[Be(i)],c=a[i],l=Ae(a,[Be(i),i].map(Fe)),u=n[i],h=function(e,n,r){var i=(0,t.useRef)(void 0!==e),s=(0,t.useState)(n),a=s[0],o=s[1],c=void 0!==e,l=i.current;return i.current=c,!c&&l&&a!==n&&o(n),[c?e:a,(0,t.useCallback)(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),o(e)},[r])]}(c,o,e[u]),d=h[0],f=h[1];return De({},l,((s={})[i]=d,s[u]=f,s))},e)}function He(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Ue(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function qe(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}He.__suppressDeprecationWarning=!0,Ue.__suppressDeprecationWarning=!0,qe.__suppressDeprecationWarning=!0;var We=n(579);const Ve=["xxl","xl","lg","md","sm","xs"],Ge="xs",Ye=t.createContext({prefixes:{},breakpoints:Ve,minBreakpoint:Ge}),{Consumer:Ke,Provider:Xe}=Ye;function Qe(e,n){const{prefixes:r}=(0,t.useContext)(Ye);return e||r[n]||n}const $e=["bsPrefix","className","as"],Je=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:i}=e,s=Oe(e,$e);n=Qe(n,"navbar-brand");const a=i||(s.href?"a":"span");return(0,We.jsx)(a,Pe(Pe({},s),{},{ref:t,className:Re()(r,n)}))});Je.displayName="NavbarBrand";const Ze=Je;function et(e){return e&&e.ownerDocument||document}function tt(e,t){return function(e){var t=et(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var nt=/([A-Z])/g;var rt=/^ms-/;function it(e){return function(e){return e.replace(nt,"-$1").toLowerCase()}(e).replace(rt,"-ms-")}var st=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const at=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(it(t))||tt(e).getPropertyValue(it(t));Object.keys(t).forEach(function(i){var s=t[i];s||0===s?!function(e){return!(!e||!st.test(e))}(i)?n+=it(i)+": "+s+";":r+=i+"("+s+") ":e.style.removeProperty(it(i))}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function ot(e,t){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ot(e,t)}const ct=!1,lt=t.createContext(null);var ut="unmounted",ht="exited",dt="entering",ft="entered",pt="exiting",mt=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=ht,r.appearStatus=dt):i=ft:i=t.unmountOnExit||t.mountOnEnter?ut:ht,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,ot(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ut?{status:ht}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==dt&&n!==ft&&(t=dt):n!==dt&&n!==ft||(t=pt)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===dt){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ht&&this.setState({status:ut})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[s.findDOMNode(this),r],a=i[0],o=i[1],c=this.getTimeouts(),l=r?c.appear:c.enter;!e&&!n||ct?this.safeSetState({status:ft},function(){t.props.onEntered(a)}):(this.props.onEnter(a,o),this.safeSetState({status:dt},function(){t.props.onEntering(a,o),t.onTransitionEnd(l,function(){t.safeSetState({status:ft},function(){t.props.onEntered(a,o)})})}))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!ct?(this.props.onExit(r),this.safeSetState({status:pt},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:ht},function(){e.props.onExited(r)})})})):this.safeSetState({status:ht},function(){e.props.onExited(r)})},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===ut)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Ae(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(lt.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function gt(){}mt.contextType=lt,mt.propTypes={},mt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gt,onEntering:gt,onEntered:gt,onExit:gt,onExiting:gt,onExited:gt},mt.UNMOUNTED=ut,mt.EXITED=ht,mt.ENTERING=dt,mt.ENTERED=ft,mt.EXITING=pt;const vt=mt,bt=!("undefined"===typeof window||!window.document||!window.document.createElement);var yt=!1,xt=!1;try{var wt={get passive(){return yt=!0},get once(){return xt=yt=!0}};bt&&(window.addEventListener("test",wt,wt),window.removeEventListener("test",wt,!0))}catch(tv){}const _t=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!xt){var i=r.once,s=r.capture,a=n;!xt&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=a),e.addEventListener(t,a,yt?r:s)}e.addEventListener(t,n,r)};const kt=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const Ct=function(e,t,n,r){return _t(e,t,n,r),function(){kt(e,t,n,r)}};function Et(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout(function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)},t+n),s=Ct(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function St(e,t,n,r){null==n&&(n=function(e){var t=at(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Et(e,n,r),s=Ct(e,"transitionend",t);return function(){i(),s()}}function Tt(e,t){const n=at(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Nt(e,t){const n=Tt(e,"transitionDuration"),r=Tt(e,"transitionDelay"),i=St(e,n=>{n.target===e&&(i(),t(n))},n+r)}const It=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>null!=e).reduce((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}},null)};function Pt(e){e.offsetHeight}const At=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Ot=function(e,n){return(0,t.useMemo)(()=>function(e,t){const n=At(e),r=At(t);return e=>{n&&n(e),r&&r(e)}}(e,n),[e,n])};const Mt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Rt=t.forwardRef((e,n)=>{let{onEnter:r,onEntering:i,onEntered:a,onExit:o,onExiting:c,onExited:l,addEndListener:u,children:h,childRef:d}=e,f=Oe(e,Mt);const p=(0,t.useRef)(null),m=Ot(p,d),g=e=>{var t;m((t=e)&&"setState"in t?s.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&p.current&&e(p.current,t)},b=(0,t.useCallback)(v(r),[r]),y=(0,t.useCallback)(v(i),[i]),x=(0,t.useCallback)(v(a),[a]),w=(0,t.useCallback)(v(o),[o]),_=(0,t.useCallback)(v(c),[c]),k=(0,t.useCallback)(v(l),[l]),C=(0,t.useCallback)(v(u),[u]);return(0,We.jsx)(vt,Pe(Pe({ref:n},f),{},{onEnter:b,onEntered:x,onEntering:y,onExit:w,onExited:k,onExiting:_,addEndListener:C,nodeRef:p,children:"function"===typeof h?(e,t)=>h(e,Pe(Pe({},t),{},{ref:g})):t.cloneElement(h,{ref:g})}))}),Lt=Rt,jt=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","in","timeout","mountOnEnter","unmountOnExit","appear","getDimensionValue"],Dt={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Bt(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=Dt[e];return n+parseInt(at(t,r[0]),10)+parseInt(at(t,r[1]),10)}const Ft={[ht]:"collapse",[pt]:"collapsing",[dt]:"collapsing",[ft]:"collapse show"},zt=t.forwardRef((e,n)=>{let{onEnter:r,onEntering:i,onEntered:s,onExit:a,onExiting:o,className:c,children:l,dimension:u="height",in:h=!1,timeout:d=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:g=Bt}=e,v=Oe(e,jt);const b="function"===typeof u?u():u,y=(0,t.useMemo)(()=>It(e=>{e.style[b]="0"},r),[b,r]),x=(0,t.useMemo)(()=>It(e=>{const t="scroll".concat(b[0].toUpperCase()).concat(b.slice(1));e.style[b]="".concat(e[t],"px")},i),[b,i]),w=(0,t.useMemo)(()=>It(e=>{e.style[b]=null},s),[b,s]),_=(0,t.useMemo)(()=>It(e=>{e.style[b]="".concat(g(b,e),"px"),Pt(e)},a),[a,g,b]),k=(0,t.useMemo)(()=>It(e=>{e.style[b]=null},o),[b,o]);return(0,We.jsx)(Lt,Pe(Pe({ref:n,addEndListener:Nt},v),{},{"aria-expanded":v.role?h:null,onEnter:y,onEntering:x,onEntered:w,onExit:_,onExiting:k,childRef:l.ref,in:h,timeout:d,mountOnEnter:f,unmountOnExit:p,appear:m,children:(e,n)=>t.cloneElement(l,Pe(Pe({},n),{},{className:Re()(c,l.props.className,Ft[e],"width"===b&&"collapse-horizontal")}))}))}),Ht=zt,Ut=t.createContext(null);Ut.displayName="NavbarContext";const qt=Ut,Wt=["children","bsPrefix"],Vt=t.forwardRef((e,n)=>{let{children:r,bsPrefix:i}=e,s=Oe(e,Wt);i=Qe(i,"navbar-collapse");const a=(0,t.useContext)(qt);return(0,We.jsx)(Ht,Pe(Pe({in:!(!a||!a.expanded)},s),{},{children:(0,We.jsx)("div",{ref:n,className:i,children:r})}))});Vt.displayName="NavbarCollapse";const Gt=Vt;const Yt=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)(()=>{n.current=e},[e]),n};function Kt(e){const n=Yt(e);return(0,t.useCallback)(function(){return n.current&&n.current(...arguments)},[n])}const Xt=["bsPrefix","className","children","label","as","onClick"],Qt=t.forwardRef((e,n)=>{let{bsPrefix:r,className:i,children:s,label:a="Toggle navigation",as:o="button",onClick:c}=e,l=Oe(e,Xt);r=Qe(r,"navbar-toggler");const{onToggle:u,expanded:h}=(0,t.useContext)(qt)||{},d=Kt(e=>{c&&c(e),u&&u()});return"button"===o&&(l.type="button"),(0,We.jsx)(o,Pe(Pe({},l),{},{ref:n,onClick:d,"aria-label":a,className:Re()(i,r,!h&&"collapsed"),children:s||(0,We.jsx)("span",{className:"".concat(r,"-icon")})}))});Qt.displayName="NavbarToggle";const $t=Qt,Jt="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Zt="undefined"!==typeof document||Jt?t.useLayoutEffect:t.useEffect,en=new WeakMap,tn=(e,t)=>{if(!e||!t)return;const n=en.get(t)||new Map;en.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function nn(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=tn(e,n),[i,s]=(0,t.useState)(()=>!!r&&r.matches);return Zt(()=>{let t=tn(e,n);if(!t)return s(!1);let r=en.get(n);const i=()=>{s(t.matches)};return t.refCount++,t.addListener(i),i(),()=>{t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}},[e]),i}const rn=function(e){const n=Object.keys(e);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function i(t){const r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t);let i=e[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(n,s,a){let o;"object"===typeof n?(o=n,a=s,s=!0):(s=s||!0,o={[n]:s});let c=(0,t.useMemo)(()=>Object.entries(o).reduce((t,n)=>{let[s,a]=n;return"up"!==a&&!0!==a||(t=r(t,function(t){let n=e[t];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(s))),"down"!==a&&!0!==a||(t=r(t,i(s))),t},""),[JSON.stringify(o)]);return nn(c,a)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),sn=rn;function an(e){void 0===e&&(e=et());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(tv){return e.body}}function on(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function cn(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)(()=>()=>n.current(),[])}function ln(e){return"".concat("data-rr-ui-").concat(e)}const un=ln("modal-open");const hn=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(at(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(un,""),at(r,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(un),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},dn=(0,t.createContext)(bt?window:void 0);dn.Provider;function fn(){return(0,t.useContext)(dn)}const pn=(e,t)=>bt?null==e?(t||et()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const mn=function(e){let{children:n,in:r,onExited:i,mountOnEnter:s,unmountOnExit:a}=e;const o=(0,t.useRef)(null),c=(0,t.useRef)(r),l=Kt(i);(0,t.useEffect)(()=>{r?c.current=!0:l(o.current)},[r,l]);const u=Ot(o,n.ref),h=(0,t.cloneElement)(n,{ref:u});return r?h:a||!c.current&&s?null:h},gn=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function vn(e){let{onEnter:n,onEntering:r,onEntered:i,onExit:s,onExiting:a,onExited:o,addEndListener:c,children:l}=e,u=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,gn);const h=(0,t.useRef)(null),d=Ot(h,"function"===typeof l?null:l.ref),f=e=>t=>{e&&h.current&&e(h.current,t)},p=(0,t.useCallback)(f(n),[n]),m=(0,t.useCallback)(f(r),[r]),g=(0,t.useCallback)(f(i),[i]),v=(0,t.useCallback)(f(s),[s]),b=(0,t.useCallback)(f(a),[a]),y=(0,t.useCallback)(f(o),[o]),x=(0,t.useCallback)(f(c),[c]);return Object.assign({},u,{nodeRef:h},n&&{onEnter:p},r&&{onEntering:m},i&&{onEntered:g},s&&{onExit:v},a&&{onExiting:b},o&&{onExited:y},c&&{addEndListener:x},{children:"function"===typeof l?(e,t)=>l(e,Object.assign({},t,{ref:d})):(0,t.cloneElement)(l,{ref:d})})}const bn=["component"];const yn=t.forwardRef((e,t)=>{let{component:n}=e;const r=vn(function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,bn));return(0,We.jsx)(n,Object.assign({ref:t},r))}),xn=yn;function wn(e){let{children:n,in:r,onExited:i,onEntered:s,transition:a}=e;const[o,c]=(0,t.useState)(!r);r&&o&&c(!1);const l=function(e){let{in:n,onTransition:r}=e;const i=(0,t.useRef)(null),s=(0,t.useRef)(!0),a=Kt(r);return Zt(()=>{if(!i.current)return;let e=!1;return a({in:n,element:i.current,initial:s.current,isStale:()=>e}),()=>{e=!0}},[n,a]),Zt(()=>(s.current=!1,()=>{s.current=!0}),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(a(e)).then(()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(c(!0),null==i||i(e.element)))},t=>{throw e.in||c(!0),t})}}),u=Ot(l,n.ref);return o&&!r?null:(0,t.cloneElement)(n,{ref:u})}function _n(e,t,n){return e?(0,We.jsx)(xn,Object.assign({},n,{component:e})):t?(0,We.jsx)(wn,Object.assign({},n,{transition:t})):(0,We.jsx)(mn,Object.assign({},n))}const kn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Cn;function En(e){const n=fn(),r=e||function(e){return Cn||(Cn=new hn({ownerDocument:null==e?void 0:e.document})),Cn}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)(e=>{i.current.dialog=e},[]),setBackdropRef:(0,t.useCallback)(e=>{i.current.backdrop=e},[])})}const Sn=(0,t.forwardRef)((e,n)=>{let{show:r=!1,role:i="dialog",className:a,style:o,children:c,backdrop:l=!0,keyboard:u=!0,onBackdropClick:h,onEscapeKeyDown:d,transition:f,runTransition:p,backdropTransition:m,runBackdropTransition:g,autoFocus:v=!0,enforceFocus:b=!0,restoreFocus:y=!0,restoreFocusOptions:x,renderDialog:w,renderBackdrop:_=e=>(0,We.jsx)("div",Object.assign({},e)),manager:k,container:C,onShow:E,onHide:S=()=>{},onExit:T,onExited:N,onExiting:I,onEnter:P,onEntering:A,onEntered:O}=e,M=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,kn);const R=fn(),L=function(e,n){const r=fn(),[i,s]=(0,t.useState)(()=>pn(e,null==r?void 0:r.document));if(!i){const t=pn(e);t&&s(t)}return(0,t.useEffect)(()=>{n&&i&&n(i)},[n,i]),(0,t.useEffect)(()=>{const t=pn(e);t!==i&&s(t)},[e,i]),i}(C),j=En(k),D=function(){const e=(0,t.useRef)(!0),n=(0,t.useRef)(()=>e.current);return(0,t.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),n.current}(),B=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)(()=>{n.current=e}),n.current}(r),[F,z]=(0,t.useState)(!r),H=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,()=>j,[j]),bt&&!B&&r&&(H.current=an(null==R?void 0:R.document)),r&&F&&z(!1);const U=Kt(()=>{if(j.add(),K.current=Ct(document,"keydown",G),Y.current=Ct(document,"focus",()=>setTimeout(W),!0),E&&E(),v){var e,t;const n=an(null!=(e=null==(t=j.dialog)?void 0:t.ownerDocument)?e:null==R?void 0:R.document);j.dialog&&n&&!on(j.dialog,n)&&(H.current=n,j.dialog.focus())}}),q=Kt(()=>{var e;(j.remove(),null==K.current||K.current(),null==Y.current||Y.current(),y)&&(null==(e=H.current)||null==e.focus||e.focus(x),H.current=null)});(0,t.useEffect)(()=>{r&&L&&U()},[r,L,U]),(0,t.useEffect)(()=>{F&&q()},[F,q]),cn(()=>{q()});const W=Kt(()=>{if(!b||!D()||!j.isTopModal())return;const e=an(null==R?void 0:R.document);j.dialog&&e&&!on(j.dialog,e)&&j.dialog.focus()}),V=Kt(e=>{e.target===e.currentTarget&&(null==h||h(e),!0===l&&S())}),G=Kt(e=>{u&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&j.isTopModal()&&(null==d||d(e),e.defaultPrevented||S())}),Y=(0,t.useRef)(),K=(0,t.useRef)();if(!L)return null;const X=Object.assign({role:i,ref:j.setDialogRef,"aria-modal":"dialog"===i||void 0},M,{style:o,className:a,tabIndex:-1});let Q=w?w(X):(0,We.jsx)("div",Object.assign({},X,{children:t.cloneElement(c,{role:"document"})}));Q=_n(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:T,onExiting:I,onExited:function(){z(!0),null==N||N(...arguments)},onEnter:P,onEntering:A,onEntered:O,children:Q});let $=null;return l&&($=_({ref:j.setBackdropRef,onClick:V}),$=_n(m,g,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:$})),(0,We.jsx)(We.Fragment,{children:s.createPortal((0,We.jsxs)(We.Fragment,{children:[$,Q]}),L)})});Sn.displayName="Modal";const Tn=Object.assign(Sn,{Manager:hn}),Nn=["className","children","transitionClasses","onEnter"],In={[dt]:"show",[ft]:"show"},Pn=t.forwardRef((e,n)=>{let{className:r,children:i,transitionClasses:s={},onEnter:a}=e;const o=Pe({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Oe(e,Nn)),c=(0,t.useCallback)((e,t)=>{Pt(e),null==a||a(e,t)},[a]);return(0,We.jsx)(Lt,Pe(Pe({ref:n,addEndListener:Nt},o),{},{onEnter:c,childRef:i.ref,children:(e,n)=>t.cloneElement(i,Pe(Pe({},n),{},{className:Re()("fade",r,i.props.className,In[e],s[e])}))}))});Pn.displayName="Fade";const An=Pn,On=["className","bsPrefix","as"],Mn=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="div"}=e,s=Oe(e,On);return r=Qe(r,"offcanvas-body"),(0,We.jsx)(i,Pe({ref:t,className:Re()(n,r)},s))});Mn.displayName="OffcanvasBody";const Rn=Mn,Ln=["bsPrefix","className","children","in","mountOnEnter","unmountOnExit","appear"],jn={[dt]:"show",[ft]:"show"},Dn=t.forwardRef((e,n)=>{let{bsPrefix:r,className:i,children:s,in:a=!1,mountOnEnter:o=!1,unmountOnExit:c=!1,appear:l=!1}=e,u=Oe(e,Ln);return r=Qe(r,"offcanvas"),(0,We.jsx)(Lt,Pe(Pe({ref:n,addEndListener:Nt,in:a,mountOnEnter:o,unmountOnExit:c,appear:l},u),{},{childRef:s.ref,children:(e,n)=>t.cloneElement(s,Pe(Pe({},n),{},{className:Re()(i,s.props.className,(e===dt||e===pt)&&"".concat(r,"-toggling"),jn[e])}))}))});Dn.displayName="OffcanvasToggling";const Bn=Dn,Fn=t.createContext({onHide(){}});var zn=n(5173),Hn=n.n(zn);const Un=["className","variant","aria-label"],qn={"aria-label":Hn().string,onClick:Hn().func,variant:Hn().oneOf(["white"])},Wn=t.forwardRef((e,t)=>{let{className:n,variant:r,"aria-label":i="Close"}=e,s=Oe(e,Un);return(0,We.jsx)("button",Pe({ref:t,type:"button",className:Re()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i},s))});Wn.displayName="CloseButton",Wn.propTypes=qn;const Vn=Wn,Gn=["closeLabel","closeVariant","closeButton","onHide","children"],Yn=t.forwardRef((e,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:s=!1,onHide:a,children:o}=e,c=Oe(e,Gn);const l=(0,t.useContext)(Fn),u=Kt(()=>{null==l||l.onHide(),null==a||a()});return(0,We.jsxs)("div",Pe(Pe({ref:n},c),{},{children:[o,s&&(0,We.jsx)(Vn,{"aria-label":r,variant:i,onClick:u})]}))}),Kn=Yn,Xn=["bsPrefix","className","closeLabel","closeButton"],Qn=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:s=!1}=e,a=Oe(e,Xn);return n=Qe(n,"offcanvas-header"),(0,We.jsx)(Kn,Pe(Pe({ref:t},a),{},{className:Re()(r,n),closeLabel:i,closeButton:s}))});Qn.displayName="OffcanvasHeader";const $n=Qn,Jn=["className","bsPrefix","as"],Zn=(er="h5",t.forwardRef((e,t)=>(0,We.jsx)("div",Pe(Pe({},e),{},{ref:t,className:Re()(e.className,er)}))));var er;const tr=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i=Zn}=e,s=Oe(e,Jn);return r=Qe(r,"offcanvas-title"),(0,We.jsx)(i,Pe({ref:t,className:Re()(n,r)},s))});tr.displayName="OffcanvasTitle";const nr=tr;var rr=Function.prototype.bind.call(Function.prototype.call,[].slice);function ir(e,t){return rr(e.querySelectorAll(t))}function sr(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const ar=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",or=".sticky-top",cr=".navbar-toggler";class lr extends hn{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,at(t,{[e]:"".concat(parseFloat(at(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],at(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(t,"modal-open"),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";ir(t,ar).forEach(t=>this.adjustAndStore(n,t,e.scrollBarWidth)),ir(t,or).forEach(t=>this.adjustAndStore(r,t,-e.scrollBarWidth)),ir(t,cr).forEach(t=>this.adjustAndStore(r,t,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=sr(e.className,t):e.setAttribute("class",sr(e.className&&e.className.baseVal||"",t))}(t,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";ir(t,ar).forEach(e=>this.restore(n,e)),ir(t,or).forEach(e=>this.restore(r,e)),ir(t,cr).forEach(e=>this.restore(r,e))}}let ur;const hr=lr,dr=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function fr(e){return(0,We.jsx)(Bn,Pe({},e))}function pr(e){return(0,We.jsx)(An,Pe({},e))}const mr=t.forwardRef((e,n)=>{let{bsPrefix:r,className:i,children:s,"aria-labelledby":a,placement:o="start",responsive:c,show:l=!1,backdrop:u=!0,keyboard:h=!0,scroll:d=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:g,autoFocus:v=!0,enforceFocus:b=!0,restoreFocus:y=!0,restoreFocusOptions:x,onEntered:w,onExit:_,onExiting:k,onEnter:C,onEntering:E,onExited:S,backdropClassName:T,manager:N,renderStaticNode:I=!1}=e,P=Oe(e,dr);const A=(0,t.useRef)();r=Qe(r,"offcanvas");const{onToggle:O}=(0,t.useContext)(qt)||{},[M,R]=(0,t.useState)(!1),L=sn(c||"xs","up");(0,t.useEffect)(()=>{R(c?l&&!L:l)},[l,c,L]);const j=Kt(()=>{null==O||O(),null==m||m()}),D=(0,t.useMemo)(()=>({onHide:j}),[j]);const B=(0,t.useCallback)(e=>(0,We.jsx)("div",Pe(Pe({},e),{},{className:Re()("".concat(r,"-backdrop"),T)})),[T,r]),F=e=>(0,We.jsx)("div",Pe(Pe(Pe({},e),P),{},{className:Re()(i,c?"".concat(r,"-").concat(c):r,"".concat(r,"-").concat(o)),"aria-labelledby":a,children:s}));return(0,We.jsxs)(We.Fragment,{children:[!M&&(c||I)&&F({}),(0,We.jsx)(Fn.Provider,{value:D,children:(0,We.jsx)(Tn,{show:M,ref:n,backdrop:u,container:g,keyboard:h,autoFocus:v,enforceFocus:b&&!d,restoreFocus:y,restoreFocusOptions:x,onEscapeKeyDown:f,onShow:p,onHide:j,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==C||C(e,...n)},onEntering:E,onEntered:w,onExit:_,onExiting:k,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==S||S(...n)},manager:N||(d?(A.current||(A.current=new hr({handleContainerOverflow:!1})),A.current):function(e){return ur||(ur=new lr(e)),ur}()),transition:fr,backdropTransition:pr,renderBackdrop:B,renderDialog:F})})]})});mr.displayName="Offcanvas";const gr=Object.assign(mr,{Body:Rn,Header:$n,Title:nr}),vr=t.forwardRef((e,n)=>{const r=(0,t.useContext)(qt);return(0,We.jsx)(gr,Pe(Pe({ref:n,show:!(null==r||!r.expanded)},e),{},{renderStaticNode:!0}))});vr.displayName="NavbarOffcanvas";const br=vr,yr=["className","bsPrefix","as"],xr=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="span"}=e,s=Oe(e,yr);return r=Qe(r,"navbar-text"),(0,We.jsx)(i,Pe({ref:t,className:Re()(n,r)},s))});xr.displayName="NavbarText";const wr=xr,_r=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],kr=t.forwardRef((e,n)=>{const r=ze(e,{expanded:"onToggle"}),{bsPrefix:i,expand:s=!0,variant:a="light",bg:o,fixed:c,sticky:l,className:u,as:h="nav",expanded:d,onToggle:f,onSelect:p,collapseOnSelect:m=!1}=r,g=Oe(r,_r),v=Qe(i,"navbar"),b=(0,t.useCallback)(function(){null==p||p(...arguments),m&&d&&(null==f||f(!1))},[p,m,d,f]);void 0===g.role&&"nav"!==h&&(g.role="navigation");let y="".concat(v,"-expand");"string"===typeof s&&(y="".concat(y,"-").concat(s));const x=(0,t.useMemo)(()=>({onToggle:()=>null==f?void 0:f(!d),bsPrefix:v,expanded:!!d,expand:s}),[v,d,s,f]);return(0,We.jsx)(qt.Provider,{value:x,children:(0,We.jsx)(je.Provider,{value:b,children:(0,We.jsx)(h,Pe(Pe({ref:n},g),{},{className:Re()(u,v,s&&y,a&&"".concat(v,"-").concat(a),o&&"bg-".concat(o),l&&"sticky-".concat(l),c&&"fixed-".concat(c))}))})})});kr.displayName="Navbar";const Cr=Object.assign(kr,{Brand:Ze,Collapse:Gt,Offcanvas:br,Text:wr,Toggle:$t});n(9197);const Er=t.createContext(null);Er.displayName="NavContext";const Sr=Er,Tr=t.createContext(null),Nr=["as","disabled"];function Ir(e){let{tagName:t,disabled:n,href:r,target:i,rel:s,role:a,onClick:o,tabIndex:c=0,type:l}=e;t||(t=null!=r||null!=i||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},u];const h=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:h,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),h(e))}},u]}const Pr=t.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Nr);const[s,{tagName:a}]=Ir(Object.assign({tagName:n,disabled:r},i));return(0,We.jsx)(a,Object.assign({},i,s,{ref:t}))});Pr.displayName="Button";const Ar=Pr,Or=["as","active","eventKey"];function Mr(e){let{key:n,onClick:r,active:i,id:s,role:a,disabled:o}=e;const c=(0,t.useContext)(je),l=(0,t.useContext)(Sr),u=(0,t.useContext)(Tr);let h=i;const d={role:a};if(l){a||"tablist"!==l.role||(d.role="tab");const e=l.getControllerId(null!=n?n:null),t=l.getControlledId(null!=n?n:null);d[ln("event-key")]=n,d.id=e||s,h=null==i&&null!=n?l.activeKey===n:i,!h&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(d["aria-controls"]=t)}return"tab"===d.role&&(d["aria-selected"]=h,h||(d.tabIndex=-1),o&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=Kt(e=>{o||(null==r||r(e),null!=n&&c&&!e.isPropagationStopped()&&c(n,e))}),[d,{isActive:h}]}const Rr=t.forwardRef((e,t)=>{let{as:n=Ar,active:r,eventKey:i}=e,s=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Or);const[a,o]=Mr(Object.assign({key:Le(i,s.href),active:r},s));return a[ln("active")]=o.isActive,(0,We.jsx)(n,Object.assign({},s,a,{ref:t}))});Rr.displayName="NavItem";const Lr=Rr,jr=["as","onSelect","activeKey","role","onKeyDown"];const Dr=()=>{},Br=ln("event-key"),Fr=t.forwardRef((e,n)=>{let{as:r="div",onSelect:i,activeKey:s,role:a,onKeyDown:o}=e,c=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,jr);const l=function(){const[,e]=(0,t.useReducer)(e=>!e,!1);return e}(),u=(0,t.useRef)(!1),h=(0,t.useContext)(je),d=(0,t.useContext)(Tr);let f,p;d&&(a=a||"tablist",s=d.activeKey,f=d.getControlledId,p=d.getControllerId);const m=(0,t.useRef)(null),g=e=>{const t=m.current;if(!t)return null;const n=ir(t,"[".concat(Br,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let s=i+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},v=(e,t)=>{null!=e&&(null==i||i(e,t),null==h||h(e,t))};(0,t.useEffect)(()=>{if(m.current&&u.current){const e=m.current.querySelector("[".concat(Br,"][aria-selected=true]"));null==e||e.focus()}u.current=!1});const b=Ot(n,m);return(0,We.jsx)(je.Provider,{value:v,children:(0,We.jsx)(Sr.Provider,{value:{role:a,activeKey:Le(s),getControlledId:f||Dr,getControllerId:p||Dr},children:(0,We.jsx)(r,Object.assign({},c,{onKeyDown:e=>{if(null==o||o(e),!d)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}var n;t&&(e.preventDefault(),v(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),u.current=!0,l())},ref:b,role:a}))})})});Fr.displayName="Nav";const zr=Object.assign(Fr,{Item:Lr}),Hr=t.createContext(null);Hr.displayName="CardHeaderContext";const Ur=Hr,qr=["className","bsPrefix","as"],Wr=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="div"}=e,s=Oe(e,qr);return r=Qe(r,"nav-item"),(0,We.jsx)(i,Pe({ref:t,className:Re()(n,r)},s))});Wr.displayName="NavItem";const Vr=Wr;new WeakMap;const Gr=["onKeyDown"];const Yr=t.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Gr);const[i]=Ir(Object.assign({tagName:"a"},r)),s=Kt(e=>{i.onKeyDown(e),null==n||n(e)});return(a=r.href)&&"#"!==a.trim()&&"button"!==r.role?(0,We.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,We.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:s}));var a});Yr.displayName="Anchor";const Kr=Yr,Xr=["bsPrefix","className","as","active","eventKey","disabled"],Qr=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:i=Kr,active:s,eventKey:a,disabled:o=!1}=e,c=Oe(e,Xr);n=Qe(n,"nav-link");const[l,u]=Mr(Pe({key:Le(a,c.href),active:s,disabled:o},c));return(0,We.jsx)(i,Pe(Pe(Pe({},c),l),{},{ref:t,disabled:o,className:Re()(r,n,o&&"disabled",u.isActive&&"active")}))});Qr.displayName="NavLink";const $r=Qr,Jr=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Zr=t.forwardRef((e,n)=>{const r=ze(e,{activeKey:"onSelect"}),{as:i="div",bsPrefix:s,variant:a,fill:o=!1,justify:c=!1,navbar:l,navbarScroll:u,className:h,activeKey:d}=r,f=Oe(r,Jr),p=Qe(s,"nav");let m,g,v=!1;const b=(0,t.useContext)(qt),y=(0,t.useContext)(Ur);return b?(m=b.bsPrefix,v=null==l||l):y&&({cardHeaderBsPrefix:g}=y),(0,We.jsx)(zr,Pe({as:i,ref:n,activeKey:d,className:Re()(h,{[p]:!v,["".concat(m,"-nav")]:v,["".concat(m,"-nav-scroll")]:v&&u,["".concat(g,"-").concat(a)]:!!g,["".concat(p,"-").concat(a)]:!!a,["".concat(p,"-fill")]:o,["".concat(p,"-justified")]:c})},f))});Zr.displayName="Nav";const ei=Object.assign(Zr,{Item:Vr,Link:$r}),ti=!1,ni=!1,ri="${JSCORE_VERSION}",ii=function(e,t){if(!e)throw si(t)},si=function(e){return new Error("Firebase Database ("+ri+") INTERNAL ASSERT FAILED: "+e)},ai=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},oi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,c=o?e[i+2]:0,l=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|c>>6,d=63&c;o||(d=64,s||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ai(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new ci;const c=t<<2|s>>4;if(r.push(c),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ci extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const li=function(e){const t=ai(e);return oi.encodeByteArray(t,!0)},ui=function(e){return li(e).replace(/\./g,"")},hi=function(e){try{return oi.decodeString(e,!0)}catch(tv){console.error("base64Decode failed: ",tv)}return null};function di(e){return fi(void 0,e)}function fi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&pi(n)&&(e[n]=fi(e[n],t[n]));return e}function pi(e){return"__proto__"!==e}const mi=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,gi=()=>{try{return mi()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/errordetection",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(tv){return}const t=e&&hi(e[1]);return t&&JSON.parse(t)})()}catch(tv){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(tv))}},vi=e=>{var t,n;return null===(n=null===(t=gi())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},bi=e=>{const t=vi(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},yi=()=>{var e;return null===(e=gi())||void 0===e?void 0:e.config},xi=e=>{var t;return null===(t=gi())||void 0===t?void 0:t["_".concat(e)]};class wi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function _i(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ui(JSON.stringify({alg:"none",type:"JWT"})),ui(JSON.stringify(s)),""].join(".")}function ki(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ci(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ki())}function Ei(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Si(){return!0===ti||!0===ni}class Ti extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ni.prototype.create)}}class Ni{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ii,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ti(n,s,t)}}const Ii=/\{\$([^}]+)}/g;function Pi(e){return JSON.parse(e)}function Ai(e){return JSON.stringify(e)}const Oi=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Pi(hi(s[0])||""),n=Pi(hi(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(tv){}return{header:t,claims:n,data:r,signature:i}};function Mi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ri(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Li(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ji(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Di(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Bi(n)&&Bi(s)){if(!Di(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Bi(e){return null!==e&&"object"===typeof e}function Fi(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function zi(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Hi(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ui{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],a=this.chain_[1],o=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=c^a&(o^c),i=1518500249):(r=a^o^c,i=1859775393):u<60?(r=a&o|c&(a|o),i=2400959708):(r=a^o^c,i=3395469782);const e=(s<<5|s>>>27)+r+l+i+n[u]&4294967295;l=c,c=o,o=4294967295&(a<<30|a>>>2),a=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class qi{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Wi),void 0===r.error&&(r.error=Wi),void 0===r.complete&&(r.complete=Wi);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(tv){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(tv){"undefined"!==typeof console&&console.error&&console.error(tv)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wi(){}function Vi(e,t){return"".concat(e," failed: ").concat(t," argument ")}const Gi=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Yi(e){return e&&e._delegate?e._delegate:e}class Ki{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xi="[DEFAULT]";class Qi{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new wi;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(tv){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(tv){if(r)return null;throw tv}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch(tv){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(tv){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Xi?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi;return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $i{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Qi(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ji=[];var Zi;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Zi||(Zi={}));const es={debug:Zi.DEBUG,verbose:Zi.VERBOSE,info:Zi.INFO,warn:Zi.WARN,error:Zi.ERROR,silent:Zi.SILENT},ts=Zi.INFO,ns={[Zi.DEBUG]:"log",[Zi.VERBOSE]:"log",[Zi.INFO]:"info",[Zi.WARN]:"warn",[Zi.ERROR]:"error"},rs=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ns[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class is{constructor(e){this.name=e,this._logLevel=ts,this._logHandler=rs,this._userLogHandler=null,Ji.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?es[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zi.DEBUG,...t),this._logHandler(this,Zi.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zi.VERBOSE,...t),this._logHandler(this,Zi.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zi.INFO,...t),this._logHandler(this,Zi.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zi.WARN,...t),this._logHandler(this,Zi.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zi.ERROR,...t),this._logHandler(this,Zi.ERROR,...t)}}let ss,as;const os=new WeakMap,cs=new WeakMap,ls=new WeakMap,us=new WeakMap,hs=new WeakMap;let ds={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return cs.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ls.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function fs(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(as||(as=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(gs(this),n),ms(os.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ms(e.apply(gs(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(gs(this),t,...r);return ls.set(s,t.sort?t.sort():[t]),ms(s)}}function ps(e){return"function"===typeof e?fs(e):(e instanceof IDBTransaction&&function(e){if(cs.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});cs.set(e,t)}(e),t=e,(ss||(ss=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,ds):e);var t}function ms(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ms(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&os.set(t,e)}).catch(()=>{}),hs.set(t,e),t}(e);if(us.has(e))return us.get(e);const t=ps(e);return t!==e&&(us.set(e,t),hs.set(t,e)),t}const gs=e=>hs.get(e);const vs=["get","getKey","getAll","getAllKeys","count"],bs=["put","add","delete","clear"],ys=new Map;function xs(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ys.get(t))return ys.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=bs.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!vs.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return ys.set(t,s),s}ds=(e=>Pe(Pe({},e),{},{get:(t,n,r)=>xs(t,n)||e.get(t,n,r),has:(t,n)=>!!xs(t,n)||e.has(t,n)}))(ds);class ws{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const _s="@firebase/app",ks="0.10.13",Cs=new is("@firebase/app"),Es="@firebase/app-compat",Ss="@firebase/analytics-compat",Ts="@firebase/analytics",Ns="@firebase/app-check-compat",Is="@firebase/app-check",Ps="@firebase/auth",As="@firebase/auth-compat",Os="@firebase/database",Ms="@firebase/data-connect",Rs="@firebase/database-compat",Ls="@firebase/functions",js="@firebase/functions-compat",Ds="@firebase/installations",Bs="@firebase/installations-compat",Fs="@firebase/messaging",zs="@firebase/messaging-compat",Hs="@firebase/performance",Us="@firebase/performance-compat",qs="@firebase/remote-config",Ws="@firebase/remote-config-compat",Vs="@firebase/storage",Gs="@firebase/storage-compat",Ys="@firebase/firestore",Ks="@firebase/vertexai-preview",Xs="@firebase/firestore-compat",Qs="firebase",$s="[DEFAULT]",Js={[_s]:"fire-core",[Es]:"fire-core-compat",[Ts]:"fire-analytics",[Ss]:"fire-analytics-compat",[Is]:"fire-app-check",[Ns]:"fire-app-check-compat",[Ps]:"fire-auth",[As]:"fire-auth-compat",[Os]:"fire-rtdb",[Ms]:"fire-data-connect",[Rs]:"fire-rtdb-compat",[Ls]:"fire-fn",[js]:"fire-fn-compat",[Ds]:"fire-iid",[Bs]:"fire-iid-compat",[Fs]:"fire-fcm",[zs]:"fire-fcm-compat",[Hs]:"fire-perf",[Us]:"fire-perf-compat",[qs]:"fire-rc",[Ws]:"fire-rc-compat",[Vs]:"fire-gcs",[Gs]:"fire-gcs-compat",[Ys]:"fire-fst",[Xs]:"fire-fst-compat",[Ks]:"fire-vertex","fire-js":"fire-js",[Qs]:"fire-js-all"},Zs=new Map,ea=new Map,ta=new Map;function na(e,t){try{e.container.addComponent(t)}catch(tv){Cs.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),tv)}}function ra(e){const t=e.name;if(ta.has(t))return Cs.debug("There were multiple attempts to register component ".concat(t,".")),!1;ta.set(t,e);for(const n of Zs.values())na(n,e);for(const n of ea.values())na(n,e);return!0}function ia(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sa(e){return void 0!==e.settings}const aa=new Ni("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class oa{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}const ca="10.14.1";function la(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:$s,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw aa.create("bad-app-name",{appName:String(i)});if(n||(n=yi()),!n)throw aa.create("no-options");const s=Zs.get(i);if(s){if(Di(n,s.options)&&Di(r,s.config))return s;throw aa.create("duplicate-app",{appName:i})}const a=new $i(i);for(const c of ta.values())a.addComponent(c);const o=new oa(n,r,a);return Zs.set(i,o),o}function ua(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$s;const t=Zs.get(e);if(!t&&e===$s&&yi())return la();if(!t)throw aa.create("no-app",{appName:e});return t}function ha(e,t,n){var r;let i=null!==(r=Js[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Cs.warn(e.join(" "))}ra(new Ki("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const da="firebase-heartbeat-store";let fa=null;function pa(){return fa||(fa=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=ms(a);return r&&a.addEventListener("upgradeneeded",e=>{r(ms(a.result),e.oldVersion,e.newVersion,ms(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(da)}catch(tv){console.warn(tv)}}}).catch(e=>{throw aa.create("idb-open",{originalErrorMessage:e.message})})),fa}async function ma(e,t){try{const n=(await pa()).transaction(da,"readwrite"),r=n.objectStore(da);await r.put(t,ga(e)),await n.done}catch(tv){if(tv instanceof Ti)Cs.warn(tv.message);else{const t=aa.create("idb-set",{originalErrorMessage:null===tv||void 0===tv?void 0:tv.message});Cs.warn(t.message)}}}function ga(e){return"".concat(e.name,"!").concat(e.options.appId)}class va{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ya(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ba();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(tv){Cs.warn(tv)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ba(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),xa(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xa(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ui(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(tv){return Cs.warn(tv),""}}}function ba(){return(new Date).toISOString().substring(0,10)}class ya{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(tv){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(za){t(za)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await pa()).transaction(da),n=await t.objectStore(da).get(ga(e));return await t.done,n}catch(tv){if(tv instanceof Ti)Cs.warn(tv.message);else{const t=aa.create("idb-get",{originalErrorMessage:null===tv||void 0===tv?void 0:tv.message});Cs.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ma(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ma(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function xa(e){return ui(JSON.stringify({version:2,heartbeats:e})).length}var wa;wa="",ra(new Ki("platform-logger",e=>new ws(e),"PRIVATE")),ra(new Ki("heartbeat",e=>new va(e),"PRIVATE")),ha(_s,ks,wa),ha(_s,ks,"esm2017"),ha("fire-js","");const _a="@firebase/database",ka="1.0.8";let Ca="";function Ea(e){Ca=e}class Sa{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ai(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Pi(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Ta{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Mi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Na=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Sa(t)}}catch(tv){}return new Ta},Ia=Na("localStorage"),Pa=Na("sessionStorage"),Aa=new is("@firebase/database"),Oa=function(){let e=1;return function(){return e++}}(),Ma=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,ii(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ui;n.update(t);const r=n.digest();return oi.encodeByteArray(r)},Ra=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Ra.apply(null,n):e+="object"===typeof n?Ai(n):n,e+=" "}return e};let La=null,ja=!0;const Da=function(e,t){ii(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Aa.logLevel=Zi.VERBOSE,La=Aa.log.bind(Aa),t&&Pa.set("logging_enabled",!0)):"function"===typeof e?La=e:(La=null,Pa.remove("logging_enabled"))},Ba=function(){if(!0===ja&&(ja=!1,null===La&&!0===Pa.get("logging_enabled")&&Da(!0)),La){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Ra.apply(null,t);La(r)}},Fa=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Ba(e,...n)}},za=function(){const e="FIREBASE INTERNAL ERROR: "+Ra(...arguments);Aa.error(e)},Ha=function(){const e="FIREBASE FATAL ERROR: ".concat(Ra(...arguments));throw Aa.error(e),new Error(e)},Ua=function(){const e="FIREBASE WARNING: "+Ra(...arguments);Aa.warn(e)},qa=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Wa="[MIN_NAME]",Va="[MAX_NAME]",Ga=function(e,t){if(e===t)return 0;if(e===Wa||t===Va)return-1;if(t===Wa||e===Va)return 1;{const n=eo(e),r=eo(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Ya=function(e,t){return e===t?0:e<t?-1:1},Ka=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ai(t))},Xa=function(e){if("object"!==typeof e||null===e)return Ai(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Ai(t[r]),n+=":",n+=Xa(e[t[r]]);return n+="}",n},Qa=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function $a(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Ja=function(e){ii(!qa(e),"Invalid JSON number");const t=1023;let n,r,i,s,a;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const o=[];for(a=52;a;a-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(a=11;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);o.push(n?1:0),o.reverse();const c=o.join("");let l="";for(a=0;a<64;a+=8){let e=parseInt(c.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()};const Za=new RegExp("^-?(0*)\\d{1,10}$"),eo=function(e){if(Za.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},to=function(e){try{e()}catch(tv){setTimeout(()=>{const t=tv.stack||"";throw Ua("Exception was thrown by user callback.",t),tv},Math.floor(0))}},no=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class ro{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Ua('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class io{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ba("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ua(e)}}class so{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}so.OWNER="owner";const ao="5",oo=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,co="ac",lo="websocket",uo="long_polling";class ho{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ia.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ia.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function fo(e,t,n){let r;if(ii("string"===typeof t,"typeof type must == string"),ii("object"===typeof n,"typeof params must == object"),t===lo)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==uo)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return $a(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class po{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Mi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return di(this.counters_)}}const mo={},go={};function vo(e){const t=e.toString();return mo[t]||(mo[t]=new po),mo[t]}class bo{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&to(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const yo="start";class xo{constructor(e,t,n,r,i,s,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fa(e),this.stats_=vo(t),this.urlFn=e=>(this.appCheckToken&&(e[co]=this.appCheckToken),fo(t,uo,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new bo(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Si()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wo(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,a,o,c]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===yo)n.id=s,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)},()=>{this.onClosed_()},this.urlFn);const e={};e[yo]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=ao,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[co]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&oo.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xo.forceAllow_=!0}static forceDisallow(){xo.forceDisallow_=!0}static isAvailable(){return!Si()&&(!!xo.forceAllow_||!xo.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ai(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=li(t),r=Qa(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Si())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ai(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class wo{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Si())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Oa(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=wo.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(tv){Ba("frame writing exception"),tv.stack&&Ba(tv.stack),Ba(tv)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ba("No IE domain setting required")}catch(tv){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){Si()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Ba("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(tv){}},Math.floor(1))}}let _o=null;"undefined"!==typeof MozWebSocket?_o=MozWebSocket:"undefined"!==typeof WebSocket&&(_o=WebSocket);class ko{constructor(e,t,n,r,i,s,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fa(this.connId),this.stats_=vo(t),this.connURL=ko.connectionURL_(t,s,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=ao,!Si()&&"undefined"!==typeof location&&location.hostname&&oo.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[co]=r),i&&(s.p=i),fo(e,lo,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ia.set("previous_websocket_failure",!0);try{let e;if(Si()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(ao,"/").concat(Ca,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/errordetection",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new _o(this.connURL,[],e)}catch(tv){this.log_("Error instantiating WebSocket.");const t=tv.message||tv.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){ko.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==_o&&!ko.forceDisallow_}static previouslyFailed(){return Ia.isInMemoryStorage||!0===Ia.get("previous_websocket_failure")}markConnectionHealthy(){Ia.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Pi(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ii(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Ai(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Qa(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(tv){this.log_("Exception thrown from WebSocket.send():",tv.message||tv.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ko.responsesRequiredToBeHealthy=2,ko.healthyTimeout=3e4;class Co{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xo,ko]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=ko&&ko.isAvailable();let n=t&&!ko.previouslyFailed();if(e.webSocketOnly&&(t||Ua("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[ko];else{const e=this.transports_=[];for(const t of Co.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Co.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Co.globalTransportInitialized_=!1;class Eo{constructor(e,t,n,r,i,s,a,o,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=o,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fa("c:"+this.id+":"),this.transportManager_=new Co(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=no(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Ka("t",e),n=Ka("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Ka("t",e),n=Ka("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Ka("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?za("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):za("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ao!==n&&Ua("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),no(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):no(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ia.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class So{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class To{constructor(e){this.allowedEvents_=e,this.listeners_={},ii(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){ii(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class No extends To{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ci()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new No}getInitialEvent(e){return ii("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Io{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Po(){return new Io("")}function Ao(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Oo(e){return e.pieces_.length-e.pieceNum_}function Mo(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Io(e.pieces_,t)}function Ro(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Lo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function jo(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Io(t,0)}function Do(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Io)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Io(n,0)}function Bo(e){return e.pieceNum_>=e.pieces_.length}function Fo(e,t){const n=Ao(e),r=Ao(t);if(null===n)return t;if(n===r)return Fo(Mo(e),Mo(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function zo(e,t){if(Oo(e)!==Oo(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ho(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Oo(e)>Oo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Uo{constructor(e,t){this.errorPrefix_=t,this.parts_=Lo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Gi(this.parts_[n]);qo(this)}}function qo(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Wo(e))}function Wo(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Vo extends To{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new Vo}getInitialEvent(e){return ii("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Go=1e3;class Yo extends So{constructor(e,t,n,r,i,s,a,o){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=o,this.id=Yo.nextPersistentConnectionId_++,this.log_=Fa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Go,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o&&!Si())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vo.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&No.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ai(i)),ii(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new wi,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),ii(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ii(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const s=i.d,a=i.s;Yo.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Mi(e,"w")){const n=Ri(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Ua("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Oi(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Oi(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ii(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ai(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):za("Unrecognized action received from server: "+Ai(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ii(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Go,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Go,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Go),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Yo.nextConnectionId_++,i=this.lastSessionId;let s=!1,a=null;const o=function(){a?a.close():(s=!0,n())},c=function(e){ii(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:o,sendRequest:c};const l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,c]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);s?Ba("getToken() completed but was canceled"):(Ba("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=c&&c.token,a=new Eo(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{Ua(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(za){this.log_("Failed to get token: "+za),s||(this.repoInfo_.nodeAdmin&&Ua(za),o())}}}interrupt(e){Ba("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ba("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Li(this.interruptReasons_)&&(this.reconnectDelay_=Go,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>Xa(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Io(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Ba("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Ba("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Si()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ca.replace(/\./g,"-")]=1,Ci()?e["framework.cordova"]=1:Ei()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=No.getInstance().currentlyOnline();return Li(this.interruptReasons_)&&e}}Yo.nextPersistentConnectionId_=0,Yo.nextConnectionId_=0;class Ko{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ko(e,t)}}class Xo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Ko(Wa,e),r=new Ko(Wa,t);return 0!==this.compare(n,r)}minPost(){return Ko.MIN}}let Qo;class $o extends Xo{static get __EMPTY_NODE(){return Qo}static set __EMPTY_NODE(e){Qo=e}compare(e,t){return Ga(e.name,t.name)}isDefinedOn(e){throw si("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ko.MIN}maxPost(){return new Ko(Va,Qo)}makePost(e,t){return ii("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ko(e,Qo)}toString(){return".key"}}const Jo=new $o;class Zo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ec{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ec.RED,this.left=null!=r?r:tc.EMPTY_NODE,this.right=null!=i?i:tc.EMPTY_NODE}copy(e,t,n,r,i){return new ec(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return tc.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return tc.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ec.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ec.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ec.RED=!0,ec.BLACK=!1;class tc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tc.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new tc(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ec.BLACK,null,null))}remove(e){return new tc(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ec.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Zo(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Zo(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Zo(this.root_,null,this.comparator_,!0,e)}}function nc(e,t){return Ga(e.name,t.name)}function rc(e,t){return Ga(e,t)}let ic;tc.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new ec(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sc=function(e){return"number"===typeof e?"number:"+Ja(e):"string:"+e},ac=function(e){if(e.isLeafNode()){const t=e.val();ii("string"===typeof t||"number"===typeof t||"object"===typeof t&&Mi(t,".sv"),"Priority must be a string or number.")}else ii(e===ic||e.isEmpty(),"priority of unexpected type.");ii(e===ic||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let oc,cc,lc;class uc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uc.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ii(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ac(this.priorityNode_)}static set __childrenNodeConstructor(e){oc=e}static get __childrenNodeConstructor(){return oc}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new uc(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:uc.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Bo(e)?this:".priority"===Ao(e)?this.priorityNode_:uc.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:uc.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Ao(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(ii(".priority"!==n||1===Oo(e),".priority must be the last token in a path"),this.updateImmediateChild(n,uc.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mo(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sc(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Ja(this.value_):this.value_,this.lazyHash_=Ma(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===uc.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof uc.__childrenNodeConstructor?-1:(ii(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=uc.VALUE_TYPE_ORDER.indexOf(t),i=uc.VALUE_TYPE_ORDER.indexOf(n);return ii(r>=0,"Unknown leaf type: "+t),ii(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}uc.VALUE_TYPE_ORDER=["object","boolean","number","string"];const hc=new class extends Xo{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Ga(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ko.MIN}maxPost(){return new Ko(Va,new uc("[PRIORITY-POST]",lc))}makePost(e,t){const n=cc(e);return new Ko(t,new uc("[PRIORITY-POST]",n))}toString(){return".priority"}},dc=Math.log(2);class fc{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/dc,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pc=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let a,o;if(0===s)return null;if(1===s)return a=e[t],o=n?n(a):a,new ec(o,a.node,ec.BLACK,null,null);{const c=parseInt(s/2,10)+t,l=i(t,c),u=i(c+1,r);return a=e[c],o=n?n(a):a,new ec(o,a.node,ec.BLACK,l,u)}},s=function(t){let r=null,s=null,a=e.length;const o=function(t,r){const s=a-t,o=a;a-=t;const l=i(s+1,o),u=e[s],h=n?n(u):u;c(new ec(h,u.node,r,null,l))},c=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?o(r,ec.BLACK):(o(r,ec.BLACK),o(r,ec.RED))}return s}(new fc(e.length));return new tc(r||t,s)};let mc;const gc={};class vc{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return ii(gc&&hc,"ChildrenNode.ts has not been loaded"),mc=mc||new vc({".priority":gc},{".priority":hc}),mc}get(e){const t=Ri(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof tc?t:null}hasIndex(e){return Mi(this.indexSet_,e.toString())}addIndex(e,t){ii(e!==Jo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Ko.Wrap);let s,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();s=r?pc(n,e.getCompare()):gc;const o=e.toString(),c=Object.assign({},this.indexSet_);c[o]=e;const l=Object.assign({},this.indexes_);return l[o]=s,new vc(l,c)}addToIndexes(e,t){const n=ji(this.indexes_,(n,r)=>{const i=Ri(this.indexSet_,r);if(ii(i,"Missing index implementation for "+r),n===gc){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Ko.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),pc(n,i.getCompare())}return gc}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Ko(e.name,r))),i.insert(e,e.node)}});return new vc(n,this.indexSet_)}removeFromIndexes(e,t){const n=ji(this.indexes_,n=>{if(n===gc)return n;{const r=t.get(e.name);return r?n.remove(new Ko(e.name,r)):n}});return new vc(n,this.indexSet_)}}let bc;class yc{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ac(this.priorityNode_),this.children_.isEmpty()&&ii(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bc||(bc=new yc(new tc(rc),null,vc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bc}updatePriority(e){return this.children_.isEmpty()?this:new yc(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?bc:t}}getChild(e){const t=Ao(e);return null===t?this:this.getImmediateChild(t).getChild(Mo(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(ii(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Ko(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?bc:this.priorityNode_;return new yc(r,s,i)}}updateChild(e,t){const n=Ao(e);if(null===n)return t;{ii(".priority"!==Ao(e)||1===Oo(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Mo(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(hc,(s,a)=>{t[s]=a.val(e),n++,i&&yc.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+sc(this.getPriority().val())+":"),this.forEachChild(hc,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":Ma(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Ko(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Ko(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Ko(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Ko.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Ko.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===xc?-1:0}withIndex(e){if(e===Jo||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new yc(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Jo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(hc),n=t.getIterator(hc);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Jo?null:this.indexMap_.get(e.toString())}}yc.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const xc=new class extends yc{constructor(){super(new tc(rc),yc.EMPTY_NODE,vc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return yc.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ko,{MIN:{value:new Ko(Wa,yc.EMPTY_NODE)},MAX:{value:new Ko(Va,xc)}}),$o.__EMPTY_NODE=yc.EMPTY_NODE,uc.__childrenNodeConstructor=yc,ic=xc,function(e){lc=e}(xc);function wc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return yc.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ii(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new uc(e,wc(t))}if(e instanceof Array){let n=yc.EMPTY_NODE;return $a(e,(t,r)=>{if(Mi(e,t)&&"."!==t.substring(0,1)){const e=wc(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(wc(t))}{const n=[];let r=!1;if($a(e,(e,t)=>{if("."!==e.substring(0,1)){const i=wc(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Ko(e,i)))}}),0===n.length)return yc.EMPTY_NODE;const i=pc(n,nc,e=>e.name,rc);if(r){const e=pc(n,hc.getCompare());return new yc(i,wc(t),new vc({".priority":e},{".priority":hc}))}return new yc(i,wc(t),vc.Default)}}!function(e){cc=e}(wc);class _c extends Xo{constructor(e){super(),this.indexPath_=e,ii(!Bo(e)&&".priority"!==Ao(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Ga(e.name,t.name):i}makePost(e,t){const n=wc(e),r=yc.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ko(t,r)}maxPost(){const e=yc.EMPTY_NODE.updateChild(this.indexPath_,xc);return new Ko(Va,e)}toString(){return Lo(this.indexPath_,0).join("/")}}const kc=new class extends Xo{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Ga(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ko.MIN}maxPost(){return Ko.MAX}makePost(e,t){const n=wc(e);return new Ko(t,n)}toString(){return".value"}};function Cc(e){return{type:"value",snapshotNode:e}}function Ec(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Sc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Tc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Nc{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){ii(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Sc(t,a)):ii(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Ec(t,n)):s.trackChildChange(Tc(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(hc,(e,r)=>{t.hasChild(e)||n.trackChildChange(Sc(e,r))}),t.isLeafNode()||t.forEachChild(hc,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Tc(t,r,i))}else n.trackChildChange(Ec(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?yc.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ic{constructor(e){this.indexedFilter_=new Nc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ic.getStartPost_(e),this.endPost_=Ic.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new Ko(t,n))||(n=yc.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=yc.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(yc.EMPTY_NODE);const i=this;return t.forEachChild(hc,(e,t)=>{i.matches(new Ko(e,t))||(r=r.updateImmediateChild(e,yc.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Pc{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Ic(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new Ko(t,n))||(n=yc.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=yc.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=yc.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(yc.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,yc.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const a=e;ii(a.numChildren()===this.limit_,"");const o=new Ko(t,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(o);if(a.hasChild(t)){const e=a.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=u&&(u.name===t||a.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,o);if(l&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Tc(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Sc(t,e));const n=a.updateImmediateChild(t,yc.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Ec(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:l&&s(c,o)>=0?(null!=i&&(i.trackChildChange(Sc(c.name,c.node)),i.trackChildChange(Ec(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(c.name,yc.EMPTY_NODE)):e}}class Ac{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hc}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ii(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ii(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wa}hasEnd(){return this.endSet_}getIndexEndValue(){return ii(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ii(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Va}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ii(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hc}copy(){const e=new Ac;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Oc(e,t){const n=e.copy();return n.index_=t,n}function Mc(e){const t={};if(e.isDefault())return t;let n;if(e.index_===hc?n="$priority":e.index_===kc?n="$value":e.index_===Jo?n="$key":(ii(e.index_ instanceof _c,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ai(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Ai(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Ai(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Ai(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Ai(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Rc(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==hc&&(t.i=e.index_.toString()),t}class Lc extends So{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Fa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(ii(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=Lc.getListenId_(e,n),a={};this.listens_[s]=a;const o=Mc(e._queryParams);this.restRequest_(i+".json",o,(e,t)=>{let o=t;if(404===e&&(o=null,e=null),null===e&&this.onDataUpdate_(i,o,!1,n),Ri(this.listens_,s)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Lc.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Mc(e._queryParams),n=e._path.toString(),r=new wi;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Fi(t);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=Pi(o.responseText)}catch(tv){Ua("Failed to parse JSON response for "+a+": "+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&Ua("Got unsuccessful REST response for "+a+" Status: "+o.status),n(o.status);n=null}},o.open("GET",a,!0),o.send()})}}class jc{constructor(){this.rootNode_=yc.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Dc(){return{value:null,children:new Map}}function Bc(e,t,n){if(Bo(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Ao(t);e.children.has(r)||e.children.set(r,Dc());Bc(e.children.get(r),t=Mo(t),n)}}function Fc(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{Fc(r,new Io(t.toString()+"/"+e),n)})}class zc{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&$a(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Hc{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new zc(e);const n=1e4+2e4*Math.random();no(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;$a(e,(e,r)=>{r>0&&Mi(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),no(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Uc;function qc(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Uc||(Uc={}));class Wc{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Uc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Bo(this.path)){if(null!=this.affectedTree.value)return ii(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Io(e));return new Wc(Po(),t,this.revert)}}return ii(Ao(this.path)===e,"operationForChild called for unrelated child."),new Wc(Mo(this.path),this.affectedTree,this.revert)}}class Vc{constructor(e,t){this.source=e,this.path=t,this.type=Uc.LISTEN_COMPLETE}operationForChild(e){return Bo(this.path)?new Vc(this.source,Po()):new Vc(this.source,Mo(this.path))}}class Gc{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Uc.OVERWRITE}operationForChild(e){return Bo(this.path)?new Gc(this.source,Po(),this.snap.getImmediateChild(e)):new Gc(this.source,Mo(this.path),this.snap)}}class Yc{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Uc.MERGE}operationForChild(e){if(Bo(this.path)){const t=this.children.subtree(new Io(e));return t.isEmpty()?null:t.value?new Gc(this.source,Po(),t.value):new Yc(this.source,Po(),t)}return ii(Ao(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Yc(this.source,Mo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Kc{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Bo(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ao(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Xc{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Qc(e,t,n,r,i,s){const a=r.filter(e=>e.type===n);a.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw si("Should only compare child_ events.");const r=new Ko(t.childName,t.snapshotNode),i=new Ko(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),a.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function $c(e,t){return{eventCache:e,serverCache:t}}function Jc(e,t,n,r){return $c(new Kc(t,n,r),e.serverCache)}function Zc(e,t,n,r){return $c(e.eventCache,new Kc(t,n,r))}function el(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function tl(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let nl;class rl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(nl||(nl=new tc(Ya)),nl);this.value=e,this.children=t}static fromObject(e){let t=new rl(null);return $a(e,(e,n)=>{t=t.set(new Io(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Po(),value:this.value};if(Bo(e))return null;{const n=Ao(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Mo(e),t);if(null!=i){return{path:Do(new Io(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Bo(e))return this;{const t=Ao(e),n=this.children.get(t);return null!==n?n.subtree(Mo(e)):new rl(null)}}set(e,t){if(Bo(e))return new rl(t,this.children);{const n=Ao(e),r=(this.children.get(n)||new rl(null)).set(Mo(e),t),i=this.children.insert(n,r);return new rl(this.value,i)}}remove(e){if(Bo(e))return this.children.isEmpty()?new rl(null):new rl(null,this.children);{const t=Ao(e),n=this.children.get(t);if(n){const r=n.remove(Mo(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new rl(null):new rl(this.value,i)}return this}}get(e){if(Bo(e))return this.value;{const t=Ao(e),n=this.children.get(t);return n?n.get(Mo(e)):null}}setTree(e,t){if(Bo(e))return t;{const n=Ao(e),r=(this.children.get(n)||new rl(null)).setTree(Mo(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new rl(this.value,i)}}fold(e){return this.fold_(Po(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(Do(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Po(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Bo(e))return null;{const r=Ao(e),i=this.children.get(r);return i?i.findOnPath_(Mo(e),Do(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Po(),t)}foreachOnPath_(e,t,n){if(Bo(e))return this;{this.value&&n(t,this.value);const r=Ao(e),i=this.children.get(r);return i?i.foreachOnPath_(Mo(e),Do(t,r),n):new rl(null)}}foreach(e){this.foreach_(Po(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(Do(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class il{constructor(e){this.writeTree_=e}static empty(){return new il(new rl(null))}}function sl(e,t,n){if(Bo(t))return new il(new rl(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const a=Fo(i,t);return s=s.updateChild(a,n),new il(e.writeTree_.set(i,s))}{const r=new rl(n),i=e.writeTree_.setTree(t,r);return new il(i)}}}function al(e,t,n){let r=e;return $a(n,(e,n)=>{r=sl(r,Do(t,e),n)}),r}function ol(e,t){if(Bo(t))return il.empty();{const n=e.writeTree_.setTree(t,new rl(null));return new il(n)}}function cl(e,t){return null!=ll(e,t)}function ll(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Fo(n.path,t)):null}function ul(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(hc,(e,n)=>{t.push(new Ko(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Ko(e,n.value))}),t}function hl(e,t){if(Bo(t))return e;{const n=ll(e,t);return new il(null!=n?new rl(n):e.writeTree_.subtree(t))}}function dl(e){return e.writeTree_.isEmpty()}function fl(e,t){return pl(Po(),e.writeTree_,t)}function pl(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(ii(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=pl(Do(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Do(e,".priority"),r)),n}}function ml(e,t){return Nl(t,e)}function gl(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);ii(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&vl(t,r.path)?i=!1:Ho(r.path,t.path)&&(s=!0)),a--}if(i){if(s)return function(e){e.visibleWrites=yl(e.allWrites,bl,Po()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=ol(e.visibleWrites,r.path);else{$a(r.children,t=>{e.visibleWrites=ol(e.visibleWrites,Do(r.path,t))})}return!0}return!1}function vl(e,t){if(e.snap)return Ho(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ho(Do(e.path,n),t))return!0;return!1}function bl(e){return e.visible}function yl(e,t,n){let r=il.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Ho(n,e)?(t=Fo(n,e),r=sl(r,t,s.snap)):Ho(e,n)&&(t=Fo(e,n),r=sl(r,Po(),s.snap.getChild(t)));else{if(!s.children)throw si("WriteRecord should have .snap or .children");if(Ho(n,e))t=Fo(n,e),r=al(r,t,s.children);else if(Ho(e,n))if(t=Fo(e,n),Bo(t))r=al(r,Po(),s.children);else{const e=Ri(s.children,Ao(t));if(e){const n=e.getChild(Mo(t));r=sl(r,Po(),n)}}}}}return r}function xl(e,t,n,r,i){if(r||i){const s=hl(e.visibleWrites,t);if(!i&&dl(s))return n;if(i||null!=n||cl(s,Po())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ho(e.path,t)||Ho(t,e.path))};return fl(yl(e.allWrites,s,t),n||yc.EMPTY_NODE)}return null}{const r=ll(e.visibleWrites,t);if(null!=r)return r;{const r=hl(e.visibleWrites,t);if(dl(r))return n;if(null!=n||cl(r,Po())){return fl(r,n||yc.EMPTY_NODE)}return null}}}function wl(e,t,n,r){return xl(e.writeTree,e.treePath,t,n,r)}function _l(e,t){return function(e,t,n){let r=yc.EMPTY_NODE;const i=ll(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(hc,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=hl(e.visibleWrites,t);return n.forEachChild(hc,(e,t)=>{const n=fl(hl(i,new Io(e)),t);r=r.updateImmediateChild(e,n)}),ul(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return ul(hl(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function kl(e,t,n,r){return function(e,t,n,r,i){ii(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Do(t,n);if(cl(e.visibleWrites,s))return null;{const t=hl(e.visibleWrites,s);return dl(t)?i.getChild(n):fl(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Cl(e,t){return function(e,t){return ll(e.visibleWrites,t)}(e.writeTree,Do(e.treePath,t))}function El(e,t,n,r,i,s){return function(e,t,n,r,i,s,a){let o;const c=hl(e.visibleWrites,t),l=ll(c,Po());if(null!=l)o=l;else{if(null==n)return[];o=fl(c,n)}if(o=o.withIndex(a),o.isEmpty()||o.isLeafNode())return[];{const e=[],t=a.getCompare(),n=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let c=n.getNext();for(;c&&e.length<i;)0!==t(c,r)&&e.push(c),c=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function Sl(e,t,n){return function(e,t,n,r){const i=Do(t,n),s=ll(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return fl(hl(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Tl(e,t){return Nl(Do(e.treePath,t),e.writeTree)}function Nl(e,t){return{treePath:e,writeTree:t}}class Il{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;ii("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ii(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Tc(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Sc(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Ec(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw si("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Tc(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Pl=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Al{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Kc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sl(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tl(this.viewCache_),i=El(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Ol(e,t,n,r,i){const s=new Il;let a,o;if(n.type===Uc.OVERWRITE){const c=n;c.source.fromUser?a=Ll(e,t,c.path,c.snap,r,i,s):(ii(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered()&&!Bo(c.path),a=Rl(e,t,c.path,c.snap,r,i,o,s))}else if(n.type===Uc.MERGE){const c=n;c.source.fromUser?a=function(e,t,n,r,i,s,a){let o=t;return r.foreach((r,c)=>{const l=Do(n,r);jl(t,Ao(l))&&(o=Ll(e,o,l,c,i,s,a))}),r.foreach((r,c)=>{const l=Do(n,r);jl(t,Ao(l))||(o=Ll(e,o,l,c,i,s,a))}),o}(e,t,c.path,c.children,r,i,s):(ii(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Bl(e,t,c.path,c.children,r,i,o,s))}else if(n.type===Uc.ACK_USER_WRITE){const o=n;a=o.revert?function(e,t,n,r,i,s){let a;if(null!=Cl(r,n))return t;{const o=new Al(r,t,i),c=t.eventCache.getNode();let l;if(Bo(n)||".priority"===Ao(n)){let n;if(t.serverCache.isFullyInitialized())n=wl(r,tl(t));else{const e=t.serverCache.getNode();ii(e instanceof yc,"serverChildren would be complete if leaf node"),n=_l(r,e)}l=e.filter.updateFullNode(c,n,s)}else{const i=Ao(n);let u=Sl(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=c.getImmediateChild(i)),l=null!=u?e.filter.updateChild(c,i,u,Mo(n),o,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,yc.EMPTY_NODE,Mo(n),o,s):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=wl(r,tl(t)),a.isLeafNode()&&(l=e.filter.updateFullNode(l,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=Cl(r,Po()),Jc(t,l,a,e.filter.filtersNodes())}}(e,t,o.path,r,i,s):function(e,t,n,r,i,s,a){if(null!=Cl(i,n))return t;const o=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(Bo(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Rl(e,t,n,c.getNode().getChild(n),i,s,o,a);if(Bo(n)){let r=new rl(null);return c.getNode().forEachChild(Jo,(e,t)=>{r=r.set(new Io(e),t)}),Bl(e,t,n,r,i,s,o,a)}return t}{let l=new rl(null);return r.foreach((e,t)=>{const r=Do(n,e);c.isCompleteForPath(r)&&(l=l.set(e,c.getNode().getChild(r)))}),Bl(e,t,n,l,i,s,o,a)}}(e,t,o.path,o.affectedTree,r,i,s)}else{if(n.type!==Uc.LISTEN_COMPLETE)throw si("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const s=t.serverCache,a=Zc(t,s.getNode(),s.isFullyInitialized()||Bo(n),s.isFiltered());return Ml(e,a,n,r,Pl,i)}(e,t,n.path,r,s)}const c=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=el(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Cc(el(t)))}}(t,a,c),{viewCache:a,changes:c}}function Ml(e,t,n,r,i,s){const a=t.eventCache;if(null!=Cl(r,n))return t;{let o,c;if(Bo(n))if(ii(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=tl(t),i=_l(r,n instanceof yc?n:yc.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=wl(r,tl(t));o=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const l=Ao(n);if(".priority"===l){ii(1===Oo(n),"Can't have a priority with additional path components");const i=a.getNode();c=t.serverCache.getNode();const s=kl(r,n,i,c);o=null!=s?e.filter.updatePriority(i,s):a.getNode()}else{const u=Mo(n);let h;if(a.isCompleteForChild(l)){c=t.serverCache.getNode();const e=kl(r,n,a.getNode(),c);h=null!=e?a.getNode().getImmediateChild(l).updateChild(u,e):a.getNode().getImmediateChild(l)}else h=Sl(r,l,t.serverCache);o=null!=h?e.filter.updateChild(a.getNode(),l,h,u,i,s):a.getNode()}}return Jc(t,o,a.isFullyInitialized()||Bo(n),e.filter.filtersNodes())}}function Rl(e,t,n,r,i,s,a,o){const c=t.serverCache;let l;const u=a?e.filter:e.filter.getIndexedFilter();if(Bo(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const e=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),e,null)}else{const e=Ao(n);if(!c.isCompleteForPath(n)&&Oo(n)>1)return t;const i=Mo(n),s=c.getNode().getImmediateChild(e).updateChild(i,r);l=".priority"===e?u.updatePriority(c.getNode(),s):u.updateChild(c.getNode(),e,s,i,Pl,null)}const h=Zc(t,l,c.isFullyInitialized()||Bo(n),u.filtersNodes());return Ml(e,h,n,i,new Al(i,h,s),o)}function Ll(e,t,n,r,i,s,a){const o=t.eventCache;let c,l;const u=new Al(i,t,s);if(Bo(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=Jc(t,l,!0,e.filter.filtersNodes());else{const i=Ao(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Jc(t,l,o.isFullyInitialized(),o.isFiltered());else{const s=Mo(n),l=o.getNode().getImmediateChild(i);let h;if(Bo(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===Ro(s)&&e.getChild(jo(s)).isEmpty()?e:e.updateChild(s,r):yc.EMPTY_NODE}if(l.equals(h))c=t;else{c=Jc(t,e.filter.updateChild(o.getNode(),i,h,s,u,a),o.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function jl(e,t){return e.eventCache.isCompleteForChild(t)}function Dl(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Bl(e,t,n,r,i,s,a,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=Bo(n)?r:new rl(null).setTree(n,r);const u=t.serverCache.getNode();return c.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const c=Dl(0,t.serverCache.getNode().getImmediateChild(n),r);l=Rl(e,l,new Io(n),c,i,s,a,o)}}),c.children.inorderTraversal((n,r)=>{const c=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!c){const c=Dl(0,t.serverCache.getNode().getImmediateChild(n),r);l=Rl(e,l,new Io(n),c,i,s,a,o)}}),l}class Fl{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Nc(n.getIndex()),i=(s=n).loadsAllData()?new Nc(s.getIndex()):s.hasLimit()?new Pc(s):new Ic(s);var s;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,o=t.eventCache,c=r.updateFullNode(yc.EMPTY_NODE,a.getNode(),null),l=i.updateFullNode(yc.EMPTY_NODE,o.getNode(),null),u=new Kc(c,a.isFullyInitialized(),r.filtersNodes()),h=new Kc(l,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=$c(h,u),this.eventGenerator_=new Xc(this.query_)}get query(){return this.query_}}function zl(e,t){const n=tl(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Bo(t)&&!n.getImmediateChild(Ao(t)).isEmpty())?n.getChild(t):null}function Hl(e){return 0===e.eventRegistrations_.length}function Ul(e,t,n){const r=[];if(n){ii(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function ql(e,t,n,r){t.type===Uc.MERGE&&null!==t.source.queryId&&(ii(tl(e.viewCache_),"We should always have a full cache before handling merges"),ii(el(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Ol(e.processor_,i,t,n,r);var a,o;return a=e.processor_,o=s.viewCache,ii(o.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),ii(o.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),ii(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Wl(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Wl(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Qc(e,i,"child_removed",t,r,n),Qc(e,i,"child_added",t,r,n),Qc(e,i,"child_moved",s,r,n),Qc(e,i,"child_changed",t,r,n),Qc(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Vl,Gl;class Yl{constructor(){this.views=new Map}}function Kl(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return ii(null!=s,"SyncTree gave us an op for an invalid query."),ql(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(ql(s,t,n,r));return i}}function Xl(e,t,n,r,i){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let e=wl(n,i?r:null),s=!1;e?s=!0:r instanceof yc?(e=_l(n,r),s=!1):(e=yc.EMPTY_NODE,s=!1);const a=$c(new Kc(e,s,!1),new Kc(r,i,!1));return new Fl(t,a)}return a}function Ql(e,t,n,r,i,s){const a=Xl(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(hc,(e,t)=>{r.push(Ec(e,t))});return n.isFullyInitialized()&&r.push(Cc(n.getNode())),Wl(e,r,n.getNode(),t)}(a,n)}function $l(e,t,n,r){const i=t._queryIdentifier,s=[];let a=[];const o=nu(e);if("default"===i)for(const[c,l]of e.views.entries())a=a.concat(Ul(l,n,r)),Hl(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||s.push(l.query));else{const t=e.views.get(i);t&&(a=a.concat(Ul(t,n,r)),Hl(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return o&&!nu(e)&&s.push(new(ii(Vl,"Reference.ts has not been loaded"),Vl)(t._repo,t._path)),{removed:s,events:a}}function Jl(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Zl(e,t){let n=null;for(const r of e.views.values())n=n||zl(r,t);return n}function eu(e,t){if(t._queryParams.loadsAllData())return ru(e);{const n=t._queryIdentifier;return e.views.get(n)}}function tu(e,t){return null!=eu(e,t)}function nu(e){return null!=ru(e)}function ru(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let iu=1;class su{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rl(null),this.pendingWriteTree_={visibleWrites:il.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function au(e,t,n,r,i){return function(e,t,n,r,i){ii(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=sl(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?pu(e,new Gc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ou(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(gl(e.pendingWriteTree_,t)){let t=new rl(null);return null!=r.snap?t=t.set(Po(),!0):$a(r.children,e=>{t=t.set(new Io(e),!0)}),pu(e,new Wc(r.path,t,n))}return[]}function cu(e,t,n){return pu(e,new Gc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function lu(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,a=e.syncPointTree_.get(s);let o=[];if(a&&("default"===t._queryIdentifier||tu(a,t))){const c=$l(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const l=c.removed;if(o=c.events,!i){const n=-1!==l.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(s,(e,t)=>nu(t));if(n&&!i){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&nu(t)){return[ru(t)]}{let e=[];return t&&(e=Jl(t)),$a(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=vu(e,r);e.listenProvider_.startListening(ku(i),bu(e,i),s.hashFn,s.onComplete)}}}if(!i&&l.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(ku(t),n)}else l.forEach(t=>{const n=e.queryToTagMap.get(yu(t));e.listenProvider_.stopListening(ku(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=yu(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return o}function uu(e,t,n,r){const i=xu(e,r);if(null!=i){const r=wu(i),s=r.path,a=r.queryId,o=Fo(s,t);return _u(e,s,new Gc(qc(a),o,n))}return[]}function hu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=Fo(e,i);s=s||Zl(t,n),a=a||nu(t)});let o,c=e.syncPointTree_.get(i);if(c?(a=a||nu(c),s=s||Zl(c,Po())):(c=new Yl,e.syncPointTree_=e.syncPointTree_.set(i,c)),null!=s)o=!0;else{o=!1,s=yc.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=Zl(t,Po());n&&(s=s.updateImmediateChild(e,n))})}const l=tu(c,t);if(!l&&!t._queryParams.loadsAllData()){const n=yu(t);ii(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=iu++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=Ql(c,t,n,ml(e.pendingWriteTree_,i),s,o);if(!l&&!a&&!r){const n=eu(c,t);u=u.concat(function(e,t,n){const r=t._path,i=bu(e,t),s=vu(e,n),a=e.listenProvider_.startListening(ku(t),i,s.hashFn,s.onComplete),o=e.syncPointTree_.subtree(r);if(i)ii(!nu(o.value),"If we're adding a query, it shouldn't be shadowed");else{const t=o.fold((e,t,n)=>{if(!Bo(e)&&t&&nu(t))return[ru(t).query];{let e=[];return t&&(e=e.concat(Jl(t).map(e=>e.query))),$a(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(ku(r),bu(e,r))}}return a}(e,t,n))}return u}function du(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=Zl(n,Fo(e,t));if(r)return r});return xl(r,t,i,n,!0)}function fu(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const i=Fo(e,n);r=r||Zl(t,i)});let i=e.syncPointTree_.get(n);i?r=r||Zl(i,Po()):(i=new Yl,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=null!=r,a=s?new Kc(r,!0,!1):null;return function(e){return el(e.viewCache_)}(Xl(i,t,ml(e.pendingWriteTree_,t._path),s?a.getNode():yc.EMPTY_NODE,s))}function pu(e,t){return mu(t,e.syncPointTree_,null,ml(e.pendingWriteTree_,Po()))}function mu(e,t,n,r){if(Bo(e.path))return gu(e,t,n,r);{const i=t.get(Po());null==n&&null!=i&&(n=Zl(i,Po()));let s=[];const a=Ao(e.path),o=e.operationForChild(a),c=t.children.get(a);if(c&&o){const e=n?n.getImmediateChild(a):null,t=Tl(r,a);s=s.concat(mu(o,c,e,t))}return i&&(s=s.concat(Kl(i,e,r,n))),s}}function gu(e,t,n,r){const i=t.get(Po());null==n&&null!=i&&(n=Zl(i,Po()));let s=[];return t.children.inorderTraversal((t,i)=>{const a=n?n.getImmediateChild(t):null,o=Tl(r,t),c=e.operationForChild(t);c&&(s=s.concat(gu(c,i,a,o)))}),i&&(s=s.concat(Kl(i,e,r,n))),s}function vu(e,t){const n=t.query,r=bu(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||yc.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=xu(e,n);if(r){const n=wu(r),i=n.path,s=n.queryId,a=Fo(i,t);return _u(e,i,new Vc(qc(s),a))}return[]}(e,n._path,r):function(e,t){return pu(e,new Vc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return lu(e,n,null,r)}}}}function bu(e,t){const n=yu(t);return e.queryToTagMap.get(n)}function yu(e){return e._path.toString()+"$"+e._queryIdentifier}function xu(e,t){return e.tagToQueryMap.get(t)}function wu(e){const t=e.indexOf("$");return ii(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Io(e.substr(0,t))}}function _u(e,t,n){const r=e.syncPointTree_.get(t);ii(r,"Missing sync point for query tag that we're tracking");return Kl(r,n,ml(e.pendingWriteTree_,t),null)}function ku(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ii(Gl,"Reference.ts has not been loaded"),Gl)(e._repo,e._path):e}class Cu{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Cu(t)}node(){return this.node_}}class Eu{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Do(this.path_,e);return new Eu(this.syncTree_,t)}node(){return du(this.syncTree_,this.path_)}}const Su=function(e,t,n){return e&&"object"===typeof e?(ii(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Tu(e[".sv"],t,n):"object"===typeof e[".sv"]?Nu(e[".sv"],t):void ii(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Tu=function(e,t,n){if("timestamp"===e)return n.timestamp;ii(!1,"Unexpected server value: "+e)},Nu=function(e,t,n){e.hasOwnProperty("increment")||ii(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&ii(!1,"Unexpected increment value: "+r);const i=t.node();if(ii(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},Iu=function(e,t,n,r){return Au(t,new Eu(n,e),r)},Pu=function(e,t,n){return Au(e,new Cu(t),n)};function Au(e,t,n){const r=e.getPriority().val(),i=Su(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Su(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new uc(s,wc(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new uc(i))),r.forEachChild(hc,(e,r)=>{const i=Au(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))}),s}}class Ou{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Mu(e,t){let n=t instanceof Io?t:new Io(t),r=e,i=Ao(n);for(;null!==i;){const e=Ri(r.node.children,i)||{children:{},childCount:0};r=new Ou(i,r,e),n=Mo(n),i=Ao(n)}return r}function Ru(e){return e.node.value}function Lu(e,t){e.node.value=t,zu(e)}function ju(e){return e.node.childCount>0}function Du(e,t){$a(e.node.children,(n,r)=>{t(new Ou(n,e,r))})}function Bu(e,t,n,r){n&&!r&&t(e),Du(e,e=>{Bu(e,t,!0,r)}),n&&r&&t(e)}function Fu(e){return new Io(null===e.parent?e.name:Fu(e.parent)+"/"+e.name)}function zu(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Ru(e)&&!ju(e)}(n),i=Mi(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,zu(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,zu(e))}(e.parent,e.name,e)}const Hu=/[\[\].#$\/\u0000-\u001F\u007F]/,Uu=/[\[\].#$\u0000-\u001F\u007F]/,qu=10485760,Wu=function(e){return"string"===typeof e&&0!==e.length&&!Hu.test(e)},Vu=function(e){return"string"===typeof e&&0!==e.length&&!Uu.test(e)},Gu=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!qa(e)||e&&"object"===typeof e&&Mi(e,".sv")},Yu=function(e,t,n,r){r&&void 0===t||Ku(Vi(e,"value"),t,n)},Ku=function(e,t,n){const r=n instanceof Io?new Uo(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Wo(r));if("function"===typeof t)throw new Error(e+"contains a function "+Wo(r)+" with contents = "+t.toString());if(qa(t))throw new Error(e+"contains "+t.toString()+" "+Wo(r));if("string"===typeof t&&t.length>qu/3&&Gi(t)>qu)throw new Error(e+"contains a string greater than "+qu+" utf8 bytes "+Wo(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if($a(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Wu(t)))throw new Error(e+" contains an invalid key ("+t+") "+Wo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Gi(t),qo(e)}(r,t),Ku(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=Gi(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+Wo(r)+" in addition to actual children.")}},Xu=function(e,t,n,r){if((!r||void 0!==n)&&!Vu(n))throw new Error(Vi(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Qu=function(e,t){if(".info"===Ao(t))throw new Error(e+" failed = Can't modify data under /.info/")},$u=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Wu(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Vu(e)}(n))throw new Error(Vi(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ju{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zu(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||zo(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function eh(e,t,n){Zu(e,n),th(e,e=>Ho(e,t)||Ho(t,e))}function th(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(nh(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function nh(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();La&&Ba("event: "+n.toString()),to(r)}}}const rh="repo_interrupt";class ih{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ju,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dc(),this.transactionQueueTree_=new Ou,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function sh(e,t,n){if(e.stats_=vo(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Lc(e.repoInfo_,(t,n,r,i)=>{ch(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>lh(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ai(n)}catch(tv){throw new Error("Invalid authOverride provided: "+tv)}}e.persistentConnection_=new Yo(e.repoInfo_,t,(t,n,r,i)=>{ch(e,t,n,r,i)},t=>{lh(e,t)},t=>{!function(e,t){$a(t,(t,n)=>{uh(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return go[n]||(go[n]=t()),go[n]}(e.repoInfo_,()=>new Hc(e.stats_,e.server_)),e.infoData_=new jc,e.infoSyncTree_=new su({startListening:(t,n,r,i)=>{let s=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(s=cu(e.infoSyncTree_,t._path,a),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),uh(e,"connected",!1),e.serverSyncTree_=new su({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const s=i(n,r);eh(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function ah(e){const t=e.infoData_.getNode(new Io(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function oh(e){return(t=(t={timestamp:ah(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ch(e,t,n,r,i){e.dataUpdateCount++;const s=new Io(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=ji(n,e=>wc(e));a=function(e,t,n,r){const i=xu(e,r);if(i){const r=wu(i),s=r.path,a=r.queryId,o=Fo(s,t),c=rl.fromObject(n);return _u(e,s,new Yc(qc(a),o,c))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=wc(n);a=uu(e.serverSyncTree_,s,t,i)}else if(r){const t=ji(n,e=>wc(e));a=function(e,t,n){const r=rl.fromObject(n);return pu(e,new Yc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=wc(n);a=cu(e.serverSyncTree_,s,t)}let o=s;a.length>0&&(o=bh(e,s)),eh(e.eventQueue_,o,a)}function lh(e,t){uh(e,"connected",t),!1===t&&function(e){ph(e,"onDisconnectEvents");const t=oh(e),n=Dc();Fc(e.onDisconnect_,Po(),(r,i)=>{const s=Iu(r,i,e.serverSyncTree_,t);Bc(n,r,s)});let r=[];Fc(n,Po(),(t,n)=>{r=r.concat(cu(e.serverSyncTree_,t,n));const i=kh(e,t);bh(e,i)}),e.onDisconnect_=Dc(),eh(e.eventQueue_,Po(),r)}(e)}function uh(e,t,n){const r=new Io("/.info/"+t),i=wc(n);e.infoData_.updateSnapshot(r,i);const s=cu(e.infoSyncTree_,r,i);eh(e.eventQueue_,r,s)}function hh(e){return e.nextWriteId_++}function dh(e,t,n,r,i){ph(e,"set",{path:t.toString(),value:n,priority:r});const s=oh(e),a=wc(n,r),o=du(e.serverSyncTree_,t),c=Pu(a,o,s),l=hh(e),u=au(e.serverSyncTree_,t,c,l,!0);Zu(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),(n,r)=>{const s="ok"===n;s||Ua("set at "+t+" failed: "+n);const a=ou(e.serverSyncTree_,l,!s);eh(e.eventQueue_,t,a),mh(e,i,n,r)});const h=kh(e,t);bh(e,h),eh(e.eventQueue_,h,[])}function fh(e){e.persistentConnection_&&e.persistentConnection_.interrupt(rh)}function ph(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Ba(t,...r)}function mh(e,t,n,r){t&&to(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}})}function gh(e,t,n){return du(e.serverSyncTree_,t,n)||yc.EMPTY_NODE}function vh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||_h(e,t),Ru(t)){const n=xh(e,t);ii(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=gh(e,t,r);let s=i;const a=i.hash();for(let l=0;l<n.length;l++){const e=n[l];ii(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Fo(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const o=s.val(!0),c=t;e.server_.put(c.toString(),o,r=>{ph(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(ou(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();_h(e,Mu(e.transactionQueueTree_,t)),vh(e,e.transactionQueueTree_),eh(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)to(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Ua("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}bh(e,t)}},a)}(e,Fu(t),n)}else ju(t)&&Du(t,t=>{vh(e,t)})}function bh(e,t){const n=yh(e,t),r=Fu(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(e=>0===e.status),a=s.map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){const s=t[o],c=Fo(n,s.path);let l,u=!1;if(ii(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)u=!0,l=s.abortReason,i=i.concat(ou(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)u=!0,l="maxretry",i=i.concat(ou(e.serverSyncTree_,s.currentWriteId,!0));else{const n=gh(e,s.path,a);s.currentInputSnapshot=n;const r=t[o].update(n.val());if(void 0!==r){Ku("transaction failed: Data returned ",r,s.path);let t=wc(r);"object"===typeof r&&null!=r&&Mi(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=s.currentWriteId,c=oh(e),l=Pu(t,n,c);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=l,s.currentWriteId=hh(e),a.splice(a.indexOf(o),1),i=i.concat(au(e.serverSyncTree_,s.path,l,s.currentWriteId,s.applyLocally)),i=i.concat(ou(e.serverSyncTree_,o,!0))}else u=!0,l="nodata",i=i.concat(ou(e.serverSyncTree_,s.currentWriteId,!0))}eh(e.eventQueue_,n,i),i=[],u&&(t[o].status=2,function(e){setTimeout(e,Math.floor(0))}(t[o].unwatcher),t[o].onComplete&&("nodata"===l?r.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):r.push(()=>t[o].onComplete(new Error(l),!1,null))))}_h(e,e.transactionQueueTree_);for(let o=0;o<r.length;o++)to(r[o]);vh(e,e.transactionQueueTree_)}(e,xh(e,n),r),r}function yh(e,t){let n,r=e.transactionQueueTree_;for(n=Ao(t);null!==n&&void 0===Ru(r);)r=Mu(r,n),n=Ao(t=Mo(t));return r}function xh(e,t){const n=[];return wh(e,t,n),n.sort((e,t)=>e.order-t.order),n}function wh(e,t,n){const r=Ru(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Du(t,t=>{wh(e,t,n)})}function _h(e,t){const n=Ru(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Lu(t,n.length>0?n:void 0)}Du(t,t=>{_h(e,t)})}function kh(e,t){const n=Fu(yh(e,t)),r=Mu(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{Ch(e,t)}),Ch(e,r),Bu(r,t=>{Ch(e,t)}),n}function Ch(e,t){const n=Ru(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(ii(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(ii(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(ou(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Lu(t,void 0):n.length=s+1,eh(e.eventQueue_,Fu(t),i);for(let e=0;e<r.length;e++)to(r[e])}}const Eh=function(e,t){const n=Sh(e),r=n.namespace;"firebase.com"===n.domain&&Ha(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ha("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ua("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ho(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Io(n.pathString)}},Sh=function(e){let t="",n="",r="",i="",s="",a=!0,o="https",c=443;if("string"===typeof e){let l=e.indexOf("//");l>=0&&(o=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(tv){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ua("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));l=t.indexOf(":"),l>=0?(a="https"===o||"wss"===o,c=parseInt(t.substring(l+1),10)):l=t.length;const f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}},Th="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class Nh{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ai(this.snapshot.exportVal())}}class Ih{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ph{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ii(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Ah{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Bo(this._path)?null:Ro(this._path)}get ref(){return new Rh(this._repo,this._path)}get _queryIdentifier(){const e=Rc(this._queryParams),t=Xa(e);return"{}"===t?"default":t}get _queryObject(){return Rc(this._queryParams)}isEqual(e){if(!((e=Yi(e))instanceof Ah))return!1;const t=this._repo===e._repo,n=zo(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Oh(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Mh(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Jo){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Wa)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Va)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===hc){if(null!=t&&!Gu(t)||null!=n&&!Gu(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ii(e.getIndex()instanceof _c||e.getIndex()===kc,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class Rh extends Ah{constructor(e,t){super(e,t,new Ac,!1)}get parent(){const e=jo(this._path);return null===e?null:new Rh(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Lh{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Io(e),n=Dh(this.ref,e);return new Lh(this._node.getChild(t),n,hc)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Lh(n,Dh(this.ref,t),hc)))}hasChild(e){const t=new Io(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jh(e,t){return(e=Yi(e))._checkNotDeleted("ref"),void 0!==t?Dh(e._root,t):e._root}function Dh(e,t){var n,r,i,s;return null===Ao((e=Yi(e))._path)?(n="child",r="path",s=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Xu(n,r,i,s)):Xu("child","path",t,!1),new Rh(e._repo,Do(e._path,t))}function Bh(e){return Qu("remove",e._path),Fh(e,null)}function Fh(e,t){e=Yi(e),Qu("set",e._path),Yu("set",t,e._path,!1);const n=new wi;return dh(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function zh(e){e=Yi(e);const t=new Ph(()=>{}),n=new Hh(t);return function(e,t,n){const r=fu(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const i=wc(r).withIndex(t._queryParams.getIndex());let s;if(hu(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=cu(e.serverSyncTree_,t._path,i);else{const n=bu(e.serverSyncTree_,t);s=uu(e.serverSyncTree_,t._path,i,n)}return eh(e.eventQueue_,t._path,s),lu(e.serverSyncTree_,t,n,null,!0),i},n=>(ph(e,"get for query "+Ai(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new Lh(t,new Rh(e._repo,e._path),e._queryParams.getIndex()))}class Hh{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Nh("value",this,new Lh(e.snapshotNode,new Rh(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ih(this,e,t):null}matches(e){return e instanceof Hh&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Uh{}class qh extends Uh{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Oh(e,"orderByKey");const t=Oc(e._queryParams,Jo);return Mh(t),new Ah(e._repo,e._path,t,!0)}}!function(e){ii(!Vl,"__referenceConstructor has already been defined"),Vl=e}(Rh),function(e){ii(!Gl,"__referenceConstructor has already been defined"),Gl=e}(Rh);const Wh={};let Vh=!1;function Gh(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||Ha("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ba("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let a,o,c=Eh(s,i),l=c.repoInfo;"undefined"!==typeof process&&(o={NODE_ENV:"production",PUBLIC_URL:"/errordetection",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),o?(a=!0,s="http://".concat(o,"?ns=").concat(l.namespace),c=Eh(s,i),l=c.repoInfo):a=!c.repoInfo.secure;const u=i&&a?new so(so.OWNER):new io(e.name,e.options,t);$u("Invalid Firebase Database URL",c),Bo(c.path)||Ha("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=Wh[t.name];i||(i={},Wh[t.name]=i);let s=i[e.toURLString()];s&&Ha("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new ih(e,Vh,n,r),i[e.toURLString()]=s,s}(l,e,u,new ro(e.name,n));return new Yh(h,e)}class Yh{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(sh(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rh(this._repo,Po())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Wh[t];n&&n[e.key]===e||Ha("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),fh(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ha("Cannot call "+e+" on a deleted database.")}}function Kh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua(),t=arguments.length>1?arguments[1]:void 0;const n=ia(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=bi("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Yi(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Ha("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ha('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new so(so.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:_i(r.mockUserToken,e.app.options.projectId);s=new so(t)}!function(e,t,n,r){e.repoInfo_=new ho("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(n,...e)}return n}Yo.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Yo.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Ea(ca),ra(new Ki("database",(e,t)=>{let{instanceIdentifier:n}=t;return Gh(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),ha(_a,ka,e),ha(_a,ka,"esm2017")}();const Xh=class{constructor(e,t,n,r,i,s,a,o,c,l,u,h,d,f,p){this.score=void 0,this.sound=void 0,this.correctAnswers=void 0,this.feedback=void 0,this.exIndex=void 0,this.empty=void 0,this.title=void 0,this.difficulty=void 0,this.voices=void 0,this.tags=void 0,this.types=void 0,this.meter=void 0,this.transpos=void 0,this.isNew=void 0,this.customId=void 0,this.score=e,this.sound=t,this.correctAnswers=n,this.feedback=r,this.exIndex=i,this.empty=s,this.title=a,this.difficulty=o,this.voices=c,this.tags=l,this.types=u,this.meter=h,this.transpos=d,this.isNew=this.isNew,this.customId=p}},Qh=n.p+"static/media/note-color-key.ac2ee696deb3cc7f1940.png",$h=n.p+"static/media/excersie-example.4e8ebf0a4840c2997302.png";function Jh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Zh(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ed=Zh,td=new Ni("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nd=new is("@firebase/auth");function rd(e){if(nd.logLevel<=Zi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nd.error("Auth (".concat(ca,"): ").concat(e),...n)}}function id(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw cd(e,...n)}function sd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cd(e,...n)}function ad(e,t,n){const r=Object.assign(Object.assign({},ed()),{[t]:n});return new Ni("auth","Firebase",r).create(t,{appName:e.name})}function od(e){return ad(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return td.create(e,...n)}function ld(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw cd(t,...r)}}function ud(e){const t="INTERNAL ASSERTION FAILED: "+e;throw rd(t),new Error(t)}function hd(e,t){e||ud(t)}function dd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function fd(){return"http:"===pd()||"https:"===pd()}function pd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function md(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(fd()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class gd{constructor(e,t){this.shortDelay=e,this.longDelay=t,hd(t>e,"Short delay should be less than long delay!"),this.isMobile=Ci()||Ei()}get(){return md()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vd(e,t){hd(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class bd{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ud("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ud("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ud("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yd={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xd=new gd(3e4,6e4);function wd(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function _d(e,t,n,r){return kd(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Fi(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(c.referrerPolicy="no-referrer"),bd.fetch()(Ed(e,e.config.apiHost,n,a),c)})}async function kd(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},yd),t);try{const t=new Td(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Nd(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Nd(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Nd(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Nd(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw ad(e,o,a);id(e,o)}}catch(tv){if(tv instanceof Ti)throw tv;id(e,"network-request-failed",{message:String(tv)})}}async function Cd(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await _d(e,t,n,r,i);return"mfaPendingCredential"in s&&id(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Ed(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?vd(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Sd(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Td{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(sd(this.auth,"network-request-failed")),xd.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nd(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sd(e,t,r);return i.customData._tokenResponse=n,i}function Id(e){return void 0!==e&&void 0!==e.enterprise}class Pd{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Sd(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ad(e,t){return _d(e,"GET","/v2/recaptchaConfig",wd(e,t))}async function Od(e,t){return _d(e,"POST","/v1/accounts:lookup",t)}function Md(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(tv){}}function Rd(e){return 1e3*Number(e)}function Ld(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return rd("JWT malformed, contained fewer than 3 sections"),null;try{const e=hi(n);return e?JSON.parse(e):(rd("Failed to decode base64 JWT payload"),null)}catch(tv){return rd("Caught error parsing JWT payload as JSON",null===tv||void 0===tv?void 0:tv.toString()),null}}function jd(e){const t=Ld(e);return ld(t,"internal-error"),ld("undefined"!==typeof t.exp,"internal-error"),ld("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Dd(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(tv){throw tv instanceof Ti&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(tv)&&e.auth.currentUser===e&&await e.auth.signOut(),tv}}class Bd{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(tv){return void((null===tv||void 0===tv?void 0:tv.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Fd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Md(this.lastLoginAt),this.creationTime=Md(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zd(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Dd(e,Od(n,{idToken:r}));ld(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Hd(s.providerUserInfo):[],o=(c=e.providerData,l=a,[...c.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Fd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Hd(e){return e.map(e=>{var{providerId:t}=e,n=Jh(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Ud{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ld(e.idToken,"internal-error"),ld("undefined"!==typeof e.idToken,"internal-error"),ld("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):jd(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ld(0!==e.length,"internal-error");const t=jd(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(ld(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await kd(e,{},async()=>{const n=Fi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Ed(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bd.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Ud;return n&&(ld("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(ld("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(ld("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ud,this.toJSON())}_performRefresh(){return ud("not implemented")}}function qd(e,t){ld("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Wd{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Jh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fd(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Dd(this,this.stsTokenManager.getToken(this.auth,e));return ld(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Yi(e),r=await n.getIdToken(t),i=Ld(r);ld(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Md(Rd(i.auth_time)),issuedAtTime:Md(Rd(i.iat)),expirationTime:Md(Rd(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Yi(e);await zd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ld(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ld(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await zd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sa(this.auth.app))return Promise.reject(od(this.auth));const e=await this.getIdToken();return await Dd(this,async function(e,t){return _d(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:b,emailVerified:y,isAnonymous:x,providerData:w,stsTokenManager:_}=t;ld(b&&_,e,"internal-error");const k=Ud.fromJSON(this.name,_);ld("string"===typeof b,e,"internal-error"),qd(u,e.name),qd(h,e.name),ld("boolean"===typeof y,e,"internal-error"),ld("boolean"===typeof x,e,"internal-error"),qd(d,e.name),qd(f,e.name),qd(p,e.name),qd(m,e.name),qd(g,e.name),qd(v,e.name);const C=new Wd({uid:b,auth:e,email:h,emailVerified:y,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(C.providerData=w.map(e=>Object.assign({},e))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ud;r.updateFromServerResponse(t);const i=new Wd({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await zd(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];ld(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Hd(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Ud;a.updateFromIdToken(n);const o=new Wd({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Fd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,c),o}}const Vd=new Map;function Gd(e){hd(e instanceof Function,"Expected a class definition");let t=Vd.get(e);return t?(hd(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Vd.set(e,t),t)}class Yd{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Yd.type="NONE";const Kd=Yd;function Xd(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Qd{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Xd(this.userKey,r.apiKey,i),this.fullPersistenceKey=Xd("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wd._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Qd(Gd(Kd),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Gd(Kd);const s=Xd(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Wd._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch(c){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(c){}})),new Qd(i,e,n)):new Qd(i,e,n)}}function $d(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tf(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Jd(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rf(t))return"Blackberry";if(sf(t))return"Webos";if(Zd(t))return"Safari";if((t.includes("chrome/")||ef(t))&&!t.includes("edge/"))return"Chrome";if(nf(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Jd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/firefox\//i.test(e)}function Zd(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ef(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/crios\//i.test(e)}function tf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/iemobile/i.test(e)}function nf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/android/i.test(e)}function rf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/blackberry/i.test(e)}function sf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/webos/i.test(e)}function af(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function of(){return function(){const e=ki();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function cf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return af(e)||nf(e)||sf(e)||rf(e)||/windows phone/i.test(e)||tf(e)}function lf(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$d(ki());break;case"Worker":t="".concat($d(ki()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ca,"/").concat(r)}class uf{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(tv){r(tv)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(tv){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===tv||void 0===tv?void 0:tv.message})}}}class hf{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class df{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pf(this),this.idTokenSubscription=new pf(this),this.beforeStateQueue=new uf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=td,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gd(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Qd.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(tv){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Od(this,{idToken:e}),n=await Wd._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(sa(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(tv){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(tv))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ld(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(tv){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(tv){if((null===tv||void 0===tv?void 0:tv.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sa(this.app))return Promise.reject(od(this));const t=e?Yi(e):null;return t&&ld(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ld(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sa(this.app)?Promise.reject(od(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sa(this.app)?Promise.reject(od(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gd(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return _d(e,"GET","/v2/passwordPolicy",wd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new hf(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ni("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return _d(e,"POST","/v2/accounts:revokeToken",wd(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gd(e)||this._popupRedirectResolver;ld(t,this,"argument-error"),this.redirectPersistenceManager=await Qd.create(this,[Gd(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ld(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ld(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(nd.logLevel<=Zi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nd.warn("Auth (".concat(ca,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ff(e){return Yi(e)}class pf{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new qi(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return ld(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gf(e){return mf.loadJS(e)}function vf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class bf{constructor(e){this.type="recaptcha-enterprise",this.auth=ff(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Id(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Ad(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Pd(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Id(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=mf.recaptchaEnterpriseScript;0!==t.length&&(t+=i),gf(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function yf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new bf(e);let s;try{s=await i.verify(n)}catch(za){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function xf(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await yf(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await yf(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function wf(e,t,n){const r=ff(e);ld(r._canInitEmulator,r,"emulator-config-failed"),ld(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=_f(t),{host:a,port:o}=function(e){const t=_f(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:kf(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:kf(t)}}}(t),c=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function _f(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function kf(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Cf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ud("not implemented")}_getIdTokenResponse(e){return ud("not implemented")}_linkToIdToken(e,t){return ud("not implemented")}_getReauthenticationResolver(e){return ud("not implemented")}}async function Ef(e,t){return _d(e,"POST","/v1/accounts:signUp",t)}async function Sf(e,t){return Cd(e,"POST","/v1/accounts:signInWithPassword",wd(e,t))}class Tf extends Cf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Tf(e,t,"password")}static _fromEmailAndCode(e,t){return new Tf(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return xf(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Sf);case"emailLink":return async function(e,t){return Cd(e,"POST","/v1/accounts:signInWithEmailLink",wd(e,t))}(e,{email:this._email,oobCode:this._password});default:id(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return xf(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ef);case"emailLink":return async function(e,t){return Cd(e,"POST","/v1/accounts:signInWithEmailLink",wd(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:id(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Nf(e,t){return Cd(e,"POST","/v1/accounts:signInWithIdp",wd(e,t))}class If extends Cf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new If(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):id("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Jh(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new If(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Nf(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Nf(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nf(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fi(t)}return e}}const Pf={USER_NOT_FOUND:"user-not-found"};class Af extends Cf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Af({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Af({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Cd(e,"POST","/v1/accounts:signInWithPhoneNumber",wd(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Cd(e,"POST","/v1/accounts:signInWithPhoneNumber",wd(e,t));if(n.temporaryProof)throw Nd(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Cd(e,"POST","/v1/accounts:signInWithPhoneNumber",wd(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Pf)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Af({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Of{constructor(e){var t,n,r,i,s,a;const o=zi(Hi(e)),c=null!==(t=o.apiKey)&&void 0!==t?t:null,l=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);ld(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=zi(Hi(e)).link,n=t?zi(Hi(t)).deep_link_id:null,r=zi(Hi(e)).deep_link_id;return(r?zi(Hi(r)).link:null)||r||n||t||e}(e);try{return new Of(t)}catch(n){return null}}}class Mf{constructor(){this.providerId=Mf.PROVIDER_ID}static credential(e,t){return Tf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Of.parseLink(t);return ld(n,"argument-error"),Tf._fromEmailAndCode(e,n.code,n.tenantId)}}Mf.PROVIDER_ID="password",Mf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Mf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Rf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lf extends Rf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class jf extends Lf{constructor(){super("facebook.com")}static credential(e){return If._fromParams({providerId:jf.PROVIDER_ID,signInMethod:jf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jf.credentialFromTaggedObject(e)}static credentialFromError(e){return jf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return jf.credential(t.oauthAccessToken)}catch(n){return null}}}jf.FACEBOOK_SIGN_IN_METHOD="facebook.com",jf.PROVIDER_ID="facebook.com";class Df extends Lf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return If._fromParams({providerId:Df.PROVIDER_ID,signInMethod:Df.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Df.credentialFromTaggedObject(e)}static credentialFromError(e){return Df.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Df.credential(n,r)}catch(i){return null}}}Df.GOOGLE_SIGN_IN_METHOD="google.com",Df.PROVIDER_ID="google.com";class Bf extends Lf{constructor(){super("github.com")}static credential(e){return If._fromParams({providerId:Bf.PROVIDER_ID,signInMethod:Bf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bf.credentialFromTaggedObject(e)}static credentialFromError(e){return Bf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Bf.credential(t.oauthAccessToken)}catch(n){return null}}}Bf.GITHUB_SIGN_IN_METHOD="github.com",Bf.PROVIDER_ID="github.com";class Ff extends Lf{constructor(){super("twitter.com")}static credential(e,t){return If._fromParams({providerId:Ff.PROVIDER_ID,signInMethod:Ff.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ff.credentialFromTaggedObject(e)}static credentialFromError(e){return Ff.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ff.credential(n,r)}catch(i){return null}}}Ff.TWITTER_SIGN_IN_METHOD="twitter.com",Ff.PROVIDER_ID="twitter.com";class zf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Wd._fromIdTokenResponse(e,n,r),s=Hf(n);return new zf({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Hf(n);return new zf({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Hf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Uf extends Ti{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Uf.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Uf(e,t,n,r)}}function qf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Uf._fromErrorAndOperation(e,n,t,r);throw n})}async function Wf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Dd(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return zf._forOperation(e,"link",r)}async function Vf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(sa(r.app))return Promise.reject(od(r));const i="reauthenticate";try{const s=await Dd(e,qf(r,i,t,e),n);ld(s.idToken,r,"internal-error");const a=Ld(s.idToken);ld(a,r,"internal-error");const{sub:o}=a;return ld(e.uid===o,r,"user-mismatch"),zf._forOperation(e,i,s)}catch(tv){throw(null===tv||void 0===tv?void 0:tv.code)==="auth/".concat("user-not-found")&&id(r,"user-mismatch"),tv}}async function Gf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(sa(e.app))return Promise.reject(od(e));const r="signIn",i=await qf(e,r,t),s=await zf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Yf(e,t){return Gf(ff(e),t)}async function Kf(e){const t=ff(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const Xf="__sak";class Qf{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xf,"1"),this.storage.removeItem(Xf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class $f extends Qf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cf(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);of()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$f.type="LOCAL";const Jf=$f;class Zf extends Qf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Zf.type="SESSION";const ep=Zf;class tp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new tp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function np(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}tp.receivers=[];class rp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const c=np("",20);r.port1.start();const l=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(l),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function ip(){return window}function sp(){return"undefined"!==typeof ip().WorkerGlobalScope&&"function"===typeof ip().importScripts}const ap="firebaseLocalStorageDb",op="firebaseLocalStorage",cp="fbase_key";class lp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function up(e,t){return e.transaction([op],t?"readwrite":"readonly").objectStore(op)}function hp(){const e=indexedDB.open(ap,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(op,{keyPath:cp})}catch(tv){n(tv)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(op)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ap);return new lp(e).toPromise()}(),t(await hp()))})})}async function dp(e,t,n){const r=up(e,!0).put({[cp]:t,value:n});return new lp(r).toPromise()}function fp(e,t){const n=up(e,!0).delete(t);return new lp(n).toPromise()}class pp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await hp()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(tv){if(t++>3)throw tv;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tp._getInstance(sp()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new rp(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hp();return await dp(e,Xf,"1"),await fp(e,Xf),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>dp(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=up(e,!1).get(t),r=await new lp(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fp(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=up(e,!1).getAll();return new lp(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}pp.type="LOCAL";const mp=pp;vf("rcb"),new gd(3e4,6e4);const gp="recaptcha";async function vp(e,t,n){var r;const i=await n.verify();try{let s;if(ld("string"===typeof i,e,"argument-error"),ld(n.type===gp,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){ld("enroll"===t.type,e,"internal-error");const n=await function(e,t){return _d(e,"POST","/v2/accounts/mfaEnrollment:start",wd(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ld("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;ld(n,e,"missing-multi-factor-info");const a=await function(e,t){return _d(e,"POST","/v2/accounts/mfaSignIn:start",wd(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return _d(e,"POST","/v1/accounts:sendVerificationCode",wd(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class bp{constructor(e){this.providerId=bp.PROVIDER_ID,this.auth=ff(e)}verifyPhoneNumber(e,t){return vp(this.auth,e,Yi(t))}static credential(e,t){return Af._fromVerification(e,t)}static credentialFromResult(e){const t=e;return bp.credentialFromTaggedObject(t)}static credentialFromError(e){return bp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Af._fromTokenResponse(n,r):null}}function yp(e,t){return t?Gd(t):(ld(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}bp.PROVIDER_ID="phone",bp.PHONE_SIGN_IN_METHOD="phone";class xp extends Cf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wp(e){return Gf(e.auth,new xp(e),e.bypassAuthState)}function _p(e){const{auth:t,user:n}=e;return ld(n,t,"internal-error"),Vf(n,new xp(e),e.bypassAuthState)}async function kp(e){const{auth:t,user:n}=e;return ld(n,t,"internal-error"),Wf(n,new xp(e),e.bypassAuthState)}class Cp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(tv){this.reject(tv)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(tv){this.reject(tv)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wp;case"linkViaPopup":case"linkViaRedirect":return kp;case"reauthViaPopup":case"reauthViaRedirect":return _p;default:id(this.auth,"internal-error")}}resolve(e){hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ep=new gd(2e3,1e4);class Sp extends Cp{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Sp.currentPopupAction&&Sp.currentPopupAction.cancel(),Sp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ld(e,this.auth,"internal-error"),e}async onExecution(){hd(1===this.filter.length,"Popup operations only handle one event");const e=np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(sd(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(sd(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sd(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ep.get())};e()}}Sp.currentPopupAction=null;const Tp=new Map;class Np extends Cp{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Tp.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ap(t),r=Pp(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(tv){e=()=>Promise.reject(tv)}Tp.set(this.auth._key(),e)}return this.bypassAuthState||Tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ip(e,t){Tp.set(e._key(),t)}function Pp(e){return Gd(e._redirectPersistence)}function Ap(e){return Xd("pendingRedirect",e.config.apiKey,e.name)}async function Op(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(sa(e.app))return Promise.reject(od(e));const r=ff(e),i=yp(r,t),s=new Np(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Mp{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Lp(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(sd(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rp(e))}saveEventToCache(e){this.cachedEventUids.add(Rp(e)),this.lastProcessedEventTime=Date.now()}}function Rp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Lp(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const jp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dp=/^https?/;async function Bp(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return _d(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Fp(r))return}catch(n){}id(e,"unauthorized-domain")}function Fp(e){const t=dd(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Dp.test(n))return!1;if(jp.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zp=new gd(3e4,6e4);function Hp(){const e=ip().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Up(e){return new Promise((t,n)=>{var r,i,s;function a(){Hp(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Hp(),n(sd(e,"network-request-failed"))},timeout:zp.get()})}if(null===(i=null===(r=ip().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ip().gapi)||void 0===s?void 0:s.load)){const t=vf("iframefcb");return ip()[t]=()=>{gapi.load?a():n(sd(e,"network-request-failed"))},gf("".concat(mf.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw qp=null,e})}let qp=null;const Wp=new gd(5e3,15e3),Vp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yp(e){const t=e.config;ld(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vd(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ca},i=Gp.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Fi(r).slice(1))}async function Kp(e){const t=await function(e){return qp=qp||Up(e),qp}(e),n=ip().gapi;return ld(n,e,"internal-error"),t.open({where:document.body,url:Yp(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vp,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=sd(e,"network-request-failed"),s=ip().setTimeout(()=>{r(i)},Wp.get());function a(){ip().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Xp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(tv){}}}function $p(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c=Object.assign(Object.assign({},Xp),{width:r.toString(),height:i.toString(),top:s,left:a}),l=ki().toLowerCase();n&&(o=ef(l)?"_blank":n),Jd(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return af(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Qp(null);const h=window.open(t||"",o,u);ld(h,e,"popup-blocked");try{h.focus()}catch(tv){}return new Qp(h)}const Jp="__/auth/handler",Zp="emulator/auth/handler",em=encodeURIComponent("fac");async function tm(e,t,n,r,i,s){ld(e.config.authDomain,e,"auth-domain-config-required"),ld(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ca,eventId:i};if(t instanceof Rf){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Li(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Lf){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const c=await e._getAppCheckToken(),l=c?"#".concat(em,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Jp);return vd(t,Zp)}(e),"?").concat(Fi(o).slice(1)).concat(l)}const nm="webStorageSupport";const rm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ep,this._completeRedirectFn=Op,this._overrideRedirectResult=Ip}async _openPopup(e,t,n,r){var i;hd(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return $p(e,await tm(e,t,n,dd(),r),np())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ip().location.href=e}(await tm(e,t,n,dd(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(hd(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Kp(e),n=new Mp(e);return t.register("authEvent",t=>{ld(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nm,{type:nm},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[nm];void 0!==i&&t(!!i),id(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Bp(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cf()||Zd()||af()}};var im="@firebase/auth",sm="1.7.9";class am{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ld(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const om=xi("authIdTokenMaxAge")||300;let cm=null;var lm,um;lm={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=sd("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},mf=lm,um="Browser",ra(new Ki("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;ld(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:o,clientPlatform:um,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lf(um)},l=new df(r,i,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gd);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),ra(new Ki("auth-internal",e=>(e=>new am(e))(ff(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),ha(im,sm,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(um)),ha(im,sm,"esm2017");ha("firebase","10.14.1","app");const hm=la({apiKey:"AIzaSyClKDKGi72jLfbtgWF1957XHWZghwSM0YI",authDomain:"errordetectinator.firebaseapp.com",databaseURL:"https://errordetectinator-default-rtdb.firebaseio.com",projectId:"errordetectinator",storageBucket:"errordetectinator.appspot.com",messagingSenderId:"442966541608",appId:"1:442966541608:web:b08d5b8a9ea1d5ba2ffc1d"}),dm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua();const t=ia(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ia(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Di(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;id(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:rm,persistence:[mp,Jf,ep]}),r=xi("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>om)return;const r=null===t||void 0===t?void 0:t.token;cm!==r&&(cm=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Yi(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Yi(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=vi("auth");return s&&wf(n,"http://".concat(s)),n}(hm);const fm=n.p+"static/media/exc-page.a6ffec773734287a7df0.png",pm=n.p+"static/media/filterPage.9908d0af97c73ef6c895.png",mm=n.p+"static/media/noteClick.f0fe78aebdccd9f9d5b7.png",gm=n.p+"static/media/check-answer.97e3dacbb5e38a1506ce.png";function vm(e){let{authorized:n,setAuthorized:r}=e;const[i,s]=(0,t.useState)(!1),a=async(e,t)=>{try{const n=await function(e,t,n){return sa(e.app)?Promise.reject(od(e)):Yf(Yi(e),Mf.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Kf(e),t})}(dm,e,t);console.log("Logged in as:",n.user.email),r(!0),s(!1)}catch(i){console.error("Login failed"),s(!0)}};return(0,We.jsxs)("div",{children:[(0,We.jsx)("h2",{style:{textAlign:"center"},children:"Welcome to the Help Page!"}),(0,We.jsxs)("div",{style:{textAlign:"left",margin:"10px",padding:"10px",backgroundColor:"#fcfcd2",borderRadius:"10px"},children:[(0,We.jsxs)("div",{style:{textAlign:"center",margin:"10px auto",padding:"25px",backgroundColor:"white",borderRadius:"10px",width:"1000px"},children:["This site is meant to help you practice your ",(0,We.jsx)("strong",{children:"error detection skills"}),". You will have the chance to pracitce on a variety of ",(0,We.jsx)("strong",{children:"exercises"}),". On each you will the ",(0,We.jsx)("strong",{children:"read a music score"})," attached to the exercise. Attached to the exercise is also the ",(0,We.jsx)("strong",{children:"audio sample"})," of the music. This sample should match the score, however in each exercise there is ",(0,We.jsx)("strong",{children:"at least one incorrect note"}),". Students will be able to develop their error detection skills more by working to identify the error.",(0,We.jsx)("br",{})]}),(0,We.jsxs)("div",{style:{display:"flex",justifyContent:"center",backgroundColor:"#8ecbe1",borderRadius:"10px"},children:[(0,We.jsxs)("div",{style:{textAlign:"center",margin:"10px",padding:"20px",backgroundColor:"white",borderRadius:"10px",width:"200px",height:"150px",marginTop:"75px"},children:["On the ",(0,We.jsx)("strong",{children:"Exercises page"}),", you\u2019ll find a list of the exercises currently uploaded to the site. ",(0,We.jsx)("br",{})]}),(0,We.jsxs)("div",{style:{textAlign:"center",margin:"10px",marginRight:"20px",padding:"20px",backgroundColor:"white",borderRadius:"10px",marginTop:"75px",width:"200px",height:"150px"},children:["On this page we can view ",(0,We.jsx)("strong",{children:"all exercises"})," that are stored in our database. ",(0,We.jsx)("br",{})]}),(0,We.jsx)("div",{children:(0,We.jsx)("img",{alt:"exc-page",src:fm,width:"500",height:"300"})})]}),(0,We.jsxs)("div",{style:{display:"flex",justifyContent:"center",margin:"10px auto",borderRadius:"10px",backgroundColor:"#8ecbe1",width:"fit-content"},children:[(0,We.jsx)("div",{style:{textAlign:"center",margin:"10px",padding:"10px",borderRadius:"10px",display:"flex",justifyContent:"center"},children:(0,We.jsx)("img",{alt:"filter",src:pm,width:"500",height:"300"})}),(0,We.jsxs)("div",{style:{textAlign:"center",margin:"10px",padding:"20px",backgroundColor:"white",borderRadius:"10px",width:"300px",height:"200px",marginTop:"45px"},children:["You can use the different ",(0,We.jsx)("strong",{children:"filters to sort"})," and find appropriately challenging exercises for you (e.g. if you are new to this, consider starting with: ",(0,We.jsx)("i",{children:"intonation + 1 voice + level 1 + drone"}),"). ",(0,We.jsx)("br",{})]})]}),(0,We.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,We.jsxs)("div",{style:{textAlign:"center",margin:"10px",padding:"10px",backgroundColor:"white",borderRadius:"10px"},children:["Clicking on the ",(0,We.jsx)("i",{children:"\u201cdrone\u201d"})," checkbox will find exercises that have a drone on tonic. ",(0,We.jsx)("br",{})," ",(0,We.jsx)("br",{})]}),(0,We.jsxs)("div",{style:{textAlign:"center",margin:"10px",padding:"10px",backgroundColor:"white",borderRadius:"10px"},children:["Clicking on the ",(0,We.jsx)("i",{children:"\u201censemble parts\u201d"})," checkbox will have multiple voices/instruments performing the same part (e.g., 3 different clarinets playing the top line, one of which will perform the error(s)). ",(0,We.jsx)("br",{})]})]}),(0,We.jsxs)("div",{style:{backgroundColor:"#8ecbe1",borderRadius:"10px",display:"flex",justifyContent:"center",margin:"10px"},children:[(0,We.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,We.jsxs)("div",{style:{textAlign:"center",margin:"10px",padding:"10px",backgroundColor:"white",borderRadius:"10px",width:"300px"},children:["After finding some exercises, simply click the exercise to open it! ",(0,We.jsx)("br",{})]}),(0,We.jsxs)("div",{style:{textAlign:"center",margin:"10px",padding:"10px",backgroundColor:"white",borderRadius:"10px",width:"300px"},children:["A short excerpt of a score and an audio player will show up. Assume that the score will always be correct. ",(0,We.jsx)("br",{})]})]}),(0,We.jsx)("div",{children:(0,We.jsx)("img",{alt:"exercise",src:$h,width:"500",height:"300"})})]}),(0,We.jsxs)("div",{style:{textAlign:"center",margin:"10px",padding:"10px",backgroundColor:"white",borderRadius:"10px"},children:["The Audio file will play a short intro (2 bars long) to let you entrain to the key, tempo, and meter (you can move the cursor to skip past this if you don\u2019t need it). ",(0,We.jsx)("br",{})]}),(0,We.jsxs)("div",{style:{justifyContent:"center",display:"flex",backgroundColor:"#8ecbe1",borderRadius:"10px",alignItems:"center"},children:[(0,We.jsx)("div",{children:(0,We.jsx)("img",{alt:"note click",src:mm,width:"500",height:"300"})}),(0,We.jsxs)("div",{style:{textAlign:"center",margin:"10px",padding:"10px",backgroundColor:"white",borderRadius:"10px",width:"300px",height:"150px",alignContent:"center"},children:["Your job is to ",(0,We.jsx)("strong",{children:"click"})," on the notes where you hear something ",(0,We.jsx)("strong",{children:"different"})," from what is in the score."]}),(0,We.jsxs)("div",{style:{textAlign:"center",margin:"10px",padding:"10px",backgroundColor:"white",borderRadius:"10px",width:"300px",height:"150px",alignContent:"center"},children:["Click a note ",(0,We.jsx)("strong",{children:"multiple times"})," to change which type of error you hear."]})]}),(0,We.jsxs)("div",{style:{display:"flex",justifyContent:"center",backgroundColor:"#8ecbe1",borderRadius:"10px",margin:"10px auto",width:"fit-content"},children:[(0,We.jsxs)("div",{style:{textAlign:"center",margin:"10px",padding:"10px",backgroundColor:"white",borderRadius:"10px",width:"400px",alignContent:"center"},children:["A ",(0,We.jsx)("strong",{children:"key"})," will be present on each exercise to remind you which ",(0,We.jsx)("strong",{children:"color"})," corresponds to which kind of ",(0,We.jsx)("strong",{children:"error"}),".",(0,We.jsx)("br",{})]}),(0,We.jsx)("div",{style:{textAlign:"center",margin:"10px",padding:"10px",backgroundColor:"white",borderRadius:"10px",display:"flex",justifyContent:"center"},children:(0,We.jsx)("div",{children:(0,We.jsx)("img",{alt:"note-color-key",src:Qh,width:"250",height:"125"})})})]}),(0,We.jsxs)("div",{style:{display:"flex",justifyContent:"center",backgroundColor:"#8ecbe1",alignItems:"center",borderRadius:"10px"},children:[(0,We.jsxs)("div",{style:{textAlign:"center",margin:"10px",padding:"10px",backgroundColor:"white",borderRadius:"10px",width:"500px",height:"175px"},children:["After selecting all errors, click ",(0,We.jsx)("strong",{children:'"Check Answers"'})," to receive feedback on how you did. There will be an ",(0,We.jsx)("strong",{children:"error highlight"})," to show which meausre has incorrect selections and a ",(0,We.jsx)("strong",{children:"hint highlight"})," to help you look more closely at the measure that contains the correct error note. There is also ",(0,We.jsx)("strong",{children:"written feedback"})," for each incorrect note selection."]}),(0,We.jsx)("div",{children:(0,We.jsx)("img",{alt:"check answer",src:gm,width:"500",height:"300"})})]})]}),(0,We.jsxs)("div",{style:{margin:"6px"},children:[(0,We.jsx)("input",{id:"mng-email",placeholder:"Enter admin email..."}),(0,We.jsx)("span",{style:{padding:"10px"}}),(0,We.jsx)("input",{id:"mng-pwd",placeholder:"Enter admin password..."}),(0,We.jsx)("span",{style:{padding:"10px"}}),(0,We.jsx)("button",{onClick:function(){var e=document.getElementById("mng-email"),t=document.getElementById("mng-pwd");if(null!==t&&"value"in t&&null!==e&&"value"in e){var n=e.value,r=t.value;a(n,r)}},children:"Submit"})]}),i?(0,We.jsx)("div",{style:{color:"red"},children:"Incorrect password."}):(0,We.jsx)(We.Fragment,{}),n?(0,We.jsxs)("div",{style:{margin:"10px",padding:"10px",backgroundColor:"#fcfcd2",borderRadius:"10px"},children:[(0,We.jsx)("h5",{children:"Additional admin info: "}),"On the Exercise Management page, you can add new exercises, view, edit (under construction currently, do not attempt to edit), and delete previous exercises. ",(0,We.jsx)("br",{}),'To add an exercise, click the "New Exercise" button at the top of the page. ',(0,We.jsx)("br",{}),"This will open a new exercise, with fields to input tags, difficulty, and places to upload a .musicxml and a .mp3 file. ",(0,We.jsx)("br",{}),"The title of the exercise will automatically update as you select tags and difficulty. ",(0,We.jsx)("br",{}),"After uploading a .musicxml file (make sure it's specifically .musicxml!), the score will be loaded in. ",(0,We.jsx)("br",{}),"The .mp3 file will also allow you to preview the sound when you upload it. ",(0,We.jsx)("br",{}),"On the score, select a note to toggle its color, corresponding to the errors as illustrated in the key above. ",(0,We.jsx)("br",{}),"This key will also be included on every exercise for your ease of use. ",(0,We.jsx)("br",{}),"After you select a note, you can add specific feedback pertaining to the note in the feedback box. ",(0,We.jsx)("br",{}),"Once you have selected all the desired answers and entered relevant feedback (if any), click the Update Answers button. ",(0,We.jsx)("br",{}),"This will prepare the exercise for saving and uploading to the database. You can also click Reset Answers to clear the exercise and start from a fresh score. ",(0,We.jsx)("br",{}),"After clicking Update Answers, click Save once you're ready to upload the exercise to the database. ",(0,We.jsx)("br",{}),"If you want to delete an exercise instead, just click the Delete button. ",(0,We.jsx)("br",{}),"Once you've saved an exercise, it will appear on the Exercise page, able to be practiced! ",(0,We.jsx)("br",{}),(0,We.jsx)("br",{}),"If you come across any bugs, be sure to report them to Dr. Duker or the Outclassed Dev Team. ",(0,We.jsx)("br",{})]}):(0,We.jsx)(We.Fragment,{})]})}function bm(){return(0,We.jsxs)("div",{children:[(0,We.jsx)("h2",{style:{marginLeft:"1rem"},children:"About"}),(0,We.jsxs)("div",{className:"about",children:[(0,We.jsx)("div",{style:{textAlign:"left"},children:"This website is an error detection practice tool! Choose a category of exercises above to get started, or visit the Help page to learn more. See a problem? Please get in touch with Phil Duker."}),(0,We.jsx)("br",{}),(0,We.jsx)("div",{style:{textAlign:"left"},children:"This project was led by Phil Duker with the help of the following wonderful UD students: Alex Daley, Weldin Dunn, Benjamin McMonagle, Sean O\u2019Sullivan, Sonika Sharma, Colin Stetler, Victor Umoren-Udo, Lillian Woulfe, Adam Beck, Sehee Hwang, Michael Murphy, Mann Patel, Tyran Rice, and Sydni Wright."}),(0,We.jsx)("br",{}),(0,We.jsx)("div",{style:{textAlign:"left"},children:"This project was funded by through a Paul J. Rickards, Jr. Teaching Innovation Grant and supported through the University of Delaware\u2019s Academic Technology Services (with thanks to Erin Sicuranza, Colleen Kelemen, Racine Lewis, and Jessica Schroeder)."})]})]})}var ym,xm=n(4763),wm=n.n(xm),_m=n(8613);!function(){function e(e,t){return new Array(e+1).join(t)}function t(e,t){for(var n=[];e;)n.push(t),--e;return n}function n(e,t){for(var n=0,r={};n<e.length;++n)r[e[n]]=t[n];return r}function r(e,t){var n=e.split(/%[ds]/);return n.length>t.length&&t.push(""),t.map(function(e,t){return n[t]+e}).join("")}function i(e,t){l.info(r(e,t))}function s(e,t){return-1!==e.indexOf(t,e.length-t.length)}function a(e){return Object.keys(e).map(function(e){return parseInt(e)})}var o=Math.pow(2,53);function c(e,t){var n,r,i=[];if(Array.isArray(e))for(r=0;r<e.length;++r)r in e&&i.push([r,e[r]]);else for(r in e)i.push([r,e[r]]);return n=t?function(e,t){return e[0]-t[0]}:function(e,t){return e[1]-t[1]||t[0]-e[0]},i.sort(n),i}var l,u={"ornaments>trill-mark":"T","ornaments>mordent":"M","ornaments>inverted-mordent":"P","ornaments>turn":"!turn!","ornaments>inverted-turn":"!invertedturn!","technical>up-bow":"u","technical>down-bow":"v","technical>harmonic":"!open!","technical>open-string":"!open!","technical>stopped":"!plus!","technical>snap-pizzicato":"!snap!","technical>thumb-position":"!thumb!","articulations>accent":"!>!","articulations>strong-accent":"!^!","articulations>staccato":".","articulations>staccatissimo":"!wedge!","articulations>scoop":"!slide!",fermata:"!fermata!",arpeggiate:"!arpeggio!","articulations>tenuto":"!tenuto!","articulations>spiccato":"!wedge!","articulations>breath-mark":"!breath!","articulations>detached-legato":"!tenuto!."},h={p:"!p!",pp:"!pp!",ppp:"!ppp!",pppp:"!pppp!",f:"!f!",ff:"!ff!",fff:"!fff!",ffff:"!ffff!",mp:"!mp!",mf:"!mf!",sfz:"!sfz!"},d=["%%beginsvg\n<defs>",'<text id="x" x="-3" y="0">&#xe263;</text>','<text id="x-" x="-3" y="0">&#xe263;</text>','<text id="x+" x="-3" y="0">&#xe263;</text>','<text id="normal" x="-3.7" y="0">&#xe0a3;</text>','<text id="normal-" x="-3.7" y="0">&#xe0a3;</text>','<text id="normal+" x="-3.7" y="0">&#xe0a4;</text>','<g id="circle-x"><text x="-3" y="0">&#xe263;</text><circle r="4" class="stroke"></circle></g>','<g id="circle-x-"><text x="-3" y="0">&#xe263;</text><circle r="4" class="stroke"></circle></g>','<path id="triangle" d="m-4 -3.2l4 6.4 4 -6.4z" class="stroke" style="stroke-width:1.4"></path>','<path id="triangle-" d="m-4 -3.2l4 6.4 4 -6.4z" class="stroke" style="stroke-width:1.4"></path>','<path id="triangle+" d="m-4 -3.2l4 6.4 4 -6.4z" class="stroke" style="fill:#000"></path>','<path id="square" d="m-3.5 3l0 -6.2 7.2 0 0 6.2z" class="stroke" style="stroke-width:1.4"></path>','<path id="square-" d="m-3.5 3l0 -6.2 7.2 0 0 6.2z" class="stroke" style="stroke-width:1.4"></path>','<path id="square+" d="m-3.5 3l0 -6.2 7.2 0 0 6.2z" class="stroke" style="fill:#000"></path>','<path id="diamond" d="m0 -3l4.2 3.2 -4.2 3.2 -4.2 -3.2z" class="stroke" style="stroke-width:1.4"></path>','<path id="diamond-" d="m0 -3l4.2 3.2 -4.2 3.2 -4.2 -3.2z" class="stroke" style="stroke-width:1.4"></path>','<path id="diamond+" d="m0 -3l4.2 3.2 -4.2 3.2 -4.2 -3.2z" class="stroke" style="fill:#000"></path>',"</defs>\n%%endsvg"],f=["%%beginsvg\n",'<style type="text/css">\n',".bf {font-family:sans-serif; font-size:7px}\n","</style>\n","<defs>\n",'<rect id="clr" x="-3" y="-1" width="6" height="5" fill="white"></rect>\n','<rect id="clr2" x="-3" y="-1" width="11" height="5" fill="white"></rect>\n'],p='<g id="kop%s" class="bf"><use xlink:href="#clr"></use><text x="-2" y="3">%s</text></g>\n',m='<g id="kop%s" class="bf"><use xlink:href="#clr2"></use><text x="-2" y="3">%s</text></g>\n';function g(e){this.reset(),this.ixp=e,this.ixm=0,this.mdur=0,this.divs=0,this.mtr=[4,4]}function v(e,t){this.tijd=0,this.dur=e,this.fact=null,this.tup=[""],this.tupabc="",this.beam=0,this.grace=0,this.before=[],this.after="",this.ns=t?[t]:[],this.lyrs={},this.pos=0,this.tab=null,this.ntdec=""}function b(e){this.tijd=0,this.str=e,this.pos=0}function y(){}function x(e){this.tijd=0,this.maxtime=0,this.gMaten=[],this.gLyrics=[],this.vnums={},this.cnt=new y,this.vceCnt=1,this.lastnote=null,this.bpl=e.b,this.cpl=e.n,this.repbra=0,this.nvlt=e.v}function w(e,t,n,r){this.fnmext=e,this.outlist=[],this.infolist=[],this.title="T:Title",this.key="none",this.clefs={},this.mtr="none",this.tempo=0,this.tempo_units=[1,4],this.pad=t,this.X=n+1,this.denL=r.d,this.volpan=r.m,this.cmpL=[],this.scale="",this.tstep=r.t,this.stemless=0,this.pagewidth="",this.leftmargin="",this.rightmargin="",this.shiftStem=r.s,this.mnum=r.mnum,4==r.p.length&&(this.scale=""!=r.p[0]?parseFloat(r.p[0]):"",this.pagewidth=""!=r.p[1]?parseFloat(r.p[1]):"",this.leftmargin=""!=r.p[2]?parseFloat(r.p[2]):"",this.rightmargin=""!=r.p[3]?parseFloat(r.p[3]):"")}function _(e,t){if(!e.join(""))return["",0];for(var n=[],r=0;r<e.length;++r){var i=e[r];""==i?i=t?"_":"*":s(i,"_")&&!s(i,"\\_")?(i=i.replace("_",""),t=1):t=0,n.push(i)}return[n.join(" "),t]}function k(e,t){for(var n,r=e,i=t;t;)n=e%t,e=t,t=n;return[r/e,i/e]}function C(e,t,n){if(0==e.dur)return"";var r,s,a;if(r=(a=k(n*e.dur,4*t))[0],s=a[1],e.fact&&(r=(a=k(r*e.fact[0],s*e.fact[1]))[0],s=a[1]),s>64){var o=r/s,c=Math.floor(o);o-c<.1*o&&(r=c,s=1),i("denominator too small: %d/%d rounded to %d/%d",[r,s,(a=k(Math.round(64*r/s)||1,64))[0],a[1]]),r=a[0],s=a[1]}return 1==r?1==s?"":2==s?"/":"/"+s:1==s?""+r:r+"/"+s}function E(e){var t=e.match(/([_^]*)([A-Ga-g])([',]*)/);if(!t)return-1;var n,r,i=t[1],s=t[2],a=t[3];return n=s.toUpperCase(),r=60+[0,2,4,5,7,9,11]["CDEFGAB".indexOf(n)]+(n!=s?12:0),i&&(r+=("^"==i[0]?1:-1)*i.length),a&&(r+=("'"==a[0]?12:-12)*a.length),r}function S(e,t,n){var i,s,a,o,c,l,u=0,h=t[e],d=h.tup.indexOf("start");d>-1&&h.tup.splice(d,1);var f=e;for(a=n[0],o=n[1],s=[h.fact[0]/a,h.fact[1]/o];e<t.length;)if((h=t[e])instanceof b||h.grace)e+=1;else{if(h.tup.indexOf("start")>-1?(e=(l=S(e,t,s))[0],u+=l[1]):h.fact&&(u+=1),(d=h.tup.indexOf("stop"))>-1){h.tup.splice(d,1);break}if(!h.fact){e=i;break}i=e,e+=1}var p=[s[0],s[1],u];return c="3,2,3"==p.toString()?"(3":r("(%d:%d:%d",p),t[f].tupabc=c+t[f].tupabc,[e,u]}function T(e){e=e.filter(function(e){return e instanceof v});for(var t=0;t<e.length-1;){var n=e[t],r=e[t+1];!n.fact&&!r.fact&&n.dur>0&&r.beam&&(3*n.dur==r.dur?(r.dur=2*r.dur/3,n.dur=2*n.dur,n.after="<"+n.after,t+=1):3*r.dur==n.dur&&(n.dur=2*n.dur/3,r.dur=2*r.dur,n.after=">"+n.after,t+=1)),t+=1}}function N(e,t,n,r,i){for(var a=0;a<e.length;){var o=e[a];o instanceof v&&o.fact&&!o.grace&&(a=S(a,e,[1,1])[0]),a+=1}for(var c,l,u=[],h=0;h<e.length;++h){if((o=e[h])instanceof v){var d=C(o,t,i),f=o.ns.length>1,p=o.ns.filter(function(e){return s(e,"-")});p=p.map(function(e){return e.slice(0,-1)});var m="";f&&p.length==o.ns.length&&(o.ns=p,m="-"),l=o.tupabc+o.before.join(""),f&&(l+="["),l+=o.ns.join(""),f&&(l+="]"+m),s(l,"-")&&(l=l.slice(0,-1),m="-"),l+=d+m,l+=o.after,c=o.beam}else o.str instanceof Array&&(o.str=o.str[0]),l=o.str,c=1;c?u.push(l):u.push(" "+l)}for(u=u.join("");u.indexOf("!ped!!ped!")>=0;)u=u.replace(/!ped!!ped!/g,"!ped!");for(;u.indexOf("!ped-up!!ped-up!")>=0;)u=u.replace(/!ped-up!!ped-up!/g,"!ped-up!");for(;u.indexOf("!8va(!!8va)!")>=0;)u=u.replace(/!8va\(!!8va\)!/g,"");return u}function I(e,t){e.map(function(e,t){e.pos=t}),e.sort(function(e,t){return e.tijd-t.tijd||e.pos-t.pos});for(var n=0,r=[],s=[],a=0;a<e.length;++a){var o=e[a];if(o.tijd>n&&B(o.tijd-n,t)&&(r.push(new v(o.tijd-n,"x")),s.push(r.length-1)),o instanceof b)o.tijd<n&&(o.tijd=n),r.push(o),n=o.tijd;else{if(o.tijd<n){if("z"==o.ns[0])continue;var c=r[r.length-1];if(!(c.tijd<=o.tijd)){i("overlapping notes in one voice! part %d, measure %d, note %s discarded",[t.ixp+1,t.ixm+1,o instanceof v?o.ns:o.str]);continue}if("z"==c.ns[0])c.dur=o.tijd-c.tijd,0==c.dur&&r.pop(),i("overlap in part %d, measure %d: rest shortened",[t.ixp+1,t.ixm+1]);else{if(c.ns=c.ns.concat(o.ns),i("overlap in part %d, measure %d: added chord",[t.ixp+1,t.ixm+1]),o.dur=o.tijd+o.dur-n,o.dur<=0)continue;o.tijd=n}}if(r.push(o),o instanceof v){var l=o.ns[0];if("x"==l||"z"==l)s.push(r.length-1);else if(s.length){if(o.beam&&!o.grace)for(var u=0;u<s.length;++u)r[s[u]].beam=o.beam;s=[]}}n=o.tijd+o.dur}}return 0==n&&i("empty measure in part %d, measure %d, it should contain at least a rest to advance the time!",[t.ixp+1,t.ixm+1]),r}function P(e,t,n){var r,i,s,a,o,c,l,u,h,d;if(0==e.length)return[[],[]];if("part-group"==(r=e.shift())[0].tagName){if(i=r.attr("number"),"start"==r.attr("type")){for(a in s=[],{"group-symbol":0,"group-barline":0,"group-name":0,"group-abbreviation":0})s.push(r.find(a).text()||"");return t[i]=s,n.push(i),o=(d=P(e,t,n))[0],c=(d=P(d[1],t,n))[0],l=d[1],[[o].concat(c),l]}return u=n.pop(),e.length&&"stop"==e[0].attr("type")&&i!=u&&(d=t[u],t[u]=t[i],t[i]=d),[[t[i]],e]}return c=(d=P(e,t,n))[0],h=d[1],[[["name_tuple",r.find("part-name").text()||"",r.find("part-abbreviation").text()||""]].concat(c),h]}function A(e){var t,n,r,i;if(0==e.length)return[];for(t=[],r=0;r<e.length;++r){if(1==(n=e[r]).length)t.push(""+n[0]);else{for(t.push("("),i=0;i<n.length;++i)t.push(""+n[i]);t.push(")")}t.push("|")}return t.splice(-1,1),e.length>1&&(t=["{"].concat(t).concat(["}"])),t}function O(e,t,n,r,i,s){var a,o;"name_tuple"==e[0]?(a=r.shift(),t[0]&&(e[1]=t[0]+":"+e[1],e[2]=t[1]+":"+e[2]),i.push(e),s.push.apply(s,A(a))):2==e.length&&"name_tuple"==e[0][0]?(a=r.shift(),(o=["name_tuple","",""])[1]=e[0][1]+":"+e[1][2],o[2]=e[0][2]+":"+e[1][3],i.push(o),s.push.apply(s,A(a))):function(e,t,n,r,i){var s,a,o,c,l,u;for(u=e[e.length-1],s=u[0],a=u[1],o=u[2],c=u[3],a="yes"==a||t,i.push("brace"==s?"{":"["),l=0;l<e.length-1;++l)O(e[l],[o,c],a,n,r,i),a&&i.push("|");a&&i.splice(-1,1);i.push("brace"==s?"}":"]")}(e,n,r,i,s)}function M(e,t,n){for(var r,i,s=0,a=o,c=[4,8,16];c.length;){var l=c.shift(),u=0;for(r=0;r<t.length;++r){var h=t[r][e];for(i=0;i<h.length;++i){var d=h[i];d instanceof b||0==d.dur||(u+=C(d,n[r],l).length)}}u<a&&(s=l,a=u)}return s}function R(e){for(var t="",n=e.children(),r=0;r<n.length;++r){var i=n[r];switch(i.tagName){case"elision":t+="~";break;case"text":t+=_m(i).text().replace(/_/g,"\\_").replace(/-/g,"\\-").replace(/ /g,"~")}}if(!t)return t;var s=e.find("syllabic").text();return"begin"!=s&&"middle"!=s||(t+="-"),e.find("extend").length&&(t+="_"),t}function L(e,t,n,r){if(0!=n){var i,s,a,o=t[n][r],c=e[n][r],l=e[n-1][r];for(i in l){s=l[i][1],!(i in c)&&s&&(a=j(o))&&(c[i]=[a,0])}}}function j(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r instanceof v&&!r.grace){if("z"==r.ns[0]||"x"==r.ns[0])break;t.push("_")}}return t.join(" ")}function D(t,n){var r=t;return n>4&&(r=t.toLowerCase()),n>5&&(r+=e(n-5,"'")),n<4&&(r+=e(4-n,",")),r}function B(e,t){return e>t.divs/16?1:(i("MuseScore bug: incorrect duration, smaller then 1/64! in measure %d, part %d",[t.ixm,t.ixp]),0)}function F(e){this.slurBuf={},this.dirStk={},this.ingrace=0,this.msc=new x(e),this.unfold=e.u,this.ctf=e.c,this.gStfMap=[],this.midiMap=[],this.drumInst={},this.drumNotes={},this.instMid=[],this.midDflt=[-1,-1,-1,-91],this.msralts={},this.curalts={},this.stfMap={},this.vce2stf={},this.clefMap={},this.curClef={},this.stemDir={},this.clefOct={},this.curStf={},this.nolbrk=e.x,this.doPageFmt=1==e.p.length,this.tstep=e.t,this.dirtov1=e.v1,this.ped=!e.noped,this.wstems=e.stm,this.pedVce=null,this.repeat_str={},this.tabVceMap={},this.koppen={},this.note_alts=["=C,^C,=D,^D,=E,=F,^F,=G,^G,=A,^A,=B".split(","),"^B,_D,^^C,_E,_F,^E,_G,^^F,_A,^^G,_B,_C".split(","),"__D,^^B,__E,__F,^^D,__G,^^E,__A,_/A,__B,__C,^^A".split(",")],this.step_map={C:0,D:2,E:4,F:5,G:7,A:9,B:11}}g.prototype.reset=function(){this.attr="",this.lline="",this.rline="|",this.lnum=""},y.prototype.inc=function(e,t){this.counters[e][t]=(this.counters[e][t]||0)+1},y.prototype.clear=function(e){var r=Object.keys(e),i=t(r.length,0);this.counters={note:n(r,i),nopr:n(r,i),nopt:n(r,i)}},y.prototype.getv=function(e,t){return this.counters[e][t]},y.prototype.prcnt=function(e){for(var t in this.counters.note)0!=this.getv("nopr",t)&&i("part %d, voice %d has %d skipped non printable notes",[e,t,this.getv("nopr",t)]),0!=this.getv("nopt",t)&&i("part %d, voice %d has %d notes without pitch",[e,t,this.getv("nopt",t)]),0==this.getv("note",t)&&i("part %d, skipped empty voice %d",[e,t])},x.prototype.initVoices=function(e){for(var t in this.vtimes={},this.voices={},this.lyrics={},this.vnums)this.vtimes[t]=0,this.voices[t]=[],this.lyrics[t]=[];e&&this.cnt.clear(this.vnums)},x.prototype.incTime=function(e){this.tijd+=e,this.tijd<0&&(this.tijd=0),this.tijd>this.maxtime&&(this.maxtime=this.tijd)},x.prototype.appendElemCv=function(e,t){for(var n in e)this.appendElem(n,t)},x.prototype.insertElem=function(e,t){var n=new b(t);n.tijd=0,this.voices[e].unshift(n)},x.prototype.appendObj=function(e,t,n){t.tijd=this.tijd,this.voices[e].push(t),this.incTime(n),this.tijd>this.vtimes[e]&&(this.vtimes[e]=this.tijd)},x.prototype.appendElemT=function(e,t,n){var r=new b(t);r.tijd=n,this.voices[e].push(r)},x.prototype.appendElem=function(e,t,n){this.appendObj(e,new b(t),0),n&&this.cnt.inc("note",e)},x.prototype.appendNote=function(e,t,n){t.ns.push(t.ntdec+n),this.appendObj(e,t,parseInt(t.dur)),this.lastnote=t,"z"!=n&&"x"!=n&&(this.cnt.inc("note",e),t.grace||this.lyrics[e].push(t.lyrs))},x.prototype.getLastRec=function(e){if(this.gMaten.length){var t=this.gMaten[this.gMaten.length-1][e];return t[t.length-1]}return null},x.prototype.getLastMelis=function(e,t){if(this.gLyrics.length){var n=this.gLyrics[this.gLyrics.length-1][e];if(t in n)return n[t][1]}return 0},x.prototype.addChord=function(e,t){for(var n=0;n<e.before.length;n++){var r=e.before[n];this.lastnote.before.indexOf(r)<0&&this.lastnote.before.push(r)}this.lastnote.ns.push(e.ntdec+t)},x.prototype.addBar=function(e,t){for(var n in t.mdur&&this.maxtime>t.mdur&&i("measure %d in part %d longer than metre",[t.ixm+1,t.ixp+1]),this.tijd=this.maxtime,this.vnums){if(t.lline||t.lnum){var r=this.getLastRec(n);if(r){var s=r.str;t.lline&&(s=(s+t.lline).replace(/:\|:/g,"::").replace(/\|\|/g,"|")),3==this.nvlt?t.ixp+parseInt(n)==Math.min.apply(null,a(this.vnums))&&(s+=t.lnum):4==this.nvlt?parseInt(n)==Math.min.apply(null,a(this.vnums))&&(s+=t.lnum):t.lnum&&(s+=t.lnum,this.repbra=1),r.str=s}else t.lline&&this.insertElem(n,"|:")}e&&(r=this.getLastRec(n))&&(r.str+=e),t.attr&&this.insertElem(n,""+t.attr),this.appendElem(n," "+t.rline),this.voices[n]=I(this.voices[n],t);for(var o=this.lyrics[n],c={},l=o.reduce(function(e,t){return e.concat(a(t))},[]),u=Math.max.apply(null,l.concat([0]));u>0;--u){var h=o.map(function(e){return e[u]||""}),d=this.getLastMelis(n,u);c[u]=_(h,d)}this.lyrics[n]=c,T(this.voices[n])}this.gMaten.push(this.voices),this.gLyrics.push(this.lyrics),this.tijd=this.maxtime=0,this.initVoices()},x.prototype.outVoices=function(e,n){var r,i,s,o,u,h,d,f,p,m,g,v,b,y;for(f in u={},d=Math.min.apply(null,a(this.vnums)||[1]),this.vnums)if(0!=this.cnt.getv("note",f)){h=l.denL?l.denL:M(f,this.gMaten,e),l.cmpL.push(h);var x=[],w={};for(p=0;p<this.gMaten.length;++p)for(s in m=this.gMaten[p][f],x.push(N(m,e[p],p,n,h)),L(this.gLyrics,this.gMaten,p,f),g=this.gLyrics[p][f])if(v=(y=g[s])[0],s in w){for(;w[s].length<p;)w[s].push("");w[s].push(v)}else w[s]=t(p,"").concat([v]);for(s in w)o=w[s],b=x.length-o.length,w[s]=o.concat(t(b,""));l.add("V:"+this.vceCnt),this.repbra&&(1==this.nvlt&&this.vceCnt>1&&l.add("I:repbra 0"),2==this.nvlt&&parseInt(f)>d&&l.add("I:repbra 0")),this.cpl>0?this.bpl=0:0==this.bpl&&(this.cpl=100);for(var _=0;x.length;){for(var k=1,C=x[0];k<x.length&&!(this.cpl>0&&C.length+x[k].length>=this.cpl)&&!(this.bpl>0&&k>=this.bpl);)C+=x[k],k+=1;for(_+=k,l.add(C+" %"+_),x.splice(0,k),r=c(w,1),i=0;i<r.length;++i)s=(y=r[i])[0],o=y[1],l.add("w: "+o.slice(0,k).join("|")+"|"),o.splice(0,k)}u[f]=this.vceCnt,this.vceCnt+=1}return this.gMaten=[],this.gLyrics=[],this.cnt.prcnt(n+1),u},w.prototype.add=function(e){this.outlist.push(e+"\n")},w.prototype.info=function(e,t){var n="undefined"==typeof t||t?"-- ":"";this.infolist.push(n+e)},w.prototype.mkHeader=function(e,t,n,s,a){var o,l,u,h,d,g,v,b,y,x,w,_,k,C,S,T,N,I,P,A,M,R,L,j,D,B,F,z,H,U=[],q=[],W=e.slice();for(j=0;j<t.length;++j){o=t[j];try{O(o,["",""],"",e,U,q)}catch(X){i("lousy musicxml: error in part-list",[])}}for(l=q.join(" "),u={},j=0;j<W.length&&j<U.length;++j)h=W[j],d=(b=U[j])[1],g=b[2],0!=h.length&&(v=h[0][0],_=d.replace(/\n/g,"\\n").replace(/\.:/g,".").replace(/^:|:$/g,""),k=g.replace(/\n/g,"\\n").replace(/\.:/g,".").replace(/^:|:$/g,""),u[v]=(_?'nm="'+_+'"':"")+(k?' snm="'+k+'"':""));for(H=this.mnum>-1?"%%measurenb "+this.mnum+"\n":"",C=[r("X:%d\n%s\n%s",[this.X,this.title,H])],""!==this.scale&&C.push("%%scale "+this.scale+"\n"),""!==this.pagewidth&&C.push("%%pagewidth "+this.pagewidth+"cm\n"),""!==this.leftmargin&&C.push("%%leftmargin "+this.leftmargin+"cm\n"),""!==this.rightmargin&&C.push("%%rightmargin "+this.rightmargin+"cm\n"),l&&q.length>1&&C.push("%%score "+l+"\n"),S=this.tempo?r("Q:%d/%d=%s\n",[this.tempo_units[0],this.tempo_units[1],this.tempo]):"",T=[],j=0;j<this.cmpL.length;++j)T[o=this.cmpL[j]]=(T[o]||0)+1;N=(T=c(T))[T.length-1][0],N=this.denL?this.denL:N,C.push(r("L:1/%d\n%sM:%s\n",[N,S,this.mtr])),C.push(r("I:linebreak $\nK:%s\n",[this.key])),this.stemless&&C.push("U:s=!stemless!\n");var V=Object.keys(s).sort();for(j=0;j<V.length;++j)C=C.concat(s[V[j]]);for(I in this.dojef=0,this.clefs){A=(b=n[I-1])[0],M=b[1],R=b[2],L=b[3],y=b.slice(4),P=this.clefs[I],y.length&&P.indexOf("perc")<0&&(P=(P+" map=perc").trim()),C.push(r("V:%d %s %s\n",[I,P,u[I]||""])),I in s&&(C.push(r("%%voicemap tab%d\n",[I])),C.push("K:none\nM:none\n%%clef none\n%%staffscale 1.6\n%%flatbeams true\n%%stemdir down\n")),P.indexOf("perc")>-1&&C.push("K:none\n"),this.volpan>1?(A>0&&A!=I&&C.push("%%MIDI channel "+A+"\n"),M>0&&C.push("%%MIDI program "+(M-1)+"\n"),R>=0&&C.push("%%MIDI control 7 "+R+"\n"),L>=0&&C.push("%%MIDI control 10 "+L+"\n")):this.volpan>0&&(y.length&&A>0&&C.push("%%MIDI channel "+A+"\n"),M>0&&C.push("%%MIDI program "+(M-1)+"\n"));for(j=0;j<y.length;++j)D=y[j].nt,F=y[j].step,B=y[j].midi,(z=y[j].nhd)||(z="normal"),E(D)==B&&D==F||(this.volpan>0&&C.push("%%MIDI drummap "+D+" "+B+"\n"),C.push("I:percmap "+D+" "+F+" "+B+" "+z+"\n"),this.dojef=this.tstep);N!=this.cmpL[I-1]&&C.push("L:1/"+this.cmpL[I-1]+"\n")}if(this.outlist=C.concat(this.outlist),(w=Object.keys(a).sort()).length){x=[];var G=this.shiftStem?p.replace("-2","-5"):p,Y=this.shiftStem?m.replace("-2","-5"):m,K=this.shiftStem?f.map(function(e){return e.replace("-3","-6")}):f;w.forEach(function(e){x.push(e.length>1?r(Y,[e,e]):r(G,[e,e]))}),this.outlist=K.concat(x,"</defs>\n%%endsvg\n",this.outlist)}},w.prototype.writeall=function(){var e=l.outlist.join("");return this.dojef&&(e=function(e){var t,n,r,i,s={diamond:1,triangle:1,square:1,normal:1},a=d,o="default",c={default:[]},l={default:[]};for(t=e.split("\n"),n=0;n<t.length;++n){if((r=t[n]).indexOf("I:percmap")>=0){var u=(r=r.split(" ").map(function(e){return e.trim()}))[4];u in s&&(u=u+"+,"+u),r="%%map perc"+o+" "+r[1]+" print="+r[2]+" midi="+r[3]+" heads="+u,c[o].push(r)}r.indexOf("%%MIDI")>=0&&l[o].push(r),r.indexOf("V:")>=0&&(i=r.match(/V:\s*(\S+)/))&&((o=i[1])in c||(c[o]=[],l[o]=[]))}var h=Object.keys(c).sort();for(n=0;n<h.length;++n)a=a.concat(c[h[n]]);for(o="default",n=0;n<t.length;++n)(r=t[n]).indexOf("I:percmap")>=0||r.indexOf("%%MIDI")>=0||(r.indexOf("V:")>=0||r.indexOf("K:")>=0?((i=r.match(/V:\s*(\S+)/))&&(o=i[1]),a.push(r),o in l&&l[o].length&&(a=a.concat(l[o]),delete l[o]),r.indexOf("perc")>=0&&-1==r.indexOf("map=")&&(r+=" map=perc"),r.indexOf("map=perc")>=0&&c[o].length>0&&a.push("%%voicemap perc"+o),r.indexOf("map=off")>=0&&a.push("%%voicemap")):a.push(r));return a.join("\n")}(e)),[e,this.infolist.join("\n")]},F.prototype.matchSlur=function(e,t,n,r,s,a){if(-1!=["start","stop"].indexOf(e))if(t||(t="1"),t in this.slurBuf){var o=this.slurBuf[t],c=o[0],l=o[1],u=o[2],h=o[3];e!=c?(n==l&&("start"!=c||h&&a||(u.before.unshift("("),r.after+=")")),delete this.slurBuf[t]):(i("double slur numbers %s-%s in part %d, measure %d, voice %d note %s, first discarded",[e,t,this.msr.ixp+1,this.msr.ixm+1,n,r.ns]),this.slurBuf[t]=[e,n,r,s])}else this.slurBuf[t]=[e,n,r,s]},F.prototype.doNotations=function(t,n,i){for(var s=Object.keys(u).sort(),a=0;a<s.length;++a){var o=s[a],c=u[o];n.find(o).length&&t.before.push(c)}var l=n.find("ornaments>tremolo");if(l.length){var h=l.attr("type"),d=e(parseInt(l.text()),"/");"single"==h?t.before.unshift("!"+d+"!"):(t.fact=null,this.tstep?"stop"==h&&t.before.unshift("!trem"+l.text()+"!"):"start"==h&&t.before.unshift("!"+d+"-!"))}var f=n.find("technical>fingering");i||f.each(function(){t.before.push("!"+_m(this).text()+"!")});var p=n.find("technical>string");if(p.length&&i)if(this.tstep){var m=n.find("technical>fret");m.length&&(t.tab=[p.eq(0).text(),m.eq(0).text()])}else p.each(function(){var e="!"+_m(this).text()+"!";t.ntdec.indexOf(e)<0&&(t.ntdec+=e)});var g=n.find("ornaments>wavy-line");for(var d of g.toArray())switch(_m(d).attr("type")){case"start":t.before.unshift("!trill(!");break;case"stop":t.after+="!trill)!"}var v=n.find("glissando");if(0==v.length&&(v=n.find("slide")),v.length){var b="wavy"==v.attr("line-type")?"~":"-";"start"==v.attr("type")?t.before.unshift(r("!%s(!",[b])):"stop"==v.attr("type")&&t.before.unshift(r("!%s)!",[b]))}},F.prototype.tabnote=function(e,t,n,r,s){var a,o,c,l,u,h,d,f,p,m;for((d=this.step_map[t]+parseInt(e||"0"))>11&&(n+=1,d-=12),d<0&&(n-=1,d+=12),l=s.tab[0],h=s.tab[1],m=0;m<4&&(f=this.note_alts[m%3][d],p=n,["^B","^^B"].indexOf(f)>-1&&(p-=1),["_C","__C"].indexOf(f)>-1&&(p+=1),(f.indexOf("/")>-1||3==m)&&(p=9),a=D(f,p),c=(o=this.tabmap[[r,a]]||["",""])[0],u=o[1],c);++m){if(l==c)return a;3==m&&(i("rejected: voice %d note %s string %s fret %s remains: string %s fret %s",[r,a,l,h,c,u]),s.tab=[c,u])}return this.tabmap[[r,a]]=s.tab,a},F.prototype.ntAbc=function(e,t,n,r,s,a){t+=this.clefOct[this.curStf[r]]||0;var o=n.find("accidental").text(),c=n.find("pitch>alter").text();if(s.tab)return this.tabnote(c,e,t,r,s);a&&this.tstep&&i("no string notation found for note %s in voice %d",[["__","_","","^","^^"][parseInt(c||"0")+2]+D(e,t),r]);var l=D(e,t);!c&&this.msralts[e]&&(c=0);var u=l+"#"+r;if(!c&&u in this.curalts&&(c=0),""===o&&""===c)return l;if(""!=o)c={"double-flat":-2,"flat-flat":-2,flat:-1,natural:0,sharp:1,"sharp-sharp":2,"double-sharp":2}[o];else{if(c=parseFloat(c),u in this.curalts){if(c==this.curalts[u])return l}else if(c==(this.msralts[e]||0))return l;if(n.find("tie").add(n.find("notations>tied")).get().some(function(e){return"stop"==_m(e).attr("type")}))return l;i("accidental %d added in part %d, measure %d, voice %d note %s",[c,this.msr.ixp+1,this.msr.ixm+1,r+1,l])}return this.curalts[u]=c,l=["__","_","=","^","^^"][c+2]+l},F.prototype.doNote=function(t){var n=new v(0,null),i=parseInt(t.find("voice").text()||"1");this.isSib&&(i+=100*(t.find("staff").text()||"1"));var s=t.find("chord").length>0,a=t.find("pitch>step").text()||t.find("unpitched>display-step").text(),o=t.find("pitch>octave").text()||t.find("unpitched>display-octave").text(),c=t.find("rest").length>0,u=t.find("time-modification>actual-notes").text();if(u){var h=t.find("time-modification>normal-notes").text();n.fact=[parseInt(u),parseInt(h)]}n.tup=t.find("notations>tuplet").map(function(){return _m(this).attr("type")}).get();var d=t.find("duration").text(),f=t.find("grace");n.grace=f.length>0,n.before=[""],n.after="",n.grace&&!this.ingrace&&(this.ingrace=1,n.before=["{"],"yes"==f.attr("slash")&&n.before.push("/"));var p=!n.grace&&this.ingrace;if(p&&(this.ingrace=0,this.msc.lastnote.after+="}"),d&&!n.grace||(d=0),!c&&"no"==t.attr("print-object")){if(s)return;c=1}n.dur=parseInt(d),c||a&&o||(this.msc.cnt.inc("nopt",i),o=5,a="E");var m=0==(this.curClef&&this.curClef[this.curStf[i]]||"").indexOf("tab"),g=t.find("notations");g.length&&this.doNotations(n,g,m);var b,y=t.find("stem");if(c||!y.length||"none"!=y.text()||m&&!(i in this.hasStems)&&!this.tstep||(n.before.push("s"),l.stemless=1),(y=t.find("accidental")).length&&"yes"==y.attr("parentheses")&&(n.ntdec+="!courtesy!"),b=c?"no"==t.attr("print-object")||m?"x":"z":this.ntAbc(a,parseInt(o),t,i,n,m),t.find("unpitched").length){var x=this.curClef[this.curStf[i]],w=function(t,n,r,i){var s,a=0;if(r.indexOf("stafflines=1")>=0&&(a+=4),!i&&r.indexOf("bass")>=0&&(a+=12),a){var o="CDEFGAB".split("");s=o.indexOf(t)+a,t=o[s%7],n+=Math.floor(s/7)}return n>4&&(t=t.toLowerCase()),n>5&&(t+=e(n-5,"'")),n<4&&(t+=e(4-n,",")),t}(a,parseInt(o),x,this.tstep),_=t.find("instrument"),k=_.length?_.attr("id"):"dummyId",C=this.drumInst[k]||E(b),S=t.find("notehead"),T=S.text().replace(" ","-");"x"==T&&(b="^"+b.replace(/\^/g,"").replace(/_/g,"")),"circle-x"!=T&&"diamond"!=T&&"triangle"!=T||(b="_"+b.replace(/\^/g,"").replace(/_/g,"")),"yes"==S.attr("filled")&&(T+="+"),"no"==S.attr("filled")&&(T+="-"),this.drumNotes[i+";"+b]=[w,C,T]}var N=t.find("tie").add(t.find("notations>tied")).get();N.some(function(e){return"start"==_m(e).attr("type")})&&(b+="-"),N=t.find("beam").map(function(){return _m(this).text()}).get(),n.beam=N.indexOf("continue")>-1||N.indexOf("end")>-1||n.grace,N=t.find("lyric");for(var I=0,P=0;P<N.length;++P){var A=_m(N[P]),O=parseInt((A.attr("number")||"1").replace(/^.*verse/,""));0==O?O=I+1:I=O,n.lyrs[O]=R(A)}var M=t.find("stem").text();if(!this.wstems||"up"!=M&&"down"!=M||M!=this.stemDir[i]&&(this.stemDir[i]=M,this.msc.appendElem(i,r("[I:stemdir %s]",[M]))),s)this.msc.addChord(n,b);else{var L=parseInt(t.find("staff").text()||"1");if(this.curStf[i]!=L){var j=L-this.curStf[i];this.curStf[i]=L;var D=j>0?"+":"";this.msc.appendElem(i,"[I:staff "+D+j+"]")}this.msc.appendNote(i,n,b)}for(N=t.find("notations>slur"),P=0;P<N.length;++P){var B=_m(N[P]);this.matchSlur(B.attr("type"),B.attr("number"),i,this.msc.lastnote,n.grace,p)}},F.prototype.doAttr=function(e){var i,s,a,o,c,u,h,d,f,p,m,g,v,b,y,x,w,_,k,C,E,S,T;i={C1:"alto1",C2:"alto2",C3:"alto",C4:"tenor",F4:"bass",F3:"bass3",G2:"treble",TAB:"tab",percussion:"perc"},(s=e.find("divisions").text())&&(this.msr.divs=parseInt(s)),a=parseInt(e.find("transpose>chromatic").text()||"0"),o=e.find("key>fifths").first().text(),c=0==this.msc.tijd&&0==this.msr.ixm,o&&(S=function(e,r){var i,s;return i=["F","C","G","D","A","E","B"],[["Fb","Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#","G#","D#","A#","E#","B#"][(s={maj:8,ion:8,m:11,min:11,aeo:11,mix:9,dor:10,phr:12,lyd:7,loc:13,non:8})[r=r.slice(0,3).toLowerCase()]+e]+(8!=s[r]?r:""),e>=0?n(i.slice(0,e),t(e,1)):n(i.slice(e),t(-e,-1))]}(parseInt(o),e.find("key>mode").first().text()||"major"),u=S[0],this.msralts=S[1],c&&!a&&"none"==l.key?l.key=u:u==l.key&&c||(this.msr.attr+="[K:"+u+"]")),(h=e.find("time>beats").text())&&(f=h+"/"+(d=e.find("time>beat-type").text()),c?l.mtr=f:this.msr.attr+="[M:"+f+"]",this.msr.mtr=[parseInt(h),parseInt(d)]),this.msr.mdur=this.msr.divs*this.msr.mtr[0]*4/this.msr.mtr[1];var N=this;for(e.find("measure-style").each(function(){var e,t,n,i,s,a,o;e=parseInt(_m(this).attr("number")||"1"),t=N.stfMap[e],_m(this).find("measure-repeat").each(function(){"start"==(n=_m(this).attr("type"))?(N.repeat_str[e]=[N.msr.ixm,_m(this).text()],t.forEach(function(t){N.msc.insertElem(t,N.repeat_str[e])})):"stop"==n&&(i=N.repeat_str[e][0],a=N.repeat_str[e][1],s=N.msr.ixm-i,a?(o=a+" ",s/=parseInt(a)):o="",N.repeat_str[e][0]=r("[I:repeat %s%d]",[o,s]),delete N.repeat_str[e])})}),(p=e.find("transpose>octave-change").text()||"")&&(a+=12*parseInt(p)),C=e.find("clef"),k=0;k<C.length;k++){m=_m(C[k]),g=parseInt(m.attr("number")||"1"),b=i[(v=m.find("sign").text())+("percussion"!=v&&"TAB"!=v&&m.find("line").text()||"")]||"",(y=m.find("clef-octave-change").text()||"0")&&(b+={"-2":"-15","-1":"-8",1:"+8",2:"+15"}[y]||""),this.clefOct[g]=-parseInt(y),a&&(b+=" transpose="+a);var I=e.find("staff-details");if(I.length&&(I.attr("number")||1)==g){(T=I.find("staff-lines").text())&&(b+=" stafflines="+("3"==T&&"TAB"==v?"|||":T),this.stafflines=parseInt(T));var P=I.find("staff-tuning"),A=[];P.each(function(){A.push(_m(this).find("tuning-step").text()+_m(this).find("tuning-octave").text())}),A.length&&(b+=r(" strings=%s",[A.join(",")]));var O=I.find("capo").text();O&&(b+=r(" capo=%s",[O]))}if(this.curClef[g]=b,c)this.clefMap[g]=b;else for(x=this.stfMap[g],E=0;E<x.length;++E)w=x[E],g!=this.curStf[w]&&(_=g-this.curStf[w],this.curStf[w]=g,v=_>0?"+":"",this.msc.appendElem(w,"[I:staff "+v+_+"]")),this.msc.appendElem(w,"[K:"+b+"]")}},F.prototype.findVoice=function(e,t){var n,r,i,s,a,o,c;if(i=t.eq(e),n=parseInt(i.find("staff").text()||"1"),r=(c=this.stfMap[n]).length?c[0]:1,this.dirtov1)return{sn:n,v:r,v1:r};for(s=e+1;s<t.length;++s){if("note"==(i=t.eq(s))[0].tagName)return a=parseInt(i.find("staff").text()||"1"),o=parseInt(i.find("voice").text()||"1"),this.isSib&&(o+=100*a),{sn:a=this.vce2stf[o],v:o,v1:r};if("backup"==i[0].tagName)break}return{sn:n,v:r,v1:r}},F.prototype.doDirection=function(e,t,n){var s,a,o,c,u,d,f,p,m,g,v,b,y,x,w,_,C,E,S,T;function N(e,t,n,r,i){t&&(n=t.indexOf("!8v")>=0?e.stfMap[i]:[n]).forEach(function(n){null!=r?e.msc.appendElemT(n,t.replace("(",")").replace("ped","ped-up"),r):e.msc.appendElem(n,t)})}function I(e,t,n,r){var s,o,c,l;if(l={down:"!8va(!",up:"!8vb(!",crescendo:"!<(!",diminuendo:"!>(!",start:"!ped!"},d=a.attr("type")||"",s=t+(a.attr("number")||"1"),d in l)c=l[d],s in e.dirStk?(o=e.dirStk[s],delete e.dirStk[s],"stop"==o.type?N(e,c,n,o.tijd,r):(i("%s direction %s has no stop in part %d, measure %d, voice %d",[t,o.type,e.msr.ixp+1,e.msr.ixm+1,n+1]),e.dirStk[s]={type:d,vs:n})):e.dirStk[s]={type:d,vs:n};else{if("stop"!=d)throw"wrong direction type";s in e.dirStk?(o=e.dirStk[s],delete e.dirStk[s],d=o.type,n=o.vs,"stop"==d?(i("%s direction %s has double stop in part %d, measure %d, voice %d",[t,d,e.msr.ixp+1,e.msr.ixm+1,n+1]),c=""):c=l[o.type].replace("(",")").replace("ped","ped-up")):(e.dirStk[s]={type:"stop",tijd:e.msc.tijd},c="")}N(e,c,n,null,r)}var P,A="";s=e.attr("placement"),E=(f=this.findVoice(t,n)).sn,u=f.v,S=f.v1;var O="",M={dacapo:"D.C.",dalsegno:"D.S.",tocoda:"dacoda",fine:"fine",coda:"O",segno:"S"};if((a=e.find("sound")).length){if((v=a.find("midi-instrument")).length){for(x in b=a.find("midi-instrument>midi-program").text(),y=a.find("midi-instrument>midi-channel").text(),this.vceInst)this.vceInst[x]==v.attr("id")&&(u=x);w=b?"program":"channel",(_=(b?b-1:y)+"")&&l.volpan>0&&this.msc.appendElem(u,"[I:MIDI= "+w+" "+_+"]")}for(T in(o=a.attr("tempo"))&&(o=parseFloat(o).toFixed(0),P=[1,4]),M)if(a.attr(T)){O=M[T];break}}for(var R=e.children("direction-type"),L=0;L<R.length;++L){var j={whole:[1,1],half:[1,2],quarter:[1,4],eighth:[1,8]},D=(c=_m(R[L])).find("metronome");D.length&&(P=(a=D.find("beat-unit").text()||"")in j?j[a]:j.quarter,D.find("beat-unit-dot").length&&(P=k(3*P[0],2*P[1])),(T=D.find("per-minute").text().match(/[.\d]+/))&&(o=T[0])),(a=c.find("wedge")).length&&I(this,"wedge",u),0==(C=c.find("words")).length&&(C=c.find("rehearsal"));for(var B=0;B<C.length;++B){if(O){this.msc.appendElem(u,r("!%s!",[O]),1);break}p="below"==s?"_":"^";var F=_m(C[B]);parseFloat(F.attr("default-y")||"0")<0&&(p="_"),A+=F.text().replace(/"/g,'\\"').replace(/\n/g,"\\n")}for(m in A=A.trim(),h)g=h[m],c.find("dynamics>"+m).length&&this.msc.appendElem(u,g,1);c.find("coda").length&&this.msc.appendElem(u,"O",1),c.find("segno").length&&this.msc.appendElem(u,"S",1),(a=c.find("octave-shift")).length&&I(this,"octave-shift",u,E),(a=c.find("pedal")).length&&this.ped&&(this.pedVce||(this.pedVce=u),I(this,"pedal",this.pedVce)),"diatonic fretting"==c.find("other-direction").text()&&(this.diafret=1)}o&&(o=parseFloat(o).toFixed(0),0==this.msc.tijd&&0==this.msr.ixm?(l.tempo=o,l.tempo_units=P):this.msc.appendElem(S,r("[Q:%d/%d=%s]",[P[0],P[1],o]))),A&&this.msc.appendElem(u,'"'+p+A+'"',1)},F.prototype.doHarmony=function(e,t,n){var r,i,s,a,o,c,l,u,h,d,f,p,m,g,v;r=this.findVoice(t,n).v,i={major:"",minor:"m",augmented:"+",diminished:"dim",dominant:"7","half-diminished":"m7b5"},s={major:"maj",dominant:"",minor:"m",diminished:"dim",augmented:"+",suspended:"sus"},a={second:"2",fourth:"4",seventh:"7",sixth:"6",ninth:"9","11th":"11","13th":"13"},o={1:"#",0:"","-1":"b"},c=e.find("root>root-step","").text(),l=o[e.find("root>root-alter").text()]||"",u="",(h=e.find("kind").text())in i?h=i[h]:h.indexOf("-")>-1?(d=(v=h.split("-"))[0],f=v[1],0==(h=(s[d]||"")+(a[f]||"")).indexOf("sus")&&(u=h,h="")):"none"==h&&(h=e.find("kind").attr("text")),p=e.find("degree");for(t=0;t<p.length;++t)h+=(o[(g=_m(p[t])).find("degree-alter").text()]||"")+g.find("degree-value").text();h=h.replace("79","9").replace("713","13").replace("maj6","6"),m=e.find("bass>bass-step").text()+(o[e.find("bass>bass-alter").text()]||""),this.msc.appendElem(r,'"'+c+l+h+u+(m&&"/"+m)+'"',1)},F.prototype.doBarline=function(e){var t=e.find("repeat"),n=0;if(t.length&&(n=t.attr("direction")),this.unfold)return n?"forward"==n?1:2:0;if("right"==(e.attr("location")||"right")){var r=e.find("bar-style").text();"light-light"==r?this.msr.rline="||":"light-heavy"==r&&(this.msr.rline="|]")}n&&("forward"==n?this.msr.lline=":":this.msr.rline=":|");var i=e.find("ending");if(i.length)if("start"==i.attr("type")){var s=(i.attr("number")||"1").replace(/\./g,"").replace(/ /g,"");/^[\d,]+$/.test(s)||(s='"'+s.trim()+'"'),this.msr.lnum=s}else"|"==this.msr.rline&&(this.msr.rline="||");return 0},F.prototype.doPrint=function(e){if("yes"==e.attr("new-system")||"yes"==e.attr("new-page"))return this.nolbrk?"":"$"},F.prototype.doPartList=function(e){var t,n,i,s,a,o,c,l,u,h,d,f,p;for(a=e.find("part-list>score-part"),t=0;t<a.length;++t){for(s=a[t],o={},c=_m(s).find("midi-instrument"),n=0;n<c.length;++n){for(l=_m(c[n]),h=["midi-channel","midi-program","volume","pan"],u=[],i=0;i<h.length;++i)d=h[i],u.push(l.find(d).text()||this.midDflt[i]);(f=1*u[3])>=-90&&f<=90&&(f=(f+90)/180*127),o[l.attr("id")]=[parseInt(u[0]),parseInt(u[1]),1.27*parseFloat(u[2]),f],(p=l.find("midi-unpitched").text())&&(this.drumInst[l.attr("id")]=p-1)}this.instMid.push(o)}return u=function(e){function t(e){var t=r('<part-group number="%d" type="%s"></part-group>',[e,"stop"]);return _m(t,h)}var n,i,s,a,o,c,l,u,h=e[0];for(n=[],i=[],l=e.children(),c=0;c<l.length;c++)"part-group"==(s=_m(l[c]))[0].tagName?(a=s.attr("number"),o=s.attr("type"),u=i.indexOf(a),"start"==o?u>-1?(n.push(t(a)),n.push(s)):(n.push(s),i.push(a)):u>-1&&(i.splice(u,1),n.push(s))):n.push(s);for(c=i.length-1;c>=0;--c)a=i[c],n.push(t(a));return n}(e.find("part-list")),P(u,{},[])[0]},F.prototype.mkTitle=function(e){var t,n,r,s,a,o,c,u,h,d,f=[],p=[],m=[];for(t=e.find("work>work-title").text().trim(),n=e.find("movement-title").text().trim(),r=e.find("identification>creator"),s=0;s<r.length;++s)o=(a=_m(r[s])).text(),c=a.attr("type"),o&&(o=o.split("\n").map(function(e){return e.trim()}),"composer"==c?f.push.apply(f,o):"lyricist"!=c&&"transcriber"!=c||p.push.apply(p,o));for(r=e.find("identification>rights"),s=0;s<r.length;++s)(o=_m(r[s]).text())&&(o=o.split("\n").map(function(e){return e.trim()}),p.push.apply(p,o));for(r=e.find("credit"),s=0;s<r.length;++s){for(u="",h=_m(r[s]).find("credit-words"),d=0;d<h.length;++d)u+=_m(h[d]).text();m.push(u.replace(/\s*[\r\n]\s*/g," "))}m=function(e){var r,i,s=[];function a(e,t){return e&&t.indexOf(e)>-1}function o(e){return a(e,r)}for(i=0;i<m.length;++i)r=m[i],e<6&&(a(r,t)||a(r,n))||e<5&&(a(r,f)||a(r,p))||e<4&&(a(t,r)||a(n,r))||e<3&&(f.some(o)||p.some(o))||e<2&&/^[\d\W]*$/.test(r)||s.push(r);return 0==e&&t+n&&(s=""),s}(this.ctf),t&&(t="T:"+t.replace(/\n/g,"\nT:")+"\n"),n&&(t+="T:"+n.replace(/\n/g,"\nT:")+"\n"),m.length&&(t+=m.map(function(e){return"T:"+e}).join("\n")+"\n"),f.length&&(t+=f.map(function(e){return"C:"+e}).join("\n")+"\n"),p.length&&(t+=p.map(function(e){return"Z:"+e}).join("\n")+"\n"),t&&(l.title=t.substr(0,t.length-1)),this.isSib=e.find("identification>encoding>software").text().indexOf("Sibelius")>=0,this.isSib&&i("Sibelius MusicXMl is unreliable",[])},F.prototype.doDefaults=function(e){var t,n,r,i,s,a,o;this.doPageFmt&&(t=e.find("defaults")).length&&(a=t.find("scaling>millimeters").text()/t.find("scaling>tenths").text()/10,n=t.find("page-layout>page-width").text()*a,r=(o=t.find("page-layout>page-margins").first()).find("left-margin").text(),i=o.find("right-margin").text(),s=10*a/.2117,!l.scale&&s&&(l.scale=s.toFixed(2)),!l.pagewidth&&n&&(l.pagewidth=n.toFixed(2)),l.leftmargin||""==r||(l.leftmargin=(r*a).toFixed(2)),l.rightmargin||""==i||(l.rightmargin=(i*a).toFixed(2)))},F.prototype.locStaffMap=function(e){var t={};this.vceInst={},this.msc.vnums={},this.hasStems={},this.stfMap={},this.clefMap={};for(var n=e.find("measure>note"),r=0;r<n.length;r++){var i=_m(n[r]),s=parseInt(i.find("voice").text()||"1");this.isSib&&(s+=100*(i.find("staff").text()||"1")),this.msc.vnums[s]=1;var a=parseInt(i.find("staff").text()||"1");if(this.stfMap[a]=[],s in t){var o=t[s];o[a]=(o[a]||0)+1}else{var c={};c[a]=1,t[s]=c}(c=i.find("instrument")).length&&(this.vceInst[s]=_m(c).attr("id")),c=i.find("stem"),!(0==i.find("rest").length)||0!=c.length&&"none"==c.text()||(this.hasStems[s]=1)}for(s in t){var l=[],u=t[s];for(a in u)l.push([u[a],a]);l.sort(function(e,t){return e[0]-t[0]});var h=l[l.length-1][1];this.stfMap[h].push(s),this.vce2stf[s]=h,this.curStf[s]=h}},F.prototype.addStaffMap=function(e){var t,n,r,i,s,a,o,c,u,h=[],d=Object.keys(this.stfMap).sort();for(n=0;n<d.length;++n){for(a=d[n],s=this.stfMap[a],o=[],c=[],t=0;t<s.length;++t)(r=s[t])in e&&(o.push(e[r]),c.push(void 0==this.hasStems[r]));if(o.length){h.push(o),i=a in this.clefMap?this.clefMap[a]:"treble";for(t=0;t<o.length;++t)r=o[t],u="",0==i.indexOf("tab")&&(c[t]&&i.indexOf("nostems")<0&&(u=" nostems"),this.diafret&&i.indexOf("diafret")<0&&(u+=" diafret")),l.clefs[r]=i+u}}this.gStfMap.push(h)},F.prototype.addMidiMap=function(e,t){var n,i=this.instMid[e],s=Object.keys(i);n=s.length?i[s[0]]:this.midDflt;var a,o,c,l,u,h=[],d=this;for(a in t)u=(s=Object.keys(this.drumNotes).sort().filter(function(e){return e.split(";")[0]==a})).map(function(e){return{nt:e.split(";")[1],step:d.drumNotes[e][0],midi:d.drumNotes[e][1],nhd:d.drumNotes[e][2]}}),o=t[a],(c=this.vceInst[a]||"")in i?h.push([o,i[c].concat(u)]):h.push([o,n.concat(u)]);h.sort(function(e,t){return e[0]-t[0]}),h.forEach(function(e){d.midiMap.push(e[1])});var f,p,m,g,v=["E","G","B","d","f","a","c'","e'"],b="0,1-,1,1+,2,3,3,4,4,5,6,6+,7,8-,8,8+,9,10,10,11,11,12,13,13+,14".split(",");for(s=Object.keys(this.tabmap).sort(),l=0;l<s.length;++l)h=(f=s[l]).match(/(\d+),(.*)/),a=h[1],g=h[2],p=this.tabmap[f][0],m=this.tabmap[f][1],this.diafret&&(m=b[parseInt(m)]),o=t[a],p=this.stafflines-parseInt(p),(h=this.tabVceMap[o]||[]).push(r("%%map tab%d %s print=%s heads=kop%s\n",[o,g,v[p],m])),this.tabVceMap[o]=h,this.koppen[m]=1},F.prototype.parse=function(e){var t={},n=_m(e);this.mkTitle(n),this.doDefaults(n);for(var s=this.doPartList(n),a=n.find("part"),o=0;o<a.length;++o){var c=a.eq(o),u=c.find("measure");this.locStaffMap(c),this.drumNotes={},this.clefOct={},this.curClef={},this.stemDir={},this.tabmap={},this.diafret=0,this.stafflines=5,this.msc.initVoices(1);var h=0,d=0,f=[];for(this.msr=new g(o);this.msr.ixm<u.length;){var p=u.eq(this.msr.ixm),m=0,v="";this.msr.reset(),this.curalts={};for(var b=p.children(),y=0;y<b.length;y++){switch((n=b.eq(y))[0].tagName){case"note":this.doNote(n);break;case"attributes":this.doAttr(n);break;case"direction":this.doDirection(n,y,b);break;case"sound":this.doDirection(p,y,b);break;case"harmony":this.doHarmony(n,y,b);break;case"barline":m=this.doBarline(n);break;case"backup":var x=parseInt(n.find("duration").text());B(x,this.msr)&&this.msc.incTime(-x);break;case"forward":B(x=parseInt(n.find("duration").text()),this.msr)&&this.msc.incTime(x);break;case"print":v=this.doPrint(n)}}this.msc.addBar(v,this.msr),f.push(this.msr.divs),1==m?(d=this.msr.ixm,this.msr.ixm+=1):2==m?h<1?(this.msr.ixm=d,h+=1):(h=0,this.msr.ixm+=1):this.msr.ixm+=1}for(var w in this.repeat_str){var _=this.repeat_str[w];_[0]=r("[I:repeat %s %d]",[_[1],1])}var k=this.msc.outVoices(f,o);for(w in this.addStaffMap(k),this.addMidiMap(o,k),k)t[w]=k[w]}Object.keys(t).length?l.mkHeader(this.gStfMap,s,this.midiMap,this.tabVceMap,this.koppen):i("nothing written, %s has no notes ...",[l.fnmext])},ym=function(e,t){var n={u:0,b:0,n:0,c:0,v:0,d:0,m:0,x:0,t:0,v1:0,noped:0,stm:0,mnum:-1,p:"f",s:0};for(var r in t)n[r]=t[r];n.p=n.p?n.p.split(","):[],l=new w(".abc","",0,n);var i=new F(n);return console.log("CUSTOM STUFF IS HAPPENING"),i.parse(e),l.writeall()}}(),"undefined"!=typeof exports&&(exports.vertaal=ym,exports.xml2abc_VERSION=118);const km="firebasestorage.googleapis.com",Cm="storageBucket";class Em extends Ti{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Nm(e),"Firebase Storage: ".concat(t," (").concat(Nm(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Em.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Sm,Tm;function Nm(e){return"storage/"+e}function Im(){return new Em(Sm.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Pm(){return new Em(Sm.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Am(){return new Em(Sm.CANCELED,"User canceled the upload/download.")}function Om(){return new Em(Sm.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Mm(e){return new Em(Sm.INVALID_ARGUMENT,e)}function Rm(){return new Em(Sm.APP_DELETED,"The Firebase app was deleted.")}function Lm(e,t){return new Em(Sm.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function jm(e){throw new Em(Sm.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Sm||(Sm={}));class Dm{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Dm.makeFromUrl(e,t)}catch(tv){return new Dm(e,"")}if(""===n.path)return n;throw r=e,new Em(Sm.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===km?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let c=0;c<o.length;c++){const t=o[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Dm(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Em(Sm.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Bm{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Fm(e){return"string"===typeof e||e instanceof String}function zm(e){return Hm()&&e instanceof Blob}function Hm(){return"undefined"!==typeof Blob}function Um(e,t,n,r){if(r<t)throw Mm("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Mm("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function qm(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Wm(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Vm(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Tm||(Tm={}));class Gm{constructor(e,t,n,r,i,s,a,o,c,l,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Ym(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Tm.NO_ERROR,i=n.getStatus();if(!t||Vm(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Tm.ABORT;return void e(!1,new Ym(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Ym(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(tv){r(tv)}else if(null!==i){const e=Im();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Rm():Am())}else{r(Pm())}};this.canceled_?t(0,new Ym(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function c(){return 2===o}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout(()=>{i=null,e(f,c())},t)}function d(){s&&clearTimeout(s)}function f(e){if(l)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(c()||a)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),l||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ym{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Km(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Xm(){const e=Km();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Hm())return new Blob(n);throw new Em(Sm.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Qm(e){if("undefined"===typeof atob)throw t="base-64",new Em(Sm.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const $m="raw",Jm="base64",Zm="base64url",eg="data_url";class tg{constructor(e,t){this.data=e,this.contentType=t||null}}function ng(e,t){switch(e){case $m:return new tg(rg(t));case Jm:case Zm:return new tg(ig(e,t));case eg:return new tg(function(e){const t=new sg(e);return t.base64?ig(Jm,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(tv){throw Lm(eg,"Malformed data URL.")}return rg(t)}(t.rest)}(t),new sg(t).contentType)}throw Im()}function rg(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ig(e,t){switch(e){case Jm:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Lm(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Zm:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Lm(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Qm(t)}catch(tv){if(tv.message.includes("polyfill"))throw tv;throw Lm(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class sg{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Lm(eg,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class ag{constructor(e,t){let n=0,r="";zm(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(zm(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new ag(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new ag(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Hm()){const e=t.map(e=>e instanceof ag?e.data_:e);return new ag(Xm.apply(null,e))}{const e=t.map(e=>Fm(e)?ng($m,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new ag(r,!0)}}uploadData(){return this.data_}}function og(e){let t;try{t=JSON.parse(e)}catch(tv){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function cg(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function lg(e,t){return t}class ug{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||lg}}let hg=null;function dg(){if(hg)return hg;const e=[];e.push(new ug("bucket")),e.push(new ug("generation")),e.push(new ug("metageneration")),e.push(new ug("name","fullPath",!0));const t=new ug("name");t.xform=function(e,t){return function(e){return!Fm(e)||e.length<2?e:cg(e)}(t)},e.push(t);const n=new ug("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ug("timeCreated")),e.push(new ug("updated")),e.push(new ug("md5Hash",null,!0)),e.push(new ug("cacheControl",null,!0)),e.push(new ug("contentDisposition",null,!0)),e.push(new ug("contentEncoding",null,!0)),e.push(new ug("contentLanguage",null,!0)),e.push(new ug("contentType",null,!0)),e.push(new ug("metadata","customMetadata",!0)),hg=e,hg}function fg(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Dm(n,r);return t._makeStorageReference(i)}})}(r,e),r}function pg(e,t,n){const r=og(t);if(null===r)return null;return fg(e,r,n)}function mg(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class gg{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vg(e){if(!e)throw Im()}function bg(e,t){return function(n,r){const i=pg(e,r,t);return vg(null!==i),i}}function yg(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Em(Sm.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Em(Sm.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Em(Sm.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Em(Sm.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function xg(e){const t=yg(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Em(Sm.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function wg(e,t,n){const r=qm(t.fullServerUrl(),e.host,e._protocol)+"?alt=media",i=e.maxOperationRetryTime,s=new gg(r,"GET",(e,t)=>t,i);return s.errorHandler=xg(t),void 0!==n&&(s.headers.Range="bytes=0-".concat(n),s.successCodes=[200,206]),s}function _g(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function kg(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const c=_g(t,r,i),l="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mg(c,n)+"\r\n--"+o+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=ag.getBlob(l,r,u);if(null===h)throw Om();const d={name:c.fullPath},f=qm(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new gg(f,"POST",bg(e,n),p);return m.urlParams=d,m.headers=a,m.body=h.uploadData(),m.errorHandler=yg(t),m}class Cg{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Tm.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Tm.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Tm.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw jm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(tv){return-1}}getResponse(){if(!this.sent_)throw jm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Eg extends Cg{initXhr(){this.xhr_.responseType="text"}}function Sg(){return new Eg}class Tg extends Cg{initXhr(){this.xhr_.responseType="blob"}}function Ng(){return new Tg}class Ig{constructor(e,t){this._service=e,this._location=t instanceof Dm?t:Dm.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ig(e,t)}get root(){const e=new Dm(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cg(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Dm(this._location.bucket,e);return new Ig(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Em(Sm.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Pg(e,t,n){e._throwIfRoot("uploadBytes");const r=kg(e.storage,e._location,dg(),new ag(t,!0),n);return e.storage.makeRequestWithTokens(r,Sg).then(t=>({metadata:t,ref:e}))}function Ag(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Dm(e._location.bucket,n);return new Ig(e.storage,r)}function Og(e,t){if(e instanceof Lg){const n=e;if(null==n._bucket)throw new Em(Sm.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Cm+"' property when initializing the app?");const r=new Ig(n,n._bucket);return null!=t?Og(r,t):r}return void 0!==t?Ag(e,t):e}function Mg(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Lg)return new Ig(e,t);throw Mm("To use ref(service, url), the first argument must be a Storage instance.")}return Og(e,t)}function Rg(e,t){const n=null===t||void 0===t?void 0:t[Cm];return null==n?null:Dm.makeFromBucketSpec(n,e)}class Lg{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=km,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Dm.makeFromBucketSpec(r,this._host):Rg(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Dm.makeFromBucketSpec(this._url,e):this._bucket=Rg(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Um("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Um("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ig(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Bm(Rm());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Wm(e.urlParams),c=e.url+o,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new Gm(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const jg="@firebase/storage",Dg="0.13.2",Bg="storage";function Fg(e,t){return Mg(e=Yi(e),t)}function zg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua(),t=arguments.length>1?arguments[1]:void 0;e=Yi(e);const n=ia(e,Bg).getImmediate({identifier:t}),r=bi("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:_i(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function Hg(e,t){return function(e,t){e._throwIfRoot("getBlob");const n=wg(e.storage,e._location,t);return e.storage.makeRequestWithTokens(n,Ng).then(e=>void 0!==t?e.slice(0,t):e)}(e=Yi(e),t)}function Ug(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Lg(r,i,s,n,ca)}ra(new Ki(Bg,Ug,"PUBLIC").setMultipleInstances(!0)),ha(jg,Dg,""),ha(jg,Dg,"esm2017");const qg=zg();function Wg(e){let{file:n}=e;const[r]=(0,t.useState)(""),i=(0,t.useRef)(null);return(0,t.useEffect)(()=>{var e;if(null!==(e=i.current)&&void 0!==e&&e.src&&URL.revokeObjectURL(i.current.src),"string"===typeof n)Hg(Fg(qg,n)).then(e=>{const t=new File([e],n,{type:"audio/mpeg"}),r=URL.createObjectURL(t);i.current&&(i.current.src=r)});else{const e=URL.createObjectURL(n);i.current&&(i.current.src=e)}},[n]),(0,We.jsxs)("div",{children:[(0,We.jsx)("audio",{ref:i,controls:!0}),(0,We.jsx)("p",{children:r})]})}function Vg(e){let{setFile:n,setAbcFile:r,file:i,type:s,setLoaded:a}=e;const[o,c]=(0,t.useState)();return(0,We.jsxs)("div",{style:{display:"inline"},children:[(0,We.jsx)("input",{style:{display:"inline"},type:"file",onChange:function(e){const t=e.target.files;if(t&&0!==t.length){if(n(t[t.length-1]),"xml"===s)if(t[t.length-1].name.endsWith(".musicxml")){c("xml file selected.");const e=new FileReader;e.onload=()=>{!function(e){var t=(new DOMParser).parseFromString(e,"application/xml"),n=ym(t,{u:0,b:0,n:0,c:0,v:0,d:0,m:0,x:0,t:0,v1:0,noped:0,stm:0,p:"f",s:0})[0];null!=r&&(r(n),a(!1))}(e.result)},e.readAsText(t[t.length-1])}else c("Invalid file! Please select a .musicxml file");"mp3"===s&&(t[t.length-1].name.endsWith(".mp3")?c("mp3 file selected."):c("Invalid file! Please select a .mp3 file"))}}}),"mp3"===s&&void 0!==i&&""!==i.name?(0,We.jsx)(Wg,{file:i}):(0,We.jsx)("p",{children:o})]})}const Gg=class{constructor(e,t){this.score=void 0,this.sound=void 0,this.correctAnswers=void 0,this.feedback=void 0,this.exIndex=void 0,this.empty=void 0,this.title=void 0,this.difficulty=void 0,this.voices=void 0,this.tags=void 0,this.types=void 0,this.meter=void 0,this.transpos=void 0,this.customId=void 0,void 0!==e?(this.score=e.score,this.sound=t,this.correctAnswers=e.correctAnswers,this.feedback=e.feedback,this.exIndex=e.exIndex,this.empty=e.empty,this.title=e.title,this.difficulty=e.difficulty,this.voices=e.voices,this.tags=e.tags,this.types=e.types,this.meter=e.meter,this.transpos=e.transpos,this.customId=e.customId):(this.score="",this.sound=t,this.correctAnswers=[{e:""}],this.feedback="",this.exIndex=-1,this.empty=!0,this.title="",this.difficulty=-1,this.voices=-1,this.tags=[""],this.types="None",this.meter="Anything",this.transpos=!1,this.customId="")}},Yg=["as","bsPrefix","variant","size","active","disabled","className"],Kg=t.forwardRef((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:s,active:a=!1,disabled:o=!1,className:c}=e,l=Oe(e,Yg);const u=Qe(r,"btn"),[h,{tagName:d}]=Ir(Pe({tagName:n,disabled:o},l)),f=d;return(0,We.jsx)(f,Pe(Pe(Pe({},h),l),{},{ref:t,disabled:o,className:Re()(c,u,a&&"active",i&&"".concat(u,"-").concat(i),s&&"".concat(u,"-").concat(s),l.href&&o&&"disabled")}))});Kg.displayName="Button";const Xg=Kg;la({apiKey:"AIzaSyClKDKGi72jLfbtgWF1957XHWZghwSM0YI",authDomain:"errordetectinator.firebaseapp.com",databaseURL:"https://errordetectinator-default-rtdb.firebaseio.com",projectId:"errordetectinator",storageBucket:"errordetectinator.appspot.com",messagingSenderId:"442966541608",appId:"1:442966541608:web:b08d5b8a9ea1d5ba2ffc1d"});function Qg(e){let{exIndex:n,teacherMode:r,ExData:i,allExData:s,setAllExData:a,handleSelectExercise:o,isSelected:c,fetch:l}=e;const u={display:"inline-block",margin:"auto",backgroundColor:"white",borderRadius:"10px",width:"100%"};var h,d,f="",p=[],m=i,g=n,v="",b=[],y=1,x=1,w=new File([],""),_="None",k="Anything",C=!1;void 0!==m&&(void 0!==m.score&&(f=m.score),void 0!==m.sound&&(w=m.sound),void 0!==m.correctAnswers&&(p=m.correctAnswers),void 0!==m.title&&(v=m.title),void 0!==m.tags&&(b=m.tags),void 0!==m.difficulty&&(y=m.difficulty),void 0!==m.voices&&(x=m.voices),void 0!==m.types&&(_=m.types),void 0!==m.meter&&(k=m.meter),void 0!==m.transpos&&(C=m.transpos));const[E,S]=(0,t.useState)(!1),[T,N]=(0,t.useState)(!1),[I,P]=(0,t.useState)(),[A,O]=(0,t.useState)(v),[M,R]=(0,t.useState)([]),[L,j]=(0,t.useState)(),[D,B]=(0,t.useState)(y),[F,z]=(0,t.useState)(b),[H,U]=(0,t.useState)(x),[q,W]=(0,t.useState)(_),[V,G]=(0,t.useState)(k),[Y,K]=(0,t.useState)(C),[X,Q]=(0,t.useState)([]),[$,J]=(0,t.useState)([]),[Z,ee]=(0,t.useState)(p),[te,ne]=(0,t.useState)(),[re,ie]=(0,t.useState)(w),[se,ae]=(0,t.useState)(f),[oe,ce]=(0,t.useState)((null===m||void 0===m?void 0:m.customId)||""),le=1===F.length&&F.includes("Rhythm");(0,t.useEffect)(()=>{(void 0!==m&&!m.empty&&!E||void 0!==se&&""!==se&&!E)&&fe()});const ue=function(e,t,n,r){if(e)for(var i=0;i<e.length;i++){var s=e[i],a=s.getAttribute("highlight");a||(a="fill"),s.setAttribute(a,r);var o=s.getAttribute("class");o||(o=""),o=(o=o.replace(n,"")).replace(t,""),t.length>0&&(o.length>0&&" "!==o[o.length-1]&&(o+=" "),o+=t),s.setAttribute("class",o)}},he=function(e,t,n){if(!e||!e.abselem||!e.abselem.elemset||0===e.abselem.elemset.length)return 0;var r=0,i=Number(e.abselem.elemset[0].getAttribute("selectedTimes"));return n&&i++,i>=3&&(i=0,X.splice(X.indexOf(e),1),$.splice($.indexOf(e),1),r=1),void 0===t&&(t="abcjs-note_selected"),i<=0&&(h="#000000"),1===i&&(h="#ff6100"),2===i&&(h="#648fff"),n&&e.abselem.elemset[0].setAttribute("selectedTimes",i),ue(e.abselem.elemset,t,"",h),r},de=function(e,t,i,s,a){var o=e;if(o&&o.abselem&&o.abselem.elemset&&0!==o.abselem.elemset.length){var c=o.abselem.elemset[0];if(r){X.includes(o)||X.push(o);for(var l=0;l<X.length;l++)X[l]===o?1===he(X[l],void 0,!0)&&l--:1===he(X[l],void 0,!1)&&l--;r&&me()}else{$.includes(o)||$.push(o);for(var u=0;u<$.length;u++)$[u]===o?1===he($[u],void 0,!0)&&u--:1===he($[u],void 0,!1)&&u--;J([...$])}var h=Number(c.getAttribute("staffPos"))+1,d=Number(c.getAttribute("measurePos"))+1;P("Staff "+h+", measure "+d),j(o);var f=document.getElementById("note-feedback-"+n);null!==f&&"value"in f&&(f.value=c.getAttribute("feedback"))}},fe=function(){var e=se;e=(e=e.replace("Z:Copyright \xa9\n","")).replace("T:Title\n","");var t=document.getElementById("target"+n);if(null!==t&&void 0!==e){d=wm().renderAbc(t,e,{clickListener:le?void 0:de,selectTypes:le?[]:["note"],lineThickness:.4,responsive:"resize"});let c=0,l=0,u=0,h=!1,f=0,p=1;const m=document.getElementById("target"+n),g=null===m||void 0===m?void 0:m.querySelector("svg");if(!g)return;const v=null===g||void 0===g?void 0:g.getBoundingClientRect();var i=d[0].lines[0].staff;for(let e=0,t=0,n=0,b=0;n<i.length;e++,t++){var s=i[n].voices[0][t],a=i[n].voices[0][t].abselem.elemset[0];if("bar"===s.el_type?(b++,e--,F.includes("Rhythm")&&(p=1)):(a.getAttribute("staffPos")||a.setAttribute("staffPos",n),a.getAttribute("measurePos")||a.setAttribute("measurePos",b),a.getAttribute("feedback")||a.setAttribute("feedback",""),a.getAttribute("index")||a.setAttribute("index",e),a.getAttribute("selectedTimes")||a.setAttribute("selectedTimes",0)),t+1===i[n].voices[0].length&&(n++,t=-1,b=0),F.includes("Rhythm")){const e="http://www.w3.org/2000/svg";if(!v)return;0===c&&(u=a.getBoundingClientRect().left),"number"!==typeof s.duration||isNaN(s.duration)||(c+=s.duration,l++);const t=null===g||void 0===g?void 0:g.querySelectorAll(".abcjs-top-line");let o=0;const m=(t,s,o,c)=>{const l=document.createElementNS(e,"rect"),u=document.createElementNS(e,"rect");l.classList.add("bar"),l.setAttribute("x",t.toString()),l.setAttribute("y",s.toString()),l.setAttribute("width",o.toString()),l.setAttribute("height","7"),l.setAttribute("fill","purple"),l.setAttribute("opacity","0.2"),l.setAttribute("stroke","none");const h=a.getBoundingClientRect(),d=(pe(g,0,h.top).y,pe(g,0,h.bottom).y,document.querySelectorAll('[data-name="bar"]')),f=Array.from(d).filter(e=>"path"===e.tagName).filter((e,t,n)=>{const r=e.getBoundingClientRect().bottom;return n.findIndex(e=>e.getBoundingClientRect().bottom===r)===t}),m=pe(g,0,f[n].getBoundingClientRect().bottom).y-s+f[n].getBoundingClientRect().height/4;u.classList.add("cover-box"),u.setAttribute("x",t.toString()),u.setAttribute("y",s.toString()),u.setAttribute("width",o.toString()),u.setAttribute("height",m.toString()),u.setAttribute("fill","purple"),u.setAttribute("opacity","0"),u.setAttribute("stroke","none"),u.setAttribute("clip-path",i[n].clipPath),u.style.pointerEvents="none";const v=p;l.setAttribute("data-beatIndex",v.toString()),l.setAttribute("data-measure-pos",b.toString()),l.setAttribute("data-staff-pos",n.toString()),l.addEventListener("click",()=>{if("true"===l.getAttribute("data-selected")){l.setAttribute("data-selected","false"),l.setAttribute("opacity","0.2"),u.setAttribute("opacity","0");const e=$.findIndex(e=>"beat"===e.type&&e.measurePos==b&&e.staffPos==n&&e.beatIndex==v);-1!==e&&$.splice(e,1)}else l.setAttribute("data-selected","true"),l.setAttribute("opacity","1"),u.setAttribute("opacity","0.5"),$.push({measurePos:b,staffPos:n,beatIndex:v,type:"beat"});r&&me()});const y=g.querySelector("g");y&&(y.appendChild(l),y.appendChild(u))};if(c>d[0].getBeatLength()){const e=pe(g,u,0),r=a.getBoundingClientRect().left,i=a.nextSibling.getBoundingClientRect().left,s=pe(g,i,0),v=pe(g,r,0),b=pe(g,0,a.getBoundingClientRect().top),y=t&&t[n]?pe(g,0,t[n].getBoundingClientRect().top):b,x=Math.min(b.y,y.y)-15;let w;Math.floor(c/d[0].getBeatLength())===c/d[0].getBeatLength()?w=(s.x-e.x)*(1/(c/d[0].getBeatLength()))-5:(w=2*(s.x-v.x)/3,f=1*(s.x-v.x)/3),m(e.x,x,w,5),o=c,c-=d[0].getBeatLength(),l=0,h=!0,p++}if(c===d[0].getBeatLength()){const e=pe(g,u,0),r=a.getBoundingClientRect().left,i=a.nextSibling.getBoundingClientRect().left,v=pe(g,i,0),b=pe(g,r,0),y=pe(g,0,a.getBoundingClientRect().top),x=t&&t[n]?pe(g,0,t[n].getBoundingClientRect().top):y,w=Math.min(y.y,x.y)-15;let _,k=e.x;h?(s.duration<c?(k=pe(g,r-f+5,0).x,_=v.x-b.x+f-5):(_=(v.x-e.x)/Math.round(o/d[0].getBeatLength())-5,k=e.x+(v.x-e.x)/(o/d[0].getBeatLength())),h=!1):_=v.x-e.x-5,m(k,w,_,5),c=0,l=0,p++}}if(r){var o=Z.findIndex(e=>e.index===a.getAttribute("index")&&"bar"!==s.el_type);if(-1!==o){a.setAttribute("selectedTimes",Z[o].selectedTimes),a.setAttribute("feedback",Z[o].feedback),-1===X.findIndex(e=>e.startChar===s.startChar)?X.push(s):X[X.findIndex(e=>e.startChar===s.startChar)]=s;for(let e=0;e<a.getAttribute("selectedTimes");e++)he(s,void 0,!1)}}}S(!0)}else console.log("abcString is undefined")};function pe(e,t,n){const r=e.createSVGPoint();r.x=t,r.y=n;const i=e.getScreenCTM();if(!i)throw new Error("SVG not rendered yet. Cannot compute coordinates.");return r.matrixTransform(i.inverse())}const me=function(){const e=[];if(F.includes("Rhythm")){for(let n=0;n<X.length;n++){const r={index:(t=X[n].abselem.elemset[0]).getAttribute("index"),staffPos:t.getAttribute("staffPos"),measurePos:t.getAttribute("measurePos"),selectedTimes:t.getAttribute("selectedTimes"),feedback:t.getAttribute("feedback"),type:"note"};e.push(r)}return $.forEach(t=>{"beat"===t.type&&e.push({measurePos:t.measurePos,staffPos:t.staffPos,beatIndex:t.beatIndex,type:"beat"})}),void ee(e)}for(let n=0;n<X.length;n++){var t;const r={index:(t=X[n].abselem.elemset[0]).getAttribute("index"),staffPos:t.getAttribute("staffPos"),measurePos:t.getAttribute("measurePos"),selectedTimes:t.getAttribute("selectedTimes"),feedback:t.getAttribute("feedback"),type:"note"};e.push(r)}ee(e)},ge=function(e,t){const n=new Set,r=new Set;e.forEach(e=>{const t=Number(e.getAttribute("measurePos"));isNaN(t)||n.add(t)}),t.forEach(e=>{const t=Number(e.measurePos);isNaN(t)||r.add(t)});const i=new Set(Array.from(n).filter(e=>!r.has(e)));console.log("selected measures: ",n),console.log("correct measures: ",r),console.log("wrong measures",i),i.size>0?(console.log("there are incorrect measures selected, running through overlay functionality"),r.forEach(e=>{if(document.querySelector("rect[data-measurePos='".concat(e,"']")))return void console.log("overlay exists, no need to add on top");const t=document.querySelectorAll("[measurePos='".concat(e,"']"));let n=1/0,r=1/0,i=-1/0,s=-1/0;t.forEach(e=>{const t=e.getBBox();n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x+t.width),s=Math.max(s,t.y+t.height)});const a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("x",n.toString()),a.setAttribute("y",r.toString()),a.setAttribute("width",(i-n).toString()),a.setAttribute("height",(s-r).toString()),a.setAttribute("fill","rgba(61, 245, 39, 0.6)"),a.setAttribute("class","hint-highlight"),a.setAttribute("data-measurePos",e.toString());const o=document.querySelector("svg");o?o.appendChild(a):console.error("SVG element not found!")}),n.forEach(e=>{if(document.querySelector("rect[data-measurePos='".concat(e,"']")))return void console.log("overlay exists, no need to add on top");const t=document.querySelectorAll("[measurePos='".concat(e,"']"));let n=1/0,r=1/0,i=-1/0,s=-1/0;t.forEach(e=>{const t=e.getBBox();n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x+t.width),s=Math.max(s,t.y+t.height)});const a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("x",n.toString()),a.setAttribute("y",r.toString()),a.setAttribute("width",(i-n).toString()),a.setAttribute("height",(s-r).toString()),a.setAttribute("fill","rgba(255, 0, 0, 0.6)"),a.setAttribute("class","error-highlight"),a.setAttribute("data-measurePos",e.toString());const o=document.querySelector("svg");o?o.appendChild(a):console.error("SVG element not found!")})):(console.log("in correct measure checking if correct note was selected, otherwise highlight correct measure"),t.forEach(e=>{if(document.querySelector("rect[data-measurePos='".concat(e.measurePos,"']")))return void console.log("overlay exists, no need to add on top");const t=document.querySelectorAll("[measurePos='".concat(e.measurePos,"']"));let n=1/0,r=1/0,i=-1/0,s=-1/0;t.forEach(e=>{const t=e.getBBox();n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x+t.width),s=Math.max(s,t.y+t.height)});const a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("x",n.toString()),a.setAttribute("y",r.toString()),a.setAttribute("width",(i-n).toString()),a.setAttribute("height",(s-r).toString()),a.setAttribute("fill","rgba(61, 245, 39, 0.6)"),a.setAttribute("class","hint-highlight"),a.setAttribute("data-measurePos",e.measurePos.toString());const o=document.querySelector("svg");o&&o.appendChild(a)}))};function ve(e){const t=[],n=/V:\d+.*?nm="(.*?)"/g;let r;for(;null!==(r=n.exec(e));)t.push(r[1]);return t}const be=(0,t.useRef)([]);(0,t.useEffect)(()=>{be.current=$},[$]);const ye=function(e,t,n,r,i,s){let a=we(e,t,n,r,i,s);"Anything"===i?"None"===r?(O(e.sort().join(" & ")+": Level "+t+", Exercise: "+a),s&&O(e.sort().join(" & ")+": Transpose Insts - Level "+t+", Exercise: "+a)):"Both"===r?(O(e.sort().join(" & ")+": Drone/Ens Parts  - Level "+t+", Exercise: "+a),s&&O(e.sort().join(" & ")+": Drone/Ens Parts w/ Transpose Insts - Level "+t+", Exercise: "+a)):(O(e.sort().join(" & ")+": "+r+" - Level "+t+", Exercise: "+a),s&&O(e.sort().join(" & ")+": "+r+" w/ Transpose Insts - Level "+t+", Exercise: "+a)):"None"===r?(O(e.sort().join(" & ")+": "+i+" - Level "+t+", Exercise: "+a),s&&O(e.sort().join(" & ")+": "+i+"  w/ Transpose Insts - Level "+t+", Exercise: "+a)):"Both"===r?(O(e.sort().join(" & ")+": Drone/Ens Parts: "+i+" - Level "+t+", Exercise: "+a),s&&O(e.sort().join(" & ")+": Drone/Ens Parts: "+i+" w/ Transpose Insts - Level "+t+", Exercise: "+a)):(O(e.sort().join(" & ")+": "+r+": "+i+" - Level "+t+", Exercise: "+a),s&&O(e.sort().join(" & ")+": "+r+": "+i+" w/ Transpose Insts - Level "+t+", Exercise: "+a))},xe=function(e){let t=e.target.value;F.includes(t)?(F.splice(F.indexOf(t),1),z([...F]),ye([...F],D,H,q,V,Y)):(z([...F,t]),ye([...F,t],D,H,q,V,Y))},we=function(e,t,n,r,i,a){return s.filter(n=>void 0!==n&&void 0!==n.tags&&void 0!==n.difficulty&&(n.tags.sort().toString()===e.sort().toString()&&n.difficulty===t&&n.types===r&&n.meter===i&&n.transpos===a)).length+1},_e=e=>{const t=s.filter(t=>t&&t.exIndex!==e);a(t)};return(0,We.jsxs)("div",{style:{margin:"10px",padding:"10px",backgroundColor:"#fcfcd2",borderRadius:"10px",marginLeft:"100px",marginTop:"20px"},children:[T&&r?(0,We.jsxs)("span",{children:[(0,We.jsx)("textarea",{id:"title",children:A}),(0,We.jsx)("button",{onClick:function(){var e=document.getElementById("title");if(null!==e&&"value"in e){var t=e.value;O(t),N(!T)}},children:"Save Title"})]}):(0,We.jsxs)("h3",{onClick:()=>N(!T),children:[A,r&&oe&&(0,We.jsxs)("span",{style:{fontSize:"0.8em",color:"#666",marginLeft:"10px"},children:["(ID: ",oe,")"]})]}),r?(0,We.jsxs)("span",{children:[i.isNew&&(0,We.jsx)(Xg,{variant:"danger",onClick:()=>_e(n),style:{marginBottom:"10px"},children:"Cancel Exercise Creation"}),(0,We.jsxs)("div",{id:"forms",style:{display:"inline-flex",padding:"4px"},children:[(0,We.jsxs)("form",{id:"customId",children:["Custom ID:",(0,We.jsx)("br",{}),(0,We.jsx)("input",{type:"text",value:oe,onChange:e=>ce(e.target.value),placeholder:"Enter custom ID",style:{margin:"4px"}})]}),(0,We.jsxs)("form",{id:"tags",children:["Tags:",(0,We.jsx)("br",{}),(0,We.jsx)("input",{type:"checkbox",name:"tags",value:"Pitch",checked:F.includes("Pitch"),onChange:xe,style:{margin:"4px"}}),"Pitch",(0,We.jsx)("input",{type:"checkbox",name:"tags",value:"Intonation",checked:F.includes("Intonation"),onChange:xe,style:{marginLeft:"12px"}})," ","Intonation",(0,We.jsxs)("label",{children:[(0,We.jsx)("input",{type:"checkbox",name:"tags",value:"Rhythm",checked:F.includes("Rhythm"),onChange:xe}),"Rhythm"]})]}),(0,We.jsxs)("form",{id:"voiceCt",children:["Voices:",(0,We.jsx)("br",{}),(0,We.jsxs)("select",{name:"voices",defaultValue:H,onChange:function(e){U(Number(e.target.value))},children:[(0,We.jsx)("option",{value:"1",children:"1"}),(0,We.jsx)("option",{value:"2",children:"2"}),(0,We.jsx)("option",{value:"3",children:"3"}),(0,We.jsx)("option",{value:"4",children:"4"}),(0,We.jsx)("option",{value:"5",children:"5"})]})]}),(0,We.jsxs)("form",{id:"difficulty",children:["Difficulty:",(0,We.jsx)("br",{}),(0,We.jsxs)("select",{name:"difficulty",defaultValue:D,onChange:function(e){B(Number(e.target.value)),ye(F,Number(e.target.value),H,q,V,Y)},children:[(0,We.jsx)("option",{value:"1",children:"1"}),(0,We.jsx)("option",{value:"2",children:"2"}),(0,We.jsx)("option",{value:"3",children:"3"}),(0,We.jsx)("option",{value:"4",children:"4"}),(0,We.jsx)("option",{value:"5",children:"5"})]})]}),(0,We.jsxs)("form",{id:"meter",children:["Meter:",(0,We.jsx)("br",{}),(0,We.jsxs)("select",{name:"meter",defaultValue:q,onChange:function(e){G(e.target.value),ye(F,D,H,q,e.target.value,Y)},children:[(0,We.jsx)("option",{value:"Anything",children:"Anything"}),(0,We.jsx)("option",{value:"Simple",children:"Simple"}),(0,We.jsx)("option",{value:"Compound",children:"Compound"})]})]}),(0,We.jsxs)("form",{id:"types",children:["Textural Factors:",(0,We.jsx)("br",{}),(0,We.jsxs)("select",{name:"types",defaultValue:q,onChange:function(e){W(e.target.value),ye(F,D,H,e.target.value,V,Y)},children:[(0,We.jsx)("option",{value:"None",children:"None"}),(0,We.jsx)("option",{value:"Drone",children:"Drone"}),(0,We.jsx)("option",{value:"Ensemble Parts",children:"Ensemble Parts"}),(0,We.jsx)("option",{value:"Both",children:"Drone & Ensemble Parts"})]})]}),(0,We.jsxs)("form",{id:"transpos",children:["Transposing Instruments:",(0,We.jsx)("br",{}),(0,We.jsx)("input",{type:"checkbox",name:"transpos",value:"true",checked:Y,onChange:function(e){K(!Y),ye(F,D,H,q,V,!Y)},style:{marginLeft:"5.3vw"}})]})]}),(0,We.jsx)("div",{}),(0,We.jsxs)("div",{id:"xmlUpload",style:{display:"inline-flex"},children:["XML Upload:"," ",(0,We.jsx)(Vg,{setFile:ne,file:te,setAbcFile:ae,type:"xml",setLoaded:S})]}),(0,We.jsxs)("div",{id:"mp3Upload",style:{display:"inline-flex"},children:["MP3 Upload:"," ",(0,We.jsx)(Vg,{setFile:ie,file:re,setAbcFile:ae,type:"mp3",setLoaded:S})]}),""===re.name?(0,We.jsx)("br",{}):(0,We.jsx)(We.Fragment,{}),void 0!==m&&!m.empty&&!E||void 0!==se&&""!==se&&!E?(0,We.jsx)("button",{onClick:fe,children:"Load Score"}):(0,We.jsx)(We.Fragment,{}),(0,We.jsx)("div",{style:{display:"inline-block",width:"75%"},children:(0,We.jsx)("div",{id:"target"+n,style:u})}),(0,We.jsx)("img",{alt:"note-color-key",src:Qh,width:"14%",height:"7%",style:{display:"inline",marginLeft:"1vw"}}),void 0!==se&&""!==se&&E||void 0!==m&&!m.empty?(0,We.jsxs)("div",{style:{display:"inline-block",marginLeft:"1vw",marginTop:"1vh"},children:[(0,We.jsx)("textarea",{id:"note-feedback-"+n,placeholder:"Note feedback...",onChange:function(e){var t=document.getElementById("note-feedback-"+n);if(null!==t&&"value"in t){var r=t.value;void 0!==L&&(L.abselem.elemset[0].setAttribute("feedback",r),me())}}}),(0,We.jsx)(Xg,{variant:"danger",onClick:function(){for(let e=0;e<X.length;)X.pop();Q([]);for(let e=0;e<Z.length;)Z.pop();ee([]),fe()},style:{marginLeft:"1vw",float:"right"},children:"Reset Answers"})]}):(0,We.jsx)(We.Fragment,{}),void 0!==L&&Number(L.abselem.elemset[0].getAttribute("selectedTimes"))%4!==0?(0,We.jsxs)("div",{style:{marginLeft:"1vw"},children:["Note Info: ",I]}):(0,We.jsx)("div",{}),(0,We.jsx)("br",{}),(0,We.jsx)(Xg,{variant:"success",onClick:async function(){try{var e;if(Z.length>0&&Z.sort((e,t)=>e.index>t.index?1:e.index<t.index?-1:0),void 0!==se&&""!==se&&""!==re.name&&Z.length>0){(e=new Xh(se,re,Z,"",g,!1,A,D,H,F,q,V,Y,!1,oe)).isNew=!1;const t=Kh(),n=zg(),r=jh(t,"scores"),i=Fg(n,re.name);await function(e,t,n){return Pg(e=Yi(e),t,n)}(i,re);const s=Dh(r,g.toString()),a=await zh(s);if(a.exists()){const e=Pe(Pe({},a.val()),{},{customId:oe});await Fh(s,e),console.log("Exercise data was updated!"),alert("exercise data was updated!")}else{const t=new Gg(e,re.name);t.customId=oe,await Fh(s,t),console.log("New exercise added!"),alert("new exercise added!")}void 0!==l&&l(!1)}else console.log("Incomplete exercise - not saving to database"),alert("Something went wrong - make sure you: \n             -uploaded both a musicxml AND an mp3 file\n             -marked any applicable tags, voice #, and difficulty\n             -selected at least one correct answer")}catch(za){console.error("Error",za),alert("error when saving the exercise.")}},children:"Save Exercise"}),r&&(null===m||void 0===m?void 0:m.isNew)&&(0,We.jsx)(Xg,{variant:"secondary",onClick:()=>_e(g),style:{marginLeft:"10px",marginTop:"10px"},children:"Cancel"}),(0,We.jsx)(Xg,{onClick:()=>(async e=>{try{const n=jh(Kh(),"scores/".concat(e));if((await zh(n)).exists()){var t=v;await Bh(n),console.log("exercise deleted from the database!");const r=s.filter(t=>t&&t.exIndex!==e);a(r),alert("exercise "+t+" deleted!")}else console.log("exercise with"+e+" not found!"),alert("exercise not found.")}catch(za){console.error("Error deleting exercise:",za),alert("error deleting exercise.")}})(n),style:{marginLeft:"10px",marginTop:"10px"},variant:"danger",children:"Delete Exercise"})]}):(0,We.jsxs)("span",{children:[(0,We.jsx)("div",{style:{width:"100%",display:"inline-flex"},children:(0,We.jsx)("div",{id:"target"+n,style:u})}),(0,We.jsx)("br",{}),!le&&(0,We.jsx)("img",{alt:"note-color-key",src:Qh,width:"14%",height:"7%",style:{display:"inline-flex",marginRight:"1vw",marginTop:"-2.5vh",borderRadius:"1px"}}),(0,We.jsxs)("div",{style:{display:"inline-flex",marginTop:"-2vh"},children:[void 0!==w?(0,We.jsx)("div",{style:{marginTop:"2vh"},children:(0,We.jsx)(Wg,{file:w})}):(0,We.jsx)(We.Fragment,{}),(0,We.jsx)(Xg,{variant:"danger",onClick:function(){document.querySelectorAll("[data-selected='true']").forEach(e=>{e.setAttribute("data-selected","false"),e.style.opacity="0.2";const t=e.parentElement;if(t){const e=t.querySelector(".cover-box");e&&(e.style.opacity="0")}});document.querySelectorAll("[selectedTimes='1'], [selectedTimes='2']").forEach(e=>{e.setAttribute("selectedTimes","0"),ue(e,"","abcjs-note_selected","#000000")});for(let e=0;e<$.length;)$.pop();J([]);document.querySelectorAll(".hint-highlight, .error-highlight").forEach(e=>e.remove()),R([]),fe()},style:{position:"relative",marginLeft:"1vw",marginBottom:"2vh"},children:"Reset Answers"})]}),void 0!==se&&""!==se&&E?(0,We.jsxs)("div",{children:[(0,We.jsx)("button",{className:"btnback",onClick:function(){if(F.includes("Rhythm")&&F.length>1){const e=ve(m.score),t=document.querySelectorAll("[data-selected='true']"),n=Array.from(t).map(e=>{var t,n;return{type:"beat",measurePos:Number(null===(t=e.closest(".bar"))||void 0===t?void 0:t.getAttribute("data-measure-pos"))||Number(e.getAttribute("data-measure-pos")),staffPos:Number(null===(n=e.closest(".bar"))||void 0===n?void 0:n.getAttribute("data-staff-pos"))||Number(e.getAttribute("data-staff-pos")),beatIndex:Number(e.getAttribute("data-beatIndex"))}}).filter(e=>!isNaN(e.measurePos)&&!isNaN(e.beatIndex)),r=document.querySelectorAll("[selectedTimes='1'], [selectedTimes='2']"),i=[...n,...Array.from(r).map(e=>({type:"note",measurePos:Number(e.getAttribute("measurePos")),staffPos:Number(e.getAttribute("staffPos")),index:Number(e.getAttribute("index")),selectedTimes:Number(e.getAttribute("selectedTimes"))}))];console.log("Combined selections:",i);const s=[...Z].map(e=>({measurePos:Number(e.measurePos),staffPos:Number(e.staffPos),beatIndex:Number(e.beatIndex),index:Number(e.index),selectedTimes:Number(e.selectedTimes),type:e.type,feedback:e.feedback}));console.log("Correct answers:",s);let a=[],o=!0;const c=1===s.length?" is ":" are ";return a.push("You selected ".concat(i.length," answer(s). There").concat(c).concat(s.length," correct answer(s).")),s.forEach(t=>{let n=!1;"beat"===t.type?(n=i.some(e=>"beat"===e.type&&Number(e.measurePos)===Number(t.measurePos)&&Number(e.beatIndex)===Number(t.beatIndex)),n||(o=!1,console.log("Missing beat: measure ".concat(t.measurePos,", beat ").concat(t.beatIndex,", staff ").concat(t.staffPos)),isNaN(t.staffPos)||void 0===e[Number(t.staffPos)]?a.push("\nMissing correct beat in Measure ".concat(Number(t.measurePos)+1,".")):a.push("\nMissing correct beat in Measure ".concat(Number(t.measurePos)+1," on the ").concat(e[Number(t.staffPos)]," staff.")))):"note"===t.type&&(n=i.some(e=>"note"===e.type&&Number(e.measurePos)===Number(t.measurePos)&&Number(e.index)===Number(t.index)),n||(o=!1,console.log("Missing note: measure ".concat(t.measurePos,", index ").concat(t.index,", staff ").concat(t.staffPos)),isNaN(t.staffPos)||void 0===e[Number(t.staffPos)]?a.push("\nMissing correct note in Measure ".concat(Number(t.measurePos)+1,".")):a.push("\nMissing correct note in Measure ".concat(Number(t.measurePos)+1," on the ").concat(e[Number(t.staffPos)]," staff."))))}),i.forEach(t=>{let n=!1;"beat"===t.type?(n=s.some(e=>"beat"===e.type&&Number(e.measurePos)===Number(t.measurePos)&&Number(e.beatIndex)===Number(t.beatIndex)),n||(o=!1,console.log("Extra beat: measure ".concat(t.measurePos,", beat ").concat(t.beatIndex,", staff ").concat(t.staffPos)),isNaN(t.staffPos)||void 0===e[Number(t.staffPos)]?a.push("\nIncorrect beat selected in Measure ".concat(Number(t.measurePos)+1,", Beat ").concat(t.beatIndex,".")):a.push("\nIncorrect beat selected in Measure ".concat(Number(t.measurePos)+1," on the ").concat(e[Number(t.staffPos)]," staff (Beat ").concat(t.beatIndex,").")))):"note"===t.type&&(n=s.some(e=>"note"===e.type&&Number(e.measurePos)===Number(t.measurePos)&&Number(e.index)===Number(t.index)),n||(o=!1,console.log("Extra note: measure ".concat(t.measurePos,", index ").concat(t.index,", staff ").concat(t.staffPos)),isNaN(t.staffPos)||void 0===e[Number(t.staffPos)]?a.push("\nIncorrect note selected in Measure ".concat(Number(t.measurePos)+1,".")):a.push("\nIncorrect note selected in Measure ".concat(Number(t.measurePos)+1," on the ").concat(e[Number(t.staffPos)]," staff."))))}),o&&i.length>0&&(a=["Great job!"]),void R(a)}if(F.includes("Rhythm")&&1==F.length){const e=ve(m.score),t=document.querySelectorAll("[data-selected='true']"),n=[...Array.from(t).map(e=>{var t,n;return{type:"beat",measurePos:Number(null===(t=e.closest(".bar"))||void 0===t?void 0:t.getAttribute("data-measure-pos"))||Number(e.getAttribute("data-measure-pos")),staffPos:Number(null===(n=e.closest(".bar"))||void 0===n?void 0:n.getAttribute("data-staff-pos"))||Number(e.getAttribute("data-staff-pos")),beatIndex:Number(e.getAttribute("data-beatIndex"))}}).filter(e=>!isNaN(e.measurePos)&&!isNaN(e.beatIndex))];console.log("Combined selections:",n);const r=[...Z].map(e=>({measurePos:Number(e.measurePos),staffPos:Number(e.staffPos),beatIndex:Number(e.beatIndex),type:e.type,feedback:e.feedback}));console.log("Correct answers:",r);let i=[],s=!0;const a=1===r.length?" is ":" are ";return i.push("You selected ".concat(n.length," answer(s). There").concat(a).concat(r.length," correct answer(s).")),r.forEach(t=>{let r=!1;"beat"===t.type&&(r=n.some(e=>"beat"===e.type&&Number(e.measurePos)===Number(t.measurePos)&&Number(e.beatIndex)===Number(t.beatIndex)),r||(s=!1,console.log("Missing beat: measure ".concat(t.measurePos,", beat ").concat(t.beatIndex,", staff ").concat(t.staffPos)),isNaN(t.staffPos)||void 0===e[Number(t.staffPos)]?i.push("\nMissing correct beat in Measure ".concat(Number(t.measurePos)+1,".")):i.push("\nMissing correct beat in Measure ".concat(Number(t.measurePos)+1," on the ").concat(e[Number(t.staffPos)]," staff."))))}),n.forEach(t=>{let n=!1;"beat"===t.type&&(n=r.some(e=>"beat"===e.type&&Number(e.measurePos)===Number(t.measurePos)&&Number(e.beatIndex)===Number(t.beatIndex)),n||(s=!1,console.log("Extra beat: measure ".concat(t.measurePos,", beat ").concat(t.beatIndex,", staff ").concat(t.staffPos)),isNaN(t.staffPos)||void 0===e[Number(t.staffPos)]?i.push("\nIncorrect beat selected in Measure ".concat(Number(t.measurePos)+1,", Beat ").concat(t.beatIndex,".")):i.push("\nIncorrect beat selected in Measure ".concat(Number(t.measurePos)+1," on the ").concat(e[Number(t.staffPos)]," staff (Beat ").concat(t.beatIndex,")."))))}),s&&n.length>0&&(i=["Great job!"]),void R(i)}var e=[...$],t=[...Z],n=[];e.sort((e,t)=>Number(e.abselem.elemset[0].getAttribute("index"))-Number(t.abselem.elemset[0].getAttribute("index")));let r=[],i=[];for(var s=0,a=0;s<t.length&&a<e.length;){let n=e[a].abselem.elemset[0];const o=Number(n.getAttribute("index")),c=Number(t[s].index);o===c?(n.getAttribute("selectedTimes")===t[s].selectedTimes?t=t.filter(e=>Number(e.index)!==c):r.push(c),a++):o>c?s++:o<c&&(i.push(n),a++)}if(0===t.length&&e.length===Z.length)n=["Great job identifying the errors in this passage!"];else if(e.length!==Z.length){var o=1===Z.length?" is ":" are ";n=["\nYou selected ".concat($.length," answer(s). There").concat(o).concat(Z.length," correct answer(s). Here are some specific places to look at and listen to more closely:")];for(let e=0;e<t.length;e++)n.push("\nMeasure ".concat(Number(t[e].measurePos)+1,", Staff ").concat(Number(t[e].staffPos)+1)),ge(i,t);for(let e=0;e<i.length;e++)n.push("\nWrong answer selected at: Measure ".concat(Number(i[e].getAttribute("measurePos"))+1,", Staff ").concat(Number(i[e].getAttribute("staffPos"))+1)),ge(i,t)}else if(t.length===Z.length){n=["Keep trying; the more you practice the better you will get. Here are some specific places to look at and listen to more closely:"];for(let e=0;e<t.length;e++){n.push("\nMeasure ".concat(Number(t[e].measurePos)+1,", Staff ").concat(Number(t[e].staffPos)+1)),ge(i,t);let s=t[e].feedback;if(r.includes(Number(t[e].index))&&!t[e].feedback.toString().startsWith("You've found where the error is (hurray!) but you've mis-identified the kind of error (try again!). ")&&(s="You've found where the error is (hurray!) but you've mis-identified the kind of error (try again!). "+t[e].feedback),""!==s){let e=n.pop();n.push(e+". Additional feedback: "+s),ge(i,t)}}}else if(t.length<Z.length){n=["Good work \u2013 you've found some of the errors, but here are some specific places to look at and listen to more closely:"];for(let e=0;e<t.length;e++){n.push("\nMeasure ".concat(Number(t[e].measurePos)+1,", Staff ").concat(Number(t[e].staffPos)+1)),ge(i,t);let s=t[e].feedback;if(r.includes(Number(t[e].index))&&!t[e].feedback.toString().startsWith("You've found where the error is (hurray!) but you've mis-identified the kind of error (try again!). ")&&(s="You've found where the error is (hurray!) but you've mis-identified the kind of error (try again!). "+t[e].feedback),""!==s){let e=n.pop();n.push(e+". Additional feedback: "+s),ge(i,t)}}}R(n)},children:"Check Answer"}),(0,We.jsxs)("div",{children:["Next step(s):",M.map(function(e){return(0,We.jsx)("li",{style:{display:"flex",margin:"auto",justifyContent:"center"},children:e},Math.random())})]})]}):(0,We.jsx)("div",{})]}),void 0!==o?(0,We.jsxs)("div",{children:[(0,We.jsx)("input",{type:"checkbox",checked:c,onChange:()=>o(n)}),"Select to Delete (Multiple Deletion)"]}):(0,We.jsx)(We.Fragment,{})]})}function $g(e){let{allExData:n,setAllExData:r,defaultTags:i,scoresRet:s}=e;const[a,o]=(0,t.useState)("All"),[c,l]=(0,t.useState)("None"),[u,h]=(0,t.useState)("Anything"),[d,f]=(0,t.useState)(0),[p,m]=(0,t.useState)(i),[g,v]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[x,w]=(0,t.useState)(void 0),[_,k]=(0,t.useState)([]),[C,E]=(0,t.useState)(1),S=5*(C-1),T=_.slice(S,S+5),N=function(e,t){var r=p,i=a,s=d,o=c,l=u,h=g;"tags"===t?r=e:"diff"===t?i=e:"voices"===t?s=e:"types"===t?o=e:"meter"===t?l=e:"transpos"===t&&(h=e);var f=[...n];r.length>0&&(f=f.filter(function(e){return void 0!==e&&void 0!==r&&void 0!==e.tags&&r.every(t=>e.tags.includes(t))})),"All"!==i&&(f=f.filter(function(e){return void 0!==e&&i===String(e.difficulty)})),0!==s&&(f=f.filter(function(e){return void 0!==e&&s===e.voices})),"None"!==o&&(f=f.filter(function(e){return void 0!==e&&o===e.types})),"Anything"!==l&&(f=f.filter(function(e){return void 0!==e&&l===String(e.meter)})),!0===h&&(f=f.filter(function(e){return void 0!==e&&h===e.transpos})),f=f.sort(I),k(f)};(0,t.useEffect)(()=>{0===_.length&&(0!==p.length||"All"!==a||0!==d||"None"!==c||"Anything"!==u||g?p.length>0&&"All"===a&&0===d&&"None"===c&&"Anything"===u&&!g&&!b&&(N(p,"tags"),y(!0)):k(n.sort(I)))},[_.length,p,a,d,c,u,g,n,b,N]);const I=function(e,t){if(void 0===e||void 0===t)return 0;try{if(e.title.startsWith("Exercise ")&&t.title.startsWith("Exercise "))return e.title>t.title?1:e.title<t.title?-1:0;if(e.title.startsWith("Exercise "))return 1;if(t.title.startsWith("Exercise "))return-1;var n=e.tags.sort().length,r=t.tags.sort().length;if(n>r)return 1;if(n<r)return-1;if(Number(e.difficulty)>Number(t.difficulty))return 1;if(Number(e.difficulty)<Number(t.difficulty))return-1;{let n=e.title.split(":"),r=t.title.split(":");return Number(n[n.length-1])>Number(r[r.length-1])?1:Number(n[n.length-1])<Number(r[r.length-1])?-1:e.title>t.title?1:e.title<t.title?-1:0}}catch(i){return e.title>t.title?1:e.title<t.title?-1:0}},P=function(e){var t=n.find(t=>void 0!==t&&t.title===e.target.id?t:void 0),r=document.getElementById("next-btn"),i=document.getElementById("back-btn");_.indexOf(t)===_.length-1?null!==r&&"disabled"in r&&(r.disabled=!0,r.hidden=!1):null!==r&&"disabled"in r&&(r.disabled=!1,r.hidden=!1),0===_.indexOf(t)?null!==i&&"disabled"in i&&(i.disabled=!0,i.hidden=!1):null!==i&&"disabled"in i&&(i.disabled=!1,i.hidden=!1),w(t)},A=function(e){let t=e.target.value;p.includes(t)?(p.splice(p.indexOf(t),1),m([...p]),E(1),N([...p],"tags")):(m([...p,t]),E(1),N([...p,t],"tags"))};return(0,We.jsxs)("div",{style:{width:"90vw",marginTop:"10px"},children:[(0,We.jsx)("div",{children:(0,We.jsx)("h2",{children:"Welcome to the Exercises Page!"})}),(0,We.jsx)("h5",{style:{fontStyle:"italic"},children:"Sort by any of the given fields, then click an exercise to get started."}),(0,We.jsxs)("div",{style:{float:"left",width:"30%"},children:[(0,We.jsxs)("span",{children:[(0,We.jsxs)("div",{id:"boxes",style:{display:"inline-flex",padding:"4px"},children:[(0,We.jsxs)("form",{id:"tags",style:{display:"flex",alignItems:"center",marginRight:"20px"},children:[(0,We.jsx)("div",{style:{fontSize:"16px",marginRight:"8px"},children:"Tags:"}),(0,We.jsxs)("label",{style:{display:"flex",alignItems:"center",marginRight:"12px"},children:[(0,We.jsx)("input",{type:"checkbox",name:"tags",value:"Pitch",checked:p.includes("Pitch"),onChange:A,style:{marginRight:"4px"}}),"Pitch"]}),(0,We.jsxs)("label",{style:{display:"flex",alignItems:"center",marginRight:"12px"},children:[(0,We.jsx)("input",{type:"checkbox",name:"tags",value:"Intonation",checked:p.includes("Intonation"),onChange:A,style:{marginRight:"4px"}}),"Intonation"]}),(0,We.jsxs)("label",{style:{display:"flex",alignItems:"center"},children:[(0,We.jsx)("input",{type:"checkbox",name:"tags",value:"Rhythm",checked:p.includes("Rhythm"),onChange:A,style:{marginRight:"4px"}}),"Rhythm"]})]}),(0,We.jsxs)("form",{id:"transpos",style:{display:"flex",alignItems:"center",marginLeft:"-20px"},children:[(0,We.jsx)("input",{type:"checkbox",name:"transpos",value:"buh",checked:g,onChange:function(e){v(!g),E(1),N(!g,"transpos")},style:{marginRight:"4px"}}),(0,We.jsx)("div",{style:{fontSize:"16px",whiteSpace:"nowrap"},children:"Transposing Instruments"})]})]}),(0,We.jsxs)("div",{id:"dropdowns",style:{display:"inline-flex",padding:"4px"},children:[(0,We.jsxs)("form",{id:"difficulty",children:[(0,We.jsx)("div",{style:{fontSize:"16px",display:"inline"},children:"Difficulty:"}),(0,We.jsx)("br",{}),(0,We.jsxs)("select",{name:"difficulty",onChange:function(e){o(e.target.value),E(1),N(e.target.value,"diff")},children:[(0,We.jsx)("option",{value:"All",children:"All"}),(0,We.jsx)("option",{value:"1",children:"1"}),(0,We.jsx)("option",{value:"2",children:"2"}),(0,We.jsx)("option",{value:"3",children:"3"}),(0,We.jsx)("option",{value:"4",children:"4"}),(0,We.jsx)("option",{value:"5",children:"5"})]})]}),(0,We.jsxs)("form",{id:"voiceCt",children:["Voices:",(0,We.jsx)("br",{}),(0,We.jsxs)("select",{name:"voices",onChange:function(e){f(Number(e.target.value)),E(1),N(Number(e.target.value),"voices")},children:[(0,We.jsx)("option",{value:0,children:"Any"}),(0,We.jsx)("option",{value:1,children:"1"}),(0,We.jsx)("option",{value:2,children:"2"}),(0,We.jsx)("option",{value:3,children:"3"}),(0,We.jsx)("option",{value:4,children:"4"}),(0,We.jsx)("option",{value:5,children:"5"})]})]}),(0,We.jsxs)("form",{id:"meterForm",children:["Meter:",(0,We.jsx)("br",{}),(0,We.jsxs)("select",{name:"meter",defaultValue:c,onChange:function(e){h(e.target.value),E(1),N(e.target.value,"meter")},children:[(0,We.jsx)("option",{value:"Anything",children:"Anything"}),(0,We.jsx)("option",{value:"Simple",children:"Simple"}),(0,We.jsx)("option",{value:"Compound",children:"Compound"})]})]})]}),(0,We.jsxs)("div",{style:{display:"inline-flex",padding:"4px"},children:[(0,We.jsxs)("form",{id:"typesForm",children:["Textural Factors:",(0,We.jsx)("br",{}),(0,We.jsxs)("select",{name:"types",onChange:function(e){l(e.target.value),E(1),N(e.target.value,"types")},children:[(0,We.jsx)("option",{value:"None",children:"None"}),(0,We.jsx)("option",{value:"Drone",children:"Drone"}),(0,We.jsx)("option",{value:"Ensemble Parts",children:"Ensemble Parts"}),(0,We.jsx)("option",{value:"Both",children:"Drone & Ensemble Parts"})]})]}),(0,We.jsx)(Xg,{variant:"danger",onClick:function(){m([]),o("All");var e=document.getElementsByName("difficulty")[0];null!==e&&(e.options[0].selected=!0),f(0);var t=document.getElementsByName("voices")[0];null!==t&&(t.options[0].selected=!0),l("None");var n=document.getElementsByName("types")[0];null!==n&&(n.options[0].selected=!0),h("Anything");var r=document.getElementsByName("meter")[0];null!==r&&(r.options[0].selected=!0),v(!1)},style:{marginLeft:"8px"},children:"Reset Sort"})]})]}),T.map(function(e){return void 0!==e?(0,We.jsx)("div",{id:e.title,onClick:P,style:{margin:"8px",padding:"6px",cursor:"pointer",backgroundColor:"#fcfcd2",borderRadius:"2px"},children:e.title},e.title):(0,We.jsx)(We.Fragment,{})}),(0,We.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,We.jsx)(Xg,{onClick:()=>{C>1&&E(C-1)},disabled:1===C,style:{marginRight:"8px",fontSize:"2.5rem",background:"none",border:"none",color:1===C?"gray":"black",padding:"0 8px",fontWeight:"bold",lineHeight:"1"},children:"\u2039"}),(0,We.jsxs)("span",{children:[" Page ",C," of ",Math.ceil(_.length/5)," "]}),(0,We.jsx)(Xg,{onClick:()=>{C<Math.ceil(_.length/5)&&E(C+1)},disabled:C>=Math.ceil(_.length/5),style:{marginLeft:"8px",fontSize:"2.5rem",background:"none",border:"none",color:C>=Math.ceil(_.length/5)?"gray":"black",padding:"0 8px",fontWeight:"bold",lineHeight:"1"},children:"\u203a"})]}),0===_.length?s?(0,We.jsx)("div",{children:"No exercises with those criteria found!"}):(0,We.jsx)("div",{children:"Loading scores... this process should take 2-10 seconds. If nothing changes after 10 seconds, try sorting using the above criteria."}):(0,We.jsx)(We.Fragment,{})]}),(0,We.jsxs)("div",{style:{float:"right",width:"65%",marginRight:"2vw"},children:[void 0!==x?(0,We.jsx)("div",{children:(0,We.jsx)(Qg,{teacherMode:!1,ExData:x,allExData:n,setAllExData:r,exIndex:x.exIndex,handleSelectExercise:void 0,isSelected:void 0,fetch:void 0},x.exIndex)}):(0,We.jsx)(We.Fragment,{}),(0,We.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,We.jsx)("button",{className:"btnback",id:"back-btn",hidden:!0,disabled:!1,onClick:function(){var e=_.indexOf(x),t=document.getElementById("back-btn"),n=document.getElementById("next-btn");-1!==e?(w(_[e-1]),e-1>0?null!==t&&"disabled"in t&&(t.disabled=!1):null!==t&&"disabled"in t&&(t.disabled=!0)):(w(_[0]),null!==t&&"disabled"in t&&(t.disabled=!0)),_.length<2?null!==n&&"disabled"in n&&(n.disabled=!0):null!==n&&"disabled"in n&&(n.disabled=!1)},children:"Back"}),(0,We.jsx)("button",{className:"btnback",id:"next-btn",hidden:!0,disabled:!1,onClick:function(){var e=document.getElementById("back-btn"),t=document.getElementById("next-btn"),n=_.indexOf(x);w(_[n+1]),n+1>=_.length-1?null!==t&&"disabled"in t&&-1!==n&&(t.disabled=!0):null!==t&&"disabled"in t&&(t.disabled=!1),_.length<2||-1===n?null!==e&&"disabled"in e&&(e.disabled=!0):null!==e&&"disabled"in e&&(e.disabled=!1)},children:"Next"})]})]}),(0,We.jsx)("br",{})]})}function Jg(e){let{allExData:n,setAllExData:r,fetch:i,authorized:s}=e;const[a,o]=(0,t.useState)([]),[c,l]=(0,t.useState)("All"),[u,h]=(0,t.useState)("None"),[d,f]=(0,t.useState)("Anything"),[p,m]=(0,t.useState)(0),[g,v]=(0,t.useState)([]),[b,y]=(0,t.useState)(!1),[x,w]=(0,t.useState)([]),[_,k]=(0,t.useState)("");(0,t.useEffect)(()=>{0===x.length&&(0!==g.length||"All"!==c||0!==p||"None"!==u||"Anything"!==d||b||w(n.sort(E))),x.length>n.length&&w(n.sort(E))},[x.length,n,g.length,c,p,u,d,b]);const C=function(e,t){var r=g,i=c,s=p,a=u,o=d,l=b;"tags"===t?r=e:"diff"===t?i=e:"voices"===t?s=e:"types"===t?a=e:"meter"===t?o=e:"transpos"===t&&(l=e);var h=[...n];r.length>0&&(h=h.filter(function(e){return void 0!==e&&void 0!==r&&void 0!==e.tags&&r.every(t=>e.tags.includes(t))})),"All"!==i&&(h=h.filter(function(e){return void 0!==e&&i===String(e.difficulty)})),0!==s&&(h=h.filter(function(e){return void 0!==e&&s===e.voices})),"None"!==a&&(h=h.filter(function(e){return void 0!==e&&a===e.types})),"Anything"!==o&&(h=h.filter(function(e){return void 0!==e&&o===String(e.meter)})),!0===l&&(h=h.filter(function(e){return void 0!==e&&!0===e.transpos})),h=h.sort(E),w(h)},E=function(e,t){if(void 0===e||void 0===t)return 0;try{if(e.title.startsWith("Exercise ")&&t.title.startsWith("Exercise "))return e.title>t.title?1:e.title<t.title?-1:0;if(e.title.startsWith("Exercise "))return-1;if(t.title.startsWith("Exercise "))return 1;var n=e.tags.sort().length,r=t.tags.sort().length;if(n>r)return 1;if(n<r)return-1;if(Number(e.difficulty)>Number(t.difficulty))return 1;if(Number(e.difficulty)<Number(t.difficulty))return-1;{let n=e.title.split(":"),r=t.title.split(":");return Number(n[n.length-1])>Number(r[r.length-1])?1:Number(n[n.length-1])<Number(r[r.length-1])?-1:e.title>t.title?1:e.title<t.title?-1:0}}catch(i){return e.title>t.title?1:e.title<t.title?-1:0}},S=function(e,t){return void 0!==e&&void 0!==t?e.exIndex>t.exIndex?1:e.exIndex<t.exIndex?-1:0:0},T=function(e){let t=e.target.value;g.includes(t)?(g.splice(g.indexOf(t),1),v([...g]),C([...g],"tags")):(v([...g,t]),C([...g,t],"tags"))},N=e=>{const t=a.indexOf(e);if(-1===t)o([...a,e]);else{const e=[...a];e.splice(t,1),o(e)}};return(0,We.jsx)("div",{style:{width:"90vw"},children:s?(0,We.jsxs)("div",{children:[(0,We.jsx)("div",{children:(0,We.jsx)("h2",{style:{display:"inline"},children:"Welcome to the Exercise Management Page!"})}),(0,We.jsx)(Xg,{style:{display:"inline",float:"right",marginRight:"1vw"},onClick:function(){var e,t=n[n.sort(S).length-1];(e=new Xh("",void 0,[],"",void 0!==t?t.exIndex+1:0,!0,"Exercise "+(n.length+1),1,1,[],"None","Anything",!1,!0,_)).isNew=!0,r([e,...n]),w([e,...n])},children:"+"}),(0,We.jsx)("h5",{style:{marginTop:"8px",fontStyle:"italic"},children:"Click the + in the top right to add a new exercise, then edit as needed and save."}),(0,We.jsxs)("div",{children:[(0,We.jsx)("h5",{style:{marginLeft:"4px",marginBottom:"-20px"},children:"Sort By:"}),(0,We.jsx)("br",{}),(0,We.jsxs)("div",{id:"boxes",style:{display:"inline-flex",padding:"4px"},children:[(0,We.jsxs)("form",{id:"tags",style:{display:"flex",alignItems:"center",marginRight:"20px"},children:[(0,We.jsx)("div",{style:{fontSize:"16px",marginRight:"8px"},children:"Tags:"}),(0,We.jsxs)("label",{style:{display:"flex",alignItems:"center",marginRight:"12px"},children:[(0,We.jsx)("input",{type:"checkbox",name:"tags",value:"Pitch",checked:g.includes("Pitch"),onChange:T,style:{marginRight:"4px"}}),"Pitch"]}),(0,We.jsxs)("label",{style:{display:"flex",alignItems:"center"},children:[(0,We.jsx)("input",{type:"checkbox",name:"tags",value:"Intonation",checked:g.includes("Intonation"),onChange:T,style:{marginRight:"4px"}}),"Intonation"]}),(0,We.jsxs)("label",{style:{display:"flex",alignItems:"center",marginRight:"12px"},children:[(0,We.jsx)("input",{type:"checkbox",name:"tags",value:"Rhythm",checked:g.includes("Rhythm"),onChange:T,style:{marginRight:"4px"}}),"Rhythm"]})]}),(0,We.jsxs)("form",{id:"transpos",style:{display:"flex",alignItems:"center"},children:[(0,We.jsx)("input",{type:"checkbox",name:"transpos",value:"buh",checked:b,onChange:function(e){y(!b),C(!b,"transpos")},style:{marginRight:"8px"}}),(0,We.jsx)("div",{style:{fontSize:"16px"},children:"Transposing Instruments"})]})]}),(0,We.jsx)("br",{}),(0,We.jsxs)("div",{id:"dropdowns",style:{display:"inline-flex",padding:"4px"},children:[(0,We.jsxs)("form",{id:"difficulty",children:[(0,We.jsx)("div",{style:{fontSize:"16px",display:"inline"},children:"Difficulty:"}),(0,We.jsx)("br",{}),(0,We.jsxs)("select",{name:"difficulty",onChange:function(e){l(e.target.value),C(e.target.value,"diff")},children:[(0,We.jsx)("option",{value:"All",children:"All"}),(0,We.jsx)("option",{value:"1",children:"1"}),(0,We.jsx)("option",{value:"2",children:"2"}),(0,We.jsx)("option",{value:"3",children:"3"}),(0,We.jsx)("option",{value:"4",children:"4"}),(0,We.jsx)("option",{value:"5",children:"5"})]})]}),(0,We.jsxs)("form",{id:"voiceCt",children:["Voices:",(0,We.jsx)("br",{}),(0,We.jsxs)("select",{name:"voices",onChange:function(e){m(Number(e.target.value)),C(Number(e.target.value),"voices")},children:[(0,We.jsx)("option",{value:0,children:"Any"}),(0,We.jsx)("option",{value:1,children:"1"}),(0,We.jsx)("option",{value:2,children:"2"}),(0,We.jsx)("option",{value:3,children:"3"}),(0,We.jsx)("option",{value:4,children:"4"}),(0,We.jsx)("option",{value:5,children:"5"})]})]}),(0,We.jsxs)("form",{id:"meterForm",children:["Meter:",(0,We.jsx)("br",{}),(0,We.jsxs)("select",{name:"meter",defaultValue:u,onChange:function(e){f(e.target.value),C(e.target.value,"meter")},children:[(0,We.jsx)("option",{value:"Anything",children:"Anything"}),(0,We.jsx)("option",{value:"Simple",children:"Simple"}),(0,We.jsx)("option",{value:"Compound",children:"Compound"})]})]})]}),(0,We.jsxs)("div",{id:"secondLine",style:{display:"inline-flex",padding:"4px"},children:[(0,We.jsxs)("form",{id:"typesForm",children:["Textural Factors:",(0,We.jsx)("br",{}),(0,We.jsxs)("select",{name:"types",onChange:function(e){h(e.target.value),C(e.target.value,"types")},children:[(0,We.jsx)("option",{value:"None",children:"None"}),(0,We.jsx)("option",{value:"Drone",children:"Drone"}),(0,We.jsx)("option",{value:"Ensemble Parts",children:"Ensemble Parts"}),(0,We.jsx)("option",{value:"Both",children:"Drone & Ensemble Parts"})]})]}),(0,We.jsxs)("form",{id:"customIdForm",style:{marginLeft:"10px"},children:["Custom ID:",(0,We.jsx)("br",{}),(0,We.jsx)("input",{type:"text",value:_,onChange:e=>k(e.target.value),placeholder:"Enter custom ID"})]}),(0,We.jsx)(Xg,{variant:"danger",onClick:function(){v([]),l("All");var e=document.getElementsByName("difficulty")[0];null!==e&&(e.options[0].selected=!0),m(0);var t=document.getElementsByName("voices")[0];null!==t&&(t.options[0].selected=!0),h("None");var n=document.getElementsByName("types")[0];null!==n&&(n.options[0].selected=!0),f("Anything");var r=document.getElementsByName("meter")[0];null!==r&&(r.options[0].selected=!0),y(!1),x.sort(E)},style:{marginLeft:"10px"},children:"Reset Sort"}),(0,We.jsx)(Xg,{variant:"danger",onClick:()=>(async e=>{try{const t=Kh();await Promise.all(e.map(async e=>{const n=jh(t,"scores/".concat(e));(await zh(n)).exists()?await Bh(n):console.log("exercise"+e+" not found in the database")}));const i=n.filter(t=>!e.includes((null===t||void 0===t?void 0:t.exIndex)||-1));r(i),alert("selected exercises deleted!"),window.location.reload()}catch(za){console.error("error deleting exercises:",za),alert("error deleting exercises.")}})(a),style:{marginLeft:"10px",marginTop:"10px"},children:"Delete Selected Exercises"})]}),x.map(e=>e?(console.log("Rendering exercise:",e.exIndex,"isNew:",e.isNew),(0,We.jsx)(Qg,{teacherMode:!0,ExData:e,allExData:n,setAllExData:r,exIndex:e.exIndex,handleSelectExercise:N,isSelected:a.includes(e.exIndex),fetch:i},e.exIndex)):(0,We.jsx)("div",{},Math.random())),0===x.length?(0,We.jsx)("div",{children:"No exercises found! Maybe try adding one?"}):(0,We.jsx)(We.Fragment,{})]}),(0,We.jsx)("br",{})]}):(0,We.jsx)("div",{children:"Unauthorized access. See help page to enter admin password for access."})})}const Zg=function(){const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(!1),o=async()=>{if(!r){console.log("Retrieving scores...");try{const e=Kh(),t=[],r=await zh(function(e){let t=Yi(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const s of r)t=s._apply(t);return t}(jh(e,"scores"),new qh));r.forEach(e=>{const n=e.val();n&&n.sound&&t.push(new Xh(n.score,n.sound,n.correctAnswers,n.feedback,n.exIndex,n.empty,n.title,n.difficulty,n.voices,n.tags,n.types,n.meter,n.transpos,void 0,n.customId))}),n(t),i(!0),console.log("Loaded exercise list")}catch(za){console.error("Error fetching scores:",za)}}};return(0,t.useEffect)(()=>{o()},[e,n,r,i]),(0,We.jsx)(xe,{children:(0,We.jsxs)("div",{children:[(0,We.jsx)("header",{className:"App-header",children:(0,We.jsxs)(Cr,{className:"Home-bar",fixed:"top",children:[(0,We.jsx)(Cr.Brand,{children:(0,We.jsx)("img",{alt:"",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCCAYAAACKAxD9AAAABHNCSVQICAgIfAhkiAAADjpJREFUeJztnV9sE0cex7+z69g0jhvfFREpp0uTSFV5OFNXohJVkJK0SAHnStKHSge6U0NPlQBXhTwhKFJBqory5NA7E9Q+JFW5RKdKV0IPt0j8SU5YRQIdKe5LVDVxwzU6UHpyakyxE8/cg2OaOF5nZ//b2c8LMt6dmfj33d/8duY3M4CNjY2NjY2NjY2NjY2NjY2NjQ0HxOwG6EZryOuu2eAXwPxYZF5RIM9BgBcAQNFIBDQW3sIo4hAQX7omkaXsazhIgoJMpB48msB4b8LIP8FIKkYI1YGwXySkTaRoBeAvZmi1MIo4gImsgPEsY2MPI8EJreswi7IWQs2uM90OwrrAWDcRBK/R9TNKEyDk/CIjow++OHje6Pq1pOyE4O4caKti9HWzjC9FXhQLRPg4dfHAmNnt4aU8hNAa8npqXD0ixSE9XL7WMIp4VsDp5IP0ULnEFdYWQmvI69ngPCwK7JCVnn65MEoTWUpOJx9l+q0uCGsKocwFUEg5CMJyQvAEwj0iY6FKEEAhjNJElpDeZCQ4ZHZbCrGMEKoDYb+TkBAB2sxui94wYCzDWK+VXj8FsxsAAJ6O8AkXIbfXgwgAgABtLkJuezrCJ8xuSx5TPYKrY6DxCQcbXC8CKAYDxn5eJPvSlw7EzWyHaUKo2XWm2wE6WImxAC+M0sQihH1mDkqJZlTq6QifqBLJACFkgxn1Ww1CyAaR4A9VzQGS+S4yZkobjK7QGwgPEkJ6jK63XGCMDSUiwX1G12ucEFpDXm+N67P1HA/IhTE2kUhl2o0cczBGCK0hr9ftvEYI8RtSXwVgtBj0F4ItAsUYKQZ9hWCLQDVGicGhZ+HeatcgIVAkgiN7X1BcbzT2A67HZmVfv91Xjxbfb7jr6Ru+yX0PL4QQv7faNZgAXtW1Hr0KVvt28L9/HlBcd9/wLS4jHdn7Ao7s3cpdz69/P8B9j1L0fpvQZRzBEwj3iIScUFcKwTdTc0gvZNFQ51nz6pn7SURjs/jHv75DNPYDZu4nOWoC5lMZuJwi6n5VXfLa+VQaV/99d6ke+V5HLYQQf9Uzge8z30Z0mZ/Q3CNUB8J+FyG3tSyz1u3ChVO74WveWPT73UdHubqCUmz31eOT4ztR63at+m7kyiSOfRjFfCqtSV1KSDP2vB6TVdpOOrWGvE5GPtO0TOSewr7hW0W/i8ZmNRMBAFyPzWL30QtF6wmGrpoqAgBwMnYNrSHNh+U1FYK32jWoVyrZTxIGiE3NaV5XbGpuldsfGL2jeT1KIILg9Va7BrUuVzMh1Ow6000EdGtVnlzmUxldyi0U2F2OmENviIDuml1nNP2ttRFCa8jrANVcpWZSKDA9PI8aHKCDWnYRmgjB63ZWXGqZ1QxfCBEEr9ftDGlVnmohuDsH2ipxNlEqJrEShJAed+dAmxZlqRZCFdi7WjTERhlVjGriFVQJwRMI99jTyuZCCPF7AuEeteWoEoLIiO0NLIAWdlAsBE8g3FMOy8/WA0RAo1qvoFgIInBITcU22qLWHoqEsPSmYOcYWAhCiF/NG4QiIVQx+rrSCm30Q41d+IXQGvJW4rhBJUAI6VE62sgtBI/bafh8go18PDWuHiX3cQvBDhKtjciYou6BSwiujoFGO0i0NoQQv6tjoJH3Pi4hOEXaxluBjfEosRNXFrPISJd1dlRYia95I95/s0Wz8p50O1d8Pnd8J2JTPwLIZUnHpn40PVtJCpGRLgBDPPdwprPTNotsqbCKWrcTLb563coPbGtCYFvT0qdcxvPM/SQiX00jcmNa03Q59fB7BNlZzNWBsN8hCId5K9CKhjoP9uzYvOr/o7HZXFrZkqdKL2RRW+PEBqeuSzYA5JJqt26uw54dmx+37dv/JJBeyOpedykIIRuEZwKjC99G/iv3Htm/lkhIm6JWGcTMvSSOfRR9/NnXvBF/Pdwumfm81tqH7b56XDjVlSt76ckPvNiEhk3FU+sbNnnw/pst2N+1Bcc+jCJyY1rFX6OeJXvJznaW7edFxp5T0iCziE3N4a3+a5qUdXdJZP43zqH17U8xcmVS8tqGTR6cO74T5yRS4o2C117yO3xCGjnbYjp6ZTgHQ1fh//O5kgtcAtuaSq7F0B1Oe8kWgp2AspKZe0m8cnR0RXdUiK95o2li4LWXPCHosKDC6jwp062fHb2DYP9Vye9r3S7JlVN6wzOwJEsI7poNpo8mSq1fkLMuUgk8T/HI5cmSYsjHDUbjcMhPHJIlBEKZ6R5Bqr+XiuKNZuTypOSyPABo8dVjf9cWA1vEZze5QjDdIxjNck8jd2V13/DNkgHqkb1bDe0ieOxmzWFCDn6rU9ew3NPM3JO/3O2dEsFjrdtluFeQS1kJodjrml5dw/Lhap7X0Ov5kU4J9nf5TB1fkKKshCA1yaP169n2gjkL3g0xSq2crnW7EHixUUmzdKWshJCf/StE68mmXyaXct6Ad5YxcmO65D2dy8q3CmUlBKnx+8InWC2BF38xlNLtcSI34tLlb2sypHsQRTwt99qyEoLU06nlD7tnx7Mr4o6zF5RtkHHxq9KTTnpOmefJZvG93GvLSgiA9JOmVTS+fFu/aGyW641hOWt5EtPmICQoOyFITR3v7/KpHmV8/82WFd5AzT6K86l0yfEHrbsztZSdEGbuJYtOA9e6XfjkHeXDuHt2PLvCq4xcmVSddXS3hDfRa/xDKfKEIC6dl2wR+oZvFo0VfM0b8fmpLu544cjeFxA+/NLjzzP3kzj2ofTAkFxKCcmQoXEOu8kSAiWC7AKNYOZeEsFQ8aSTFl89xv/yGvbseHbNcgLbmvD5qa4Vu67Op9L403tfWjYxlQceu8kSAmPUcmcVRm5MS874NWzyIHz4JUz//Q3J+4/s3Ypzx3euiN7nU2nsPnpBs4SWmfs/lfxe7ziBx26yhGClY+mWM3J5Eq1vfyppOJ4uIhqbhf+Nv2ma1VQqRjACHrvJDhYZY5YUQ2xqDq1vf4pg/1VFRoxNzeGP732JV46OVkR3kIdRvrhOfs43I3Eo3HLfCEYuT2Lk8iQa6jwIbGuCr3kjGjZ5JAduorFZHPsoavlt9FTA9eDKFkKWsq8dArH8SuiZe0mcXTbpI7Xd//XYbCWLAFnKvua5XnbXQB3CGHdrbEyD116yhZC6eICrYJu1B430XCbHay+ukUUGcBW+3mnY9KQp9SqxE5cQsotsnLcCm+LoGZ8osROfEESYdnZxOVJqEkzPbf+V2IlLCA8jwQne99P1TKn5BL3iA0YRVzIAyD/7KNheQS6/a35K8jvdDgZTaB9uIWQY+1hJReuNWrdLcoh7PpXWLUZQah9uITyMBCesOtxsJUqlopXKZ1QDY2xC6byQosSULHBayX3riVIzi2vlMypFjV0UCSEZCQ4xar2paSsh5RFm7id12U2FUZpIRoJDSu9XnKqWpcT2ChI01Hkkk1NHLkvvtqIGtfZQLITko0y/7RWKs+fl1Zt+Abkg8awO50cyShPJR5l+NWUoT14d703YXqE4UmlyZ0djuuQ8ZCk5jfFeVQ+lqixm2yuspnCBTJ6Z+0lV6fFSaOENALXp7OO9iawgnFTbiEqh1u1asUBmOW+FpHdUUUNWEE6q9QaABusakhcP9tvjCjn2d20p6g36hm/pMqTMGJtIXjyo2hsAGi1wWSBCrxbllDPbffUr0uLzRG5M69IlANr+7poIIXXxwBgDNFGmUfhKzAPwl7URnxTZLCu3J6M2m34WwoB+LZOFNFvylniQPllOM5NarZ7O76VYWF5sag67j17Q5S2BUcQTD9KaxmbarX0c701kCHtVs/J0psVXr1oM+7u2YPyD11aVM3Ilt95Cr/T4DGGvahEgLkfTRbAPI8GJRcAy8cJaq6OVLqUPbGvC+AevrTofYj6VxrGPogjq9IYAAIuL7KQeC450OYbDu+vMZ0SAqanvtW4Xwr3tK7bBKUbf8C2cHb1T8umtdbvga34qd2aDxA7t0dgsgv1XFe+nIAdGcT7xxUFdvK4+57G0hrxet/Oakec/NdR5sOflzWio85Rc2CLFfCqNb4rs0bRWOdHYLPqGb+p+cAdjbCKRyrRr3SXk0e1gHlfHQOMTQvY2EQRDdm1dfr6C3sSm5hCNzeLshTurPAAlDAviAgBAoAIEJoARBgeVfUbKKhiliZ+p+Hz60oG4mnaXQrdjTtKXDsTFQLjdSek1I8Qwn8rolv6Vyyj6EbGpOXwzPVfS/ROW+9e5WIWk6yFEKsCVdUpevxaM0kSGkHY9RQDo6BHyVAfCfidjhojBKqTFBVRRBzJibiNxB3Uo8gh5ERixGt2QM9vWoxjUYqQIAIOEANhi4MFoEQAGbqb1MBKcyBDSXk6jj2bAKOJGiwAw0CM8xoRXy3JB71fEUhi/vd54byKRyrQzxoYMr9vCMMaGzBIBYIZHWIYnEO4RGQut57iBUZrIEtKrJgNZC0w/6bk6EPY7gcH12FUwxiYywD4rbFZmuhDyeDrCJxwO8q7Z7TCKxUV2MnkpeMLsduSxjBCApWFpBxus5DMmGTD28yLZp/dIIS+WEkIed+dAWxVlg0SQf1yd1WEU8QWB7LPqFkSWFEKeXDBJ3i1nQTCKeJawk2YHg2thaSHk8QTCPSIhr5dTl8GAsSxjH1tdAHnKQgh5lt4wDoGxbiu+cjJKEyDkfAY4bYU3AR7KSgjLqdl1pttBWJfZosgbf5GR0QdfHCzb3WTKVgjLcXcOtAmLtE10kFYjug8GjGUX2Th1CGNWDf54qQghFOLuHGgTwPwi8DQAPygalQScjCIOAXEAE1ngewoyUSmGL6QihVAKd+dA21rXVKqxbWxsbGxsbGxsbGxsbGxsbGxsbGy05f9vQbq+WDGYOgAAAABJRU5ErkJggg==",width:"60",height:"60",className:"d-inline-block align-top"})}),(0,We.jsxs)(ei,{className:"Home-nav",children:[(0,We.jsx)(ke,{to:"/exercises",style:{marginRight:"10px"},children:"Exercises"}),s?(0,We.jsx)(ke,{to:"/exercise-management",style:{marginRight:"10px"},children:"Exercise Management"}):(0,We.jsx)(We.Fragment,{})]}),(0,We.jsxs)("div",{style:{position:"absolute",right:"50%",transform:"translateX(50%)",textAlign:"center"},children:[(0,We.jsx)(Cr.Brand,{className:"Home-title",style:{color:"#114b96",display:"block",marginBottom:"5px"},children:"University of Delaware"}),(0,We.jsx)(Cr.Brand,{className:"Home-title",style:{color:"#114b96",display:"block"},children:"Aural Skills Error Detection Practice Site"})]}),(0,We.jsxs)(ei,{className:"Home-nav-right",children:[(0,We.jsx)(ke,{to:"/about",style:{marginLeft:"-225px"},children:"About"}),(0,We.jsx)(ke,{to:"/help",style:{marginLeft:"10px"},children:"Help"})]})]})}),(0,We.jsx)("div",{className:"pagediv",children:(0,We.jsxs)("div",{style:{overflowY:"scroll",margin:"10px"},children:[(0,We.jsx)(pe,{children:(0,We.jsx)(de,{path:"/",element:(0,We.jsx)($g,{allExData:e,setAllExData:n,defaultTags:[],scoresRet:r})})}),(0,We.jsx)(pe,{children:(0,We.jsx)(de,{path:"/exercises",element:(0,We.jsx)($g,{allExData:e,setAllExData:n,defaultTags:[],scoresRet:r})})}),(0,We.jsx)(pe,{children:(0,We.jsx)(de,{path:"/about",element:(0,We.jsx)(bm,{})})}),(0,We.jsx)(pe,{children:(0,We.jsx)(de,{path:"/exercises/intonation",element:(0,We.jsx)($g,{allExData:e,setAllExData:n,defaultTags:["Intonation"],scoresRet:r})})}),(0,We.jsx)(pe,{children:(0,We.jsx)(de,{path:"/exercises/pitch",element:(0,We.jsx)($g,{allExData:e,setAllExData:n,defaultTags:["Pitch"],scoresRet:r})})}),(0,We.jsx)(pe,{children:(0,We.jsx)(de,{path:"/exercise-management",element:(0,We.jsx)(Jg,{allExData:e,setAllExData:n,fetch:o,authorized:s})})}),(0,We.jsx)(pe,{children:(0,We.jsx)(de,{path:"/help",element:(0,We.jsx)(vm,{authorized:s,setAuthorized:a})})})]})})]})})},ev=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)})};i.createRoot(document.getElementById("root")).render((0,We.jsx)(Zg,{})),ev()})()})();
//# sourceMappingURL=main.39eb1afa.js.map